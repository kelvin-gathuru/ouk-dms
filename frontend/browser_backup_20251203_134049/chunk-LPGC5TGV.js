import{a as be}from"./chunk-GVGC473E.js";import{a as ie}from"./chunk-PM3ZOWUF.js";import{a as te}from"./chunk-XA5EPKK2.js";import{a as _e,b as xe,c as Re,d as Ee,e as Ne,f as ye,g as De,h as Me,i as Te,j as Ie,k as we,l as Oe,m as Be,n as He,o as ke,p as Ae}from"./chunk-O4QTDGQI.js";import{a as ee}from"./chunk-UCAGIDEK.js";import"./chunk-TC5US2P6.js";import"./chunk-WFK47GYZ.js";import{a as he}from"./chunk-L52YSXRC.js";import{a as $}from"./chunk-6GBRFDEJ.js";import{a as Se,b as Ce}from"./chunk-GE3TJVIQ.js";import{a as G}from"./chunk-ZXWR2MAY.js";import"./chunk-G4LST2RF.js";import"./chunk-FWRBVAV4.js";import"./chunk-NH2LHIRZ.js";import"./chunk-DTECNCC4.js";import"./chunk-2FSKRITI.js";import"./chunk-TQCCWZBZ.js";import"./chunk-QPRQJRAS.js";import{c as W}from"./chunk-756DJ4VK.js";import"./chunk-JYYDN77K.js";import"./chunk-BQ4MMRNN.js";import"./chunk-JSAPTJHL.js";import"./chunk-UFOTACYY.js";import{a as V,b as Q,e as U}from"./chunk-THB5JDTQ.js";import{a as j,b as F}from"./chunk-4E37NPLR.js";import{ta as fe,ua as ve,va as A}from"./chunk-56QOWAU7.js";import"./chunk-77WXBMFN.js";import"./chunk-XFBX5CPU.js";import"./chunk-C3OPHOKD.js";import"./chunk-KYSGX4IW.js";import"./chunk-LCPYESOB.js";import{e as ue,h as H,k}from"./chunk-BFSIXXTJ.js";import{a as Le}from"./chunk-DGFNMOMG.js";import{$ as E,$a as w,Ab as se,Ca as u,Da as f,Db as l,Dc as de,Eb as m,Fb as B,Gc as ge,Ia as d,Ja as a,Ka as n,La as g,Pa as b,Pc as P,Qa as _,Rc as z,W as i,Wa as L,_a as I,ab as O,d as D,ga as M,h as R,jb as r,ka as T,kb as C,lb as c,ma as S,rc as ce,vb as v,zb as N}from"./chunk-KZMFGXDY.js";import{Da as re,Pa as le,Ya as me,_b as Z,fa as ne,gb as pe,la as ae,o as y}from"./chunk-W3TJXGK4.js";import"./chunk-H5HZ6YB3.js";var x=class e{constructor(o,t){this.httpClient=o;this.commonHttpErrorService=t}getNLogs(o){let t="NLog",p=new de().set("Fields",o.fields??"").set("OrderBy",o.orderBy).set("PageSize",o.pageSize.toString()).set("Skip",o.skip.toString()).set("SearchQuery",o.searchQuery??"").set("message",o?.message?.toString()??"");return this.httpClient.get(t,{params:p,observe:"response"})}getLogDetails(o){let t=`NLog/${o}`;return this.httpClient.get(t).pipe(re(this.commonHttpErrorService.handleError))}static \u0275fac=function(t){return new(t||e)(R(ge),R(Le))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})};var q=class e{constructor(o){this.nLogService=o}resolve(o,t){let p=o.paramMap.get("id");return this.nLogService.getLogDetails(p??"")}static \u0275fac=function(t){return new(t||e)(R(x))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})};var Qe=()=>["/logs"];function Ue(e,o){if(e&1&&(a(0,"div",16)(1,"label",17),r(2),l(3,"translate"),n(),a(4,"div",18),g(5,"textarea",19),n()()),e&2){let t=L();i(2),c(" ",m(3,3,"MESSAGE")," "),i(3),d("value",v(t.log.message))}}function We(e,o){if(e&1&&(a(0,"div",16)(1,"label",17),r(2),l(3,"translate"),n(),a(4,"div",18),g(5,"textarea",19),n()()),e&2){let t=L();i(2),c(" ",m(3,3,"LOGGER")," "),i(3),d("value",v(t.log.logger))}}function qe(e,o){if(e&1&&(a(0,"div",16)(1,"label",17),r(2),l(3,"translate"),n(),a(4,"div",18),g(5,"textarea",19),n()()),e&2){let t=L();i(2),c(" ",m(3,3,"PROPERTIES")," "),i(3),d("value",v(t.log.properties))}}function Xe(e,o){if(e&1&&(a(0,"div",16)(1,"label",17),r(2),l(3,"translate"),n(),a(4,"div",18),g(5,"textarea",19),n()()),e&2){let t=L();i(2),c(" ",m(3,3,"CALLSITE")," "),i(3),d("value",v(t.log.callsite))}}function Je(e,o){if(e&1&&(a(0,"div",20)(1,"label",17),r(2),l(3,"translate"),n(),a(4,"div",18),g(5,"textarea",21),n()()),e&2){let t=L();i(2),c(" ",m(3,3,"EXCEPTION")," "),i(3),d("value",v(t.log.exception))}}var X=class e extends G{constructor(t){super();this.activeRoute=t}log;ngOnInit(){this.sub$.sink=this.activeRoute.data.subscribe(t=>{t.log&&(this.log=t.log)})}static \u0275fac=function(p){return new(p||e)(E(ue))};static \u0275cmp=M({type:e,selectors:[["app-n-log-detail"]],features:[T],decls:37,vars:26,consts:[[1,"content"],[1,"container-fluid"],[1,"d-flex","mb-2"],[1,"me-auto"],[1,"mb-0","page-title"],[3,"code"],[1,"d-flex","justify-content-end"],["matButton","filled",1,"success","me-2",3,"routerLink"],[1,"medium-icon","fs-5","align-middle"],["appearance","outlined"],[1,"row"],[1,"col-md-12"],[1,"row","my-2"],["for","staticEmail",1,"col-sm-2","col-form-label","font-weight-bold"],[1,"col-sm-4"],["readonly","",1,"form-control"],[1,"form-group","row","my-2"],["for","inputPassword",1,"col-sm-2","col-form-label","font-weight-bold"],[1,"col-sm-10"],["type","text","readonly","",1,"form-control",3,"value"],[1,"form-group","row"],["type","text","rows","20","readonly","",1,"form-control",3,"value"]],template:function(p,s){p&1&&(a(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),r(5),l(6,"translate"),g(7,"app-page-help-text",5),n()(),a(8,"div",6)(9,"button",7)(10,"mat-icon",8),r(11,"arrow_back"),n(),r(12),l(13,"translate"),n()()(),a(14,"mat-card",9)(15,"mat-card-content")(16,"div",10)(17,"div",11)(18,"div",12)(19,"label",13),r(20),l(21,"translate"),n(),a(22,"div",14)(23,"span",15),r(24),l(25,"utcToLocalTime"),n()()(),a(26,"div",16)(27,"label",17),r(28),l(29,"translate"),n(),a(30,"div",18),g(31,"input",19),n()(),u(32,Ue,6,5,"div",16),u(33,We,6,5,"div",16),u(34,qe,6,5,"div",16),u(35,Xe,6,5,"div",16),u(36,Je,6,5,"div",20),n()()()()()()),p&2&&(i(5),c("",m(6,14,"LOG_DETAIL")," "),i(2),d("code","ERROR_LOGS"),i(2),d("routerLink",N(25,Qe)),i(3),c(" ",m(13,16,"BACK_TO_LIST")," "),i(8),c(" ",m(21,18,"DATE_TIME")," "),i(4),C(B(25,20,s.log.logged,"full")),i(4),c(" ",m(29,23,"LEVEL")," "),i(3),d("value",v(s.log.level)),i(),f(s.log.message?32:-1),i(),f(s.log.logger?33:-1),i(),f(s.log.properties?34:-1),i(),f(s.log.callsite?35:-1),i(),f(s.log&&s.log.exception?36:-1))},dependencies:[W,z,k,H,A,fe,U,V,Q,F,j,P,$],styles:[".form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#fff!important}"]})};var J=class extends be{message=""};var K=class{constructor(o){this.nLogService=o}nLogSubject=new y([]);responseHeaderSubject=new y({});loadingSubject=new y(!1);loading$=this.loadingSubject.asObservable();_count=0;get count(){return this._count}responseHeaderSubject$=this.responseHeaderSubject.asObservable();connect(){return this.nLogSubject.asObservable()}disconnect(){this.nLogSubject.complete(),this.loadingSubject.complete()}loadNLogs(o){this.loadingSubject.next(!0),this.nLogService.getNLogs(o).pipe(pe(()=>this.loadingSubject.next(!1))).subscribe(t=>{let p=JSON.parse(t.headers.get("X-Pagination")??"{}");this.responseHeaderSubject.next(p);let s=[...t.body??[]];this._count=s.length,this.nLogSubject.next(s)})}};var Ke=["input"],Ye=()=>["footer"],Ze=e=>["/logs",e],et=()=>[10,20,30];function tt(e,o){e&1&&(a(0,"th",32),r(1),l(2,"translate"),n()),e&2&&(i(),c(" ",m(2,1,"ACTION")," "))}function it(e,o){if(e&1&&(a(0,"td",33)(1,"button",34)(2,"mat-icon",35),r(3,"info"),n()()()),e&2){let t=o.$implicit;i(),d("routerLink",se(1,Ze,t.id))}}function ot(e,o){e&1&&(a(0,"th",36),r(1),l(2,"translate"),n()),e&2&&(i(),c(" ",m(2,1,"DATE_TIME")," "))}function nt(e,o){if(e&1&&(a(0,"td",37),r(1),l(2,"utcToLocalTime"),n()),e&2){let t=o.$implicit;i(),c(" ",B(2,1,t==null?null:t.logged,"full")," ")}}function at(e,o){e&1&&(a(0,"th",38),r(1),l(2,"translate"),n()),e&2&&(i(),c(" ",m(2,1,"LEVEL")," "))}function rt(e,o){e&1&&(a(0,"span",40),r(1),l(2,"translate"),n()),e&2&&(i(),C(m(2,1,"LEVEL_FATAL")))}function lt(e,o){e&1&&(a(0,"span",40),r(1),l(2,"translate"),n()),e&2&&(i(),C(m(2,1,"LEVEL_ERROR")))}function mt(e,o){e&1&&(a(0,"span",41),r(1),l(2,"translate"),n()),e&2&&(i(),C(m(2,1,"LEVEL_WARN")))}function pt(e,o){e&1&&(a(0,"span",42),r(1),l(2,"translate"),n()),e&2&&(i(),C(m(2,1,"LEVEL_DEFAULT")))}function st(e,o){if(e&1&&(a(0,"td",39),u(1,rt,3,3,"span",40)(2,lt,3,3,"span",40)(3,mt,3,3,"span",41)(4,pt,3,3,"span",42),n()),e&2){let t,p=o.$implicit;i(),f((t=p==null?null:p.level)==="Fatal"?1:t==="Error"?2:t==="Warn"?3:4)}}function ct(e,o){e&1&&(a(0,"th",43),r(1),l(2,"translate"),n()),e&2&&(i(),c(" ",m(2,1,"MESSAGE")," "))}function dt(e,o){if(e&1&&(a(0,"td",44),r(1),n()),e&2){let t=o.$implicit;i(),c(" ",t.message," ")}}function gt(e,o){if(e&1&&(a(0,"td",45),g(1,"mat-paginator",46),n()),e&2){let t=L();i(),d("length",t.nLogResource.totalCount)("pageSize",t.nLogResource.pageSize)("pageSizeOptions",N(3,et))}}function ut(e,o){e&1&&(a(0,"tr")(1,"td",47)(2,"div",48)(3,"b"),r(4),l(5,"translate"),n()()()()),e&2&&(i(4),c(" ",m(5,1,"NO_DATA_FOUND")))}function ft(e,o){e&1&&g(0,"tr",49)}function vt(e,o){e&1&&g(0,"tr",50)}function Lt(e,o){e&1&&g(0,"tr",51)}function St(e,o){e&1&&(a(0,"div",31),g(1,"mat-progress-spinner",52),n())}var Y=class e extends G{constructor(t,p){super();this.nLogService=t;this.breakpointsService=p;this.nLogResource=new J,this.nLogResource.pageSize=10,this.nLogResource.orderBy="logged desc"}dataSource;logs=[];displayedColumns=["action","logged","level","message"];isLoadingResults=!0;nLogResource;loading$;paginator;sort;input;footerToDisplayed=["footer"];ngOnInit(){this.dataSource=new K(this.nLogService),this.dataSource.loadNLogs(this.nLogResource),this.getResourceParameter()}ngAfterViewInit(){this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),this.sub$.sink=ae(this.sort.sortChange,this.paginator.page).pipe(Z(t=>{this.nLogResource.skip=this.paginator.pageIndex*this.paginator.pageSize,this.nLogResource.pageSize=this.paginator.pageSize,this.nLogResource.orderBy=this.sort.active+" "+this.sort.direction,this.dataSource.loadNLogs(this.nLogResource)})).subscribe(),this.sub$.sink=ne(this.input.nativeElement,"keyup").pipe(le(1e3),me(),Z(()=>{this.paginator.pageIndex=0,this.nLogResource.message=this.input.nativeElement.value,this.dataSource.loadNLogs(this.nLogResource)})).subscribe()}getResourceParameter(){this.sub$.sink=this.dataSource.responseHeaderSubject$.subscribe(t=>{t&&(this.nLogResource.pageSize=t.pageSize,this.nLogResource.skip=t.skip,this.nLogResource.totalCount=t.totalCount)})}static \u0275fac=function(p){return new(p||e)(E(x),E(he))};static \u0275cmp=M({type:e,selectors:[["app-n-log-list"]],viewQuery:function(p,s){if(p&1&&(I(te,5),I(ie,5),I(Ke,5)),p&2){let h;w(h=O())&&(s.paginator=h.first),w(h=O())&&(s.sort=h.first),w(h=O())&&(s.input=h.first)}},features:[T],decls:37,vars:18,consts:[["input",""],[1,"content"],[1,"container-fluid"],[1,"d-flex","mb-2"],[1,"me-auto"],[1,"mb-0","page-title"],[3,"code"],["appearance","outlined"],[1,"d-flex"],[1,"form-control",3,"placeholder"],[1,"table-responsive","mt-2"],[1,"grid-height-medium"],["mat-table","","matSortDisableClear","","matSort","","matSortActive","logged","matSortDirection","desc",1,"w-100",3,"dataSource"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","mat-cell","",4,"matCellDef"],["matColumnDef","logged"],["class","table-column-200","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","table-column-200","mat-cell","",4,"matCellDef"],["matColumnDef","level"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","message"],["class","table-column-500","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","table-column-500","mat-cell","",4,"matCellDef"],["matColumnDef","footer"],["mat-footer-cell","","colspan","5",4,"matFooterCellDef"],[4,"matNoDataRow"],["class","grid-header-color","mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef","matFooterRowDefSticky"],[1,"spinner-container"],["mat-header-cell",""],["mat-cell","","mat-cell",""],["matMiniFab","","type","button",1,"primary","mr-3",3,"routerLink"],[1,"medium-icon","fs-5","align-middle"],["mat-header-cell","","mat-sort-header","",1,"table-column-200"],["mat-cell","",1,"table-column-200"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"badge","bg-danger"],[1,"badge","bg-warning"],[1,"badge","bg-primary"],["mat-header-cell","","mat-sort-header","",1,"table-column-500"],["mat-cell","",1,"table-column-500"],["mat-footer-cell","","colspan","5"],[3,"length","pageSize","pageSizeOptions"],["colspan","5"],[1,"m-2"],["mat-header-row","",1,"grid-header-color"],["mat-row",""],["mat-footer-row",""],["mode","indeterminate","diameter","60","strokeWidth","5"]],template:function(p,s){p&1&&(a(0,"section",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"span",5),r(5),l(6,"translate"),g(7,"app-page-help-text",6),n()()(),a(8,"mat-card",7)(9,"mat-card-content")(10,"div",8),g(11,"input",9,0),l(13,"translate"),n(),a(14,"div",10)(15,"div",11)(16,"table",12),b(17,13),S(18,tt,3,3,"th",14)(19,it,4,3,"td",15),_(),b(20,16),S(21,ot,3,3,"th",17)(22,nt,3,4,"td",18),_(),b(23,19),S(24,at,3,3,"th",20)(25,st,5,1,"td",21),_(),b(26,22),S(27,ct,3,3,"th",23)(28,dt,2,1,"td",24),_(),b(29,25),S(30,gt,2,4,"td",26),_(),S(31,ut,6,3,"tr",27)(32,ft,1,0,"tr",28)(33,vt,1,0,"tr",29)(34,Lt,1,0,"tr",30),n()()()()()()(),u(35,St,2,0,"div",31),l(36,"async")),p&2&&(i(5),c("",m(6,11,"ERROR_LOGS")," "),i(2),d("code","ERROR_LOGS"),i(4),d("placeholder",v(m(13,13,"SEARCH_BY_MESSAGE"))),i(5),d("dataSource",s.dataSource),i(16),d("matHeaderRowDef",s.displayedColumns)("matHeaderRowDefSticky",!0),i(),d("matRowDefColumns",s.displayedColumns),i(),d("matFooterRowDef",N(17,Ye))("matFooterRowDefSticky",!0),i(),f(m(36,15,s.dataSource.loading$)?35:-1))},dependencies:[te,ie,Ae,_e,Re,Te,Ne,xe,we,Ee,Ie,ye,Me,De,Oe,He,Be,ke,W,z,k,H,U,V,Q,A,ve,F,j,Ce,Se,P,$,ce],styles:[".badge[_ngcontent-%COMP%]{font-weight:400;padding:.5em .6em}"]})};var vi=[{path:"",component:Y,data:{claimType:"VIEW_ERROR_LOGS"},canActivate:[ee]},{path:":id",component:X,canActivate:[ee],data:{claimType:"VIEW_ERROR_LOGS"},resolve:{log:q}}];export{vi as NLOG_ROUTES};
