import{a as Vt}from"./chunk-Q64ABPSN.js";import{a as ve}from"./chunk-7OSTZELI.js";import{a as Kt}from"./chunk-56BWV474.js";import"./chunk-GVGC473E.js";import{a as Ie}from"./chunk-PM3ZOWUF.js";import{a as Fe}from"./chunk-XA5EPKK2.js";import{a as vt,b as Rt,c as gt,d as yt,e as St,f as xt,g as Et,h as Dt,i as Tt,j as bt,k as Ft,l as It,m as Mt,n as At,o as kt,p as wt}from"./chunk-O4QTDGQI.js";import{a as jt,b as $t,c as Pt,d as Ht,e as Yt,f as Qt}from"./chunk-UIYGQSTF.js";import{a as Gt,b as Wt,c as zt,d as Jt}from"./chunk-KBYUC6BL.js";import"./chunk-7UZYWCAJ.js";import{a as Bt,b as Nt}from"./chunk-6QK67EK5.js";import{a as Lt,b as qt,c as Ut}from"./chunk-NAYIGTW2.js";import"./chunk-ZL3HBFEV.js";import{a as Ot}from"./chunk-LTSUZ232.js";import{a as me}from"./chunk-UCAGIDEK.js";import{a as Je,b as Ke,c as Xe,d as Ze}from"./chunk-ZBV2IVBM.js";import"./chunk-PT2JM3JA.js";import"./chunk-4U6IWAJM.js";import"./chunk-73AGG5TT.js";import{a as ht}from"./chunk-D6HICPES.js";import"./chunk-TC5US2P6.js";import"./chunk-WFK47GYZ.js";import"./chunk-OHUA35YV.js";import{a as et}from"./chunk-6GBRFDEJ.js";import{a as oe,b as le}from"./chunk-GE3TJVIQ.js";import{a as re}from"./chunk-ZXWR2MAY.js";import"./chunk-G4LST2RF.js";import"./chunk-NJY6F3LT.js";import{a as he,b as Ct,c as Ce}from"./chunk-FWRBVAV4.js";import"./chunk-NH2LHIRZ.js";import"./chunk-DTECNCC4.js";import"./chunk-2FSKRITI.js";import{d as fe}from"./chunk-TQCCWZBZ.js";import"./chunk-QPRQJRAS.js";import{c as _e}from"./chunk-756DJ4VK.js";import{a as it}from"./chunk-JYYDN77K.js";import{d as Ge,f as We}from"./chunk-BQ4MMRNN.js";import{b as ae}from"./chunk-JSAPTJHL.js";import{a as tt,b as P}from"./chunk-UFOTACYY.js";import{a as pe,b as ce,e as ue}from"./chunk-THB5JDTQ.js";import{a as ee,b as te}from"./chunk-4E37NPLR.js";import{ta as X,ua as ze,va as Z}from"./chunk-56QOWAU7.js";import"./chunk-77WXBMFN.js";import"./chunk-XFBX5CPU.js";import"./chunk-C3OPHOKD.js";import{C as ut,D as _t,E as ft,c as de,e as U,h as se,i as nt,n as rt,o as at,r as ot,s as lt,t as mt,u as dt,v as st,w as pt,x as ct}from"./chunk-KYSGX4IW.js";import"./chunk-LCPYESOB.js";import{e as Qe,g as z,h as J,k as K}from"./chunk-BFSIXXTJ.js";import"./chunk-DGFNMOMG.js";import{$ as M,$a as Te,Ab as He,Ca as R,Da as g,Db as d,Eb as s,Fa as w,Fb as H,Ga as A,Ha as k,Ia as u,Ja as r,Ka as a,La as _,Pa as x,Pc as ie,Qa as E,Rc as ne,Sa as B,Ua as F,W as i,Wa as h,_a as De,ab as be,d as je,eb as I,ga as Q,h as Ee,i as $e,ja as Pe,jb as m,ka as G,kb as D,lb as c,ma as S,mb as W,p as T,pb as O,q as b,qb as j,rb as $,rc as Ye,vb as N,zb as q}from"./chunk-KZMFGXDY.js";import{J as xe,Pa as Le,Ra as qe,Ya as Ue,_ as Be,_b as Oe,b as ke,gb as Ve,la as Ne,n as we,o as Y}from"./chunk-W3TJXGK4.js";import{a as Ae}from"./chunk-H5HZ6YB3.js";var ci=()=>["/reminders"];function ui(t,l){t&1&&(r(0,"div",17),m(1),d(2,"translate"),a()),t&2&&(i(),c(" ",s(2,1,"SUBJECT_IS_REQUIRED")," "))}function _i(t,l){t&1&&(r(0,"div",17),m(1),d(2,"translate"),a()),t&2&&(i(),c(" ",s(2,1,"MESSAGE_IS_REQUIRED")," "))}function fi(t,l){if(t&1&&(r(0,"span"),m(1),a()),t&2){let e=h();i(),W("",e.selectedUsers[0].firstName," ",e.selectedUsers[0].lastName)}}function hi(t,l){if(t&1&&(r(0,"span",26),m(1),a()),t&2){let e=h();i(),W(" (+",e.selectedUsers.length-1," ",e.selectedUsers.length===2?"other":"others",") ")}}function Ci(t,l){if(t&1&&(r(0,"mat-option",27),m(1),a()),t&2){let e=l.$implicit;u("value",e),i(),W(" ",e.firstName," ",e.lastName," ")}}function vi(t,l){if(t&1&&(r(0,"option",39),m(1),d(2,"translate"),a()),t&2){let e=l.$implicit;u("value",e==null?null:e.id),i(),c(" ",s(2,2,e==null||e.name==null?null:e.name.toUpperCase())," ")}}function Ri(t,l){t&1&&(r(0,"div",17),m(1),d(2,"translate"),a()),t&2&&(i(),c(" ",s(2,1,"FREQUENCY_IS_REQUIRED")," "))}function gi(t,l){if(t&1){let e=B();r(0,"div",10)(1,"div",35)(2,"label",36),m(3),d(4,"translate"),r(5,"sup"),m(6,"*"),a()(),r(7,"select",37),F("change",function(){T(e);let n=h();return b(n.onFrequencyChange())}),r(8,"option",38),m(9),d(10,"translate"),a(),A(11,vi,3,4,"option",39,w),a(),R(13,Ri,3,3,"div",17),a()()}if(t&2){let e,o=h();i(3),c("",s(4,3,"FREQUENCY")," "),i(6),c("--",s(10,5,"NONE"),"--"),i(2),k(o.reminderFrequencies),i(2),g(!((e=o.reminderForm.get("frequency"))==null||e.errors==null)&&e.errors.required?13:-1)}}function yi(t,l){if(t&1&&(r(0,"div",45),x(1,46),r(2,"mat-checkbox",47),m(3),d(4,"translate"),a(),E(),a()),t&2){let e,o=l.$implicit,n=l.$index;i(),u("formGroupName",n),i(2),c(" ",s(4,2,(e=o.get("name"))==null||e.value==null?null:e.value.toUpperCase())," ")}}function Si(t,l){if(t&1&&(r(0,"div",41)(1,"label",43),m(2),d(3,"translate"),a(),r(4,"div",44),A(5,yi,5,4,"div",45,w),a()()),t&2){let e=h(2);i(2),D(s(3,1,"WEEK_DAYS")),i(3),k(e.dailyRemindersArray.controls)}}function xi(t,l){if(t&1&&(r(0,"mat-radio-button",51),m(1),d(2,"translate"),a()),t&2){let e=l.$implicit;u("value",e.id),i(),c(" ",s(2,2,e.name)," ")}}function Ei(t,l){if(t&1&&(r(0,"div",42)(1,"label",48),m(2),d(3,"translate"),a(),r(4,"div",49)(5,"mat-radio-group",50),A(6,xi,3,4,"mat-radio-button",51,w),a()()()),t&2){let e=h(2);i(2),D(s(3,1,"WEEK_DAYS")),i(4),k(e.dayOfWeek)}}function Di(t,l){if(t&1&&(r(0,"option",39),m(1),d(2,"translate"),a()),t&2){let e=l.$implicit;u("value",e.id),i(),c(" ",s(2,2,e.name)," ")}}function Ti(t,l){if(t&1&&(r(0,"option",39),m(1),a()),t&2){let e=l.$implicit;u("value",e),i(),D(e)}}function bi(t,l){t&1&&(r(0,"div",17),m(1),d(2,"translate"),a()),t&2&&(i(),c(" ",s(2,1,"PLEASE_SELECT_VALID_DAY")," "))}function Fi(t,l){if(t&1){let e=B();r(0,"tr"),x(1,46),r(2,"td"),m(3),d(4,"translate"),a(),r(5,"td")(6,"select",56),F("change",function(){let n=T(e).$implicit,p=h(3);return b(p.onDateChange(n))}),A(7,Di,3,4,"option",39,w),a()(),r(9,"td")(10,"select",57),F("change",function(){let n=T(e).$implicit,p=h(3);return b(p.onDateChange(n))}),A(11,Ti,2,2,"option",39,w),a(),R(13,bi,3,3,"div",17),a(),E(),a()}if(t&2){let e,o,n,p=l.$implicit,C=l.$index,f=h(3);i(),u("formGroupName",C),i(2),c(" ",s(4,3,(e=p.get("name"))==null?null:e.value)," "),i(4),k((o=p.get("monthValues"))==null?null:o.value),i(4),k(f.days),i(2),g((n=p.get("day"))!=null&&n.touched&&(p!=null&&p.hasError("invalidDate"))?13:-1)}}function Ii(t,l){if(t&1&&(r(0,"div",42)(1,"label",52),m(2),d(3,"translate"),a(),r(4,"div",53)(5,"table",54)(6,"thead")(7,"tr"),_(8,"th"),r(9,"th"),m(10),d(11,"translate"),a(),r(12,"th"),m(13),d(14,"translate"),a()()(),r(15,"tbody",55),A(16,Fi,14,5,"tr",null,w),a()()()()),t&2){let e=h(2);i(2),D(s(3,3,"SELECT_QUARTER_DATE")),i(8),D(s(11,5,"MONTH")),i(3),D(s(14,7,"DAY")),i(3),k(e.quarterlyRemindersArray.controls)}}function Mi(t,l){if(t&1&&(r(0,"option",39),m(1),d(2,"translate"),a()),t&2){let e=l.$implicit;u("value",e.id),i(),c(" ",s(2,2,e.name)," ")}}function Ai(t,l){if(t&1&&(r(0,"option",39),m(1),a()),t&2){let e=l.$implicit;u("value",e),i(),D(e)}}function ki(t,l){t&1&&(r(0,"div",17),m(1),d(2,"translate"),a()),t&2&&(i(),c(" ",s(2,1,"PLEASE_SELECT_VALID_DAY")," "))}function wi(t,l){if(t&1){let e=B();r(0,"tr"),x(1,46),r(2,"td"),m(3),d(4,"translate"),a(),r(5,"td")(6,"select",56),F("change",function(){let n=T(e).$implicit,p=h(3);return b(p.onDateChange(n))}),A(7,Mi,3,4,"option",39,w),a()(),r(9,"td")(10,"select",57),F("change",function(){let n=T(e).$implicit,p=h(3);return b(p.onDateChange(n))}),A(11,Ai,2,2,"option",39,w),a(),R(13,ki,3,3,"div",17),a(),E(),a()}if(t&2){let e,o,n,p=l.$implicit,C=l.$index,f=h(3);i(),u("formGroupName",C),i(2),c(" ",s(4,3,(e=p.get("name"))==null?null:e.value)," "),i(4),k((o=p.get("monthValues"))==null?null:o.value),i(4),k(f.days),i(2),g((n=p.get("day"))!=null&&n.touched&&(p!=null&&p.hasError("invalidDate"))?13:-1)}}function Bi(t,l){if(t&1&&(r(0,"div",42)(1,"label",58),m(2),d(3,"translate"),a(),r(4,"div",59)(5,"table",54)(6,"thead")(7,"tr"),_(8,"th"),r(9,"th"),m(10),d(11,"translate"),a(),r(12,"th"),m(13),d(14,"translate"),a()()(),r(15,"tbody",60),A(16,wi,14,5,"tr",null,w),a()()()()),t&2){let e=h(2);i(2),D(s(3,3,"SELECT_DATE")),i(8),D(s(11,5,"MONTH")),i(3),D(s(14,7,"DAY")),i(3),k(e.halfYearlyRemindersArray.controls)}}function Ni(t,l){if(t&1&&(r(0,"div",28)(1,"div",40),R(2,Si,7,3,"div",41),R(3,Ei,8,3,"div",42),R(4,Ii,18,9,"div",42),R(5,Bi,18,9,"div",42),a()()),t&2){let e,o,n,p,C=h();i(2),g(((e=C.reminderForm.get("frequency"))==null?null:e.value)=="0"?2:-1),i(),g(((o=C.reminderForm.get("frequency"))==null?null:o.value)=="1"?3:-1),i(),g(((n=C.reminderForm.get("frequency"))==null?null:n.value)=="3"?4:-1),i(),g(((p=C.reminderForm.get("frequency"))==null?null:p.value)=="4"?5:-1)}}function Li(t,l){t&1&&(r(0,"div",17),m(1),d(2,"translate"),a()),t&2&&(i(),c(" ",s(2,1,"DATE_IS_REQUIRED")," "))}function qi(t,l){t&1&&(r(0,"div",17),m(1),d(2,"translate"),a()),t&2&&(i(),c(" ",s(2,1,"START_DATE_SHOULD_BE_GREATER_THEN_CURRENT_DATE_TIME")," "))}function Ui(t,l){t&1&&(r(0,"div",17),m(1),d(2,"translate"),a()),t&2&&(i(),c(" ",s(2,1,"TIME_IS_REQUIRED")," "))}function Vi(t,l){if(t&1){let e=B();r(0,"div",28)(1,"div",61)(2,"label",62),m(3),d(4,"translate"),a(),r(5,"div",63),_(6,"input",64,0),d(8,"translate"),r(9,"div",65)(10,"button",66),F("click",function(){T(e);let n=I(14);return b(n.open())}),r(11,"mat-icon",31),m(12,"calendar_today"),a()()(),_(13,"mat-datepicker",null,1),a(),R(15,Li,3,3,"div",17),R(16,qi,3,3,"div",17),a(),r(17,"div",35)(18,"label",67),m(19),d(20,"translate"),a(),r(21,"div",63),_(22,"input",68),r(23,"div",65)(24,"button",69),F("click",function(){T(e);let n=I(28);return b(n.open())}),r(25,"mat-icon",31),m(26,"access_time"),a()()(),_(27,"ngx-material-timepicker",null,2),a(),R(29,Ui,3,3,"div",17),a()()}if(t&2){let e,o,n,p=I(14),C=I(28),f=h();i(3),D(s(4,11,"REMINDER_DATE")),i(3),u("placeholder",N(s(8,13,"REMINDER_DATE")))("matDatepicker",p),i(9),g((e=f.reminderForm.get("startDate"))!=null&&e.touched&&(!((e=f.reminderForm.get("startDate"))==null||e.errors==null)&&e.errors.required)?15:-1),i(),g((o=f.reminderForm.get("startDate"))!=null&&o.touched&&(!((o=f.reminderForm.get("startDate"))==null||o.errors==null)&&o.errors.owlDateTimeMin)?16:-1),i(3),D(s(20,15,"REMINDER_TIME")),i(3),u("format",24)("ngxTimepicker",C)("disableClick",!0),i(7),g((n=f.reminderForm.get("startTime"))!=null&&n.touched&&(!((n=f.reminderForm.get("startTime"))==null||n.errors==null)&&n.errors.required)?29:-1)}}function Oi(t,l){t&1&&(r(0,"div",17),m(1),d(2,"translate"),a()),t&2&&(i(),c(" ",s(2,1,"START_DATE_IS_REQUIRED")," "))}function ji(t,l){t&1&&(r(0,"div",17),m(1),d(2,"translate"),a()),t&2&&(i(),c(" ",s(2,1,"START_DATE_SHOULD_BE_GREATER_THEN_CURRENT_DATE_TIME")," "))}function $i(t,l){if(t&1&&(R(0,Oi,3,3,"div",17),R(1,ji,3,3,"div",17)),t&2){let e,o,n=h(2);g(!((e=n.reminderForm.get("startDate"))==null||e.errors==null)&&e.errors.required?0:-1),i(),g(!((o=n.reminderForm.get("startDate"))==null||o.errors==null)&&o.errors.owlDateTimeMin?1:-1)}}function Pi(t,l){t&1&&(r(0,"div",17),m(1),d(2,"translate"),a()),t&2&&(i(),c(" ",s(2,1,"TIME_IS_REQUIRED")," "))}function Hi(t,l){t&1&&(r(0,"div",17),m(1),d(2,"translate"),a()),t&2&&(i(),c(" ",s(2,1,"ENDTIME_IS_REQUIRED")," "))}function Yi(t,l){if(t&1){let e=B();r(0,"div",28)(1,"div",35)(2,"label",70),m(3),d(4,"translate"),a(),r(5,"div",63),_(6,"input",64,0),d(8,"translate"),r(9,"div",65)(10,"button",66),F("click",function(){T(e);let n=I(14);return b(n.open())}),r(11,"mat-icon",31),m(12,"calendar_today"),a()()(),_(13,"mat-datepicker",null,1),a(),R(15,$i,2,2),a(),r(16,"div",35)(17,"label",67),m(18),d(19,"translate"),a(),r(20,"div",63),_(21,"input",68),r(22,"div",65)(23,"button",69),F("click",function(){T(e);let n=I(27);return b(n.open())}),r(24,"mat-icon",31),m(25,"access_time"),a()()(),_(26,"ngx-material-timepicker",null,2),a(),R(28,Pi,3,3,"div",17),a(),r(29,"div",35)(30,"label",71),m(31),d(32,"translate"),a(),r(33,"div",63),_(34,"input",72,0),d(36,"translate"),r(37,"div",65)(38,"button",66),F("click",function(){T(e);let n=I(42);return b(n.open())}),r(39,"mat-icon",31),m(40,"calendar_today"),a()()(),_(41,"mat-datepicker",null,3),a()(),r(43,"div",35)(44,"label",73),m(45),d(46,"translate"),a(),r(47,"div",63),_(48,"input",74),r(49,"div",65)(50,"button",69),F("click",function(){T(e);let n=I(54);return b(n.open())}),r(51,"mat-icon",31),m(52,"access_time"),a()()()(),_(53,"ngx-material-timepicker",null,4),R(55,Hi,3,3,"div",17),a()()}if(t&2){let e,o,n,p=I(14),C=I(27),f=I(42),L=I(54),v=h();i(3),c("",s(4,19,"REMINDER_START_DATE")," "),i(3),u("placeholder",N(s(8,21,"REMINDER_DATE")))("matDatepicker",p),i(9),g((e=v.reminderForm.get("startDate"))!=null&&e.touched&&((e=v.reminderForm.get("startDate"))!=null&&e.errors)?15:-1),i(3),c("",s(19,23,"REMINDER_TIME")," "),i(3),u("format",24)("ngxTimepicker",C)("disableClick",!0),i(7),g((o=v.reminderForm.get("startTime"))!=null&&o.touched&&(!((o=v.reminderForm.get("startTime"))==null||o.errors==null)&&o.errors.required)?28:-1),i(3),D(s(32,25,"REMINDER_END_DATE")),i(3),u("placeholder",N(s(36,27,"REMINDER_DATE")))("matDatepicker",f),i(11),D(s(46,29,"REMINDER_END_TIME")),i(3),u("format",24)("ngxTimepicker",L)("disableClick",!0),i(7),g((n=v.reminderForm.get("endDate"))!=null&&n.touched&&(!((n=v.reminderForm.get("endTime"))==null||n.errors==null)&&n.errors.required)?55:-1)}}function Qi(t,l){t&1&&(r(0,"div",34),_(1,"mat-progress-spinner",75),a())}var V=class t extends re{constructor(e,o,n,p,C,f){super();this.fb=e;this.reminderService=o;this.commonService=n;this.toastrService=p;this.route=C;this.activatedRoute=f}reminderFrequencies=[];reminderForm;minDate=new Date;usersStore=$e(Vt);selectedUsers=[];reminder;isLoading=!1;dayOfWeek=Yt;months=Qt;days=[];timepickerTheme={container:{bodyBackgroundColor:"#000",buttonColor:"#000"},dial:{dialBackgroundColor:"#000"},clockFace:{clockFaceBackgroundColor:"#000",clockHandColor:"#000",clockFaceTimeInactiveColor:"#000",clockFaceTimeActiveColor:"#000"}};get dailyRemindersArray(){return this.reminderForm.get("dailyReminders")}get quarterlyRemindersArray(){return this.reminderForm.get("quarterlyReminders")}get halfYearlyRemindersArray(){return this.reminderForm.get("halfYearlyReminders")}ngOnInit(){for(let e=1;e<=31;e++)this.days.push(e);if(this.getReminderFrequency(),this.createReminderForm(),this.sub$.sink=this.activatedRoute.data.subscribe(e=>{if(e&&e.reminder){this.reminder=Ae({},e.reminder),this.reminderForm.patchValue(this.reminder),this.onFrequencyChange(),this.reminderForm.patchValue(this.reminder);let o=this.reminderForm.get("isRepeated");if(o&&o.value){let n=this.reminderForm.get("frequency");n&&n.setValidators([U.required])}}}),this.reminder){let e=this.reminder.reminderUsers.map(o=>o.userId);this.selectedUsers=this.usersStore.users().filter(o=>e.indexOf(o.id??"")>=0)}}getReminderFrequency(){this.sub$.sink=this.commonService.getReminderFrequency().subscribe(e=>this.reminderFrequencies=[...e])}createReminderForm(){var e=new Date;this.reminderForm=this.fb.group({id:[""],subject:["",[U.required]],message:["",[U.required]],frequency:[""],isRepeated:[!1],isEmailNotification:[!1],startDate:[e,[U.required]],startTime:["12:00",[U.required]],endDate:[null],endTime:[null],dayOfWeek:[2],documentId:[null]},{validators:this.dateAndTimeValidator})}dateAndTimeValidator(e){let o=e.get("endDate")?.value,n=e.get("endTime")?.value;return o&&!n?e.get("endTime")?.setErrors({required:!0}):e.get("endTime")?.setErrors(null),null}checkData(e){e.checked?this.reminderForm.get("frequency")?.setValidators([U.required]):this.reminderForm.get("frequency")?.setValidators([]),this.reminderForm.get("frequency")?.updateValueAndValidity(),this.reminderForm.markAllAsTouched()}createReminder(){if(!this.reminderForm.valid){this.reminderForm.markAllAsTouched();return}let e=new Date(this.reminderForm.get("startDate")?.value),o=this.reminderForm.get("startTime")?.value,[n,p]=o.split(":"),C=new Date(e.getFullYear(),e.getMonth(),e.getDate(),n,p),f=this.reminderForm.get("endDate")?.value,L;if(f){f=new Date(f);let y=this.reminderForm.get("endTime")?.value;if(y&&typeof y=="string"&&y.includes(":")){let[ei,ti]=y.split(":").map(Number);L=new Date(f.getFullYear(),f.getMonth(),f.getDate(),ei,ti)}}let v=this.reminderForm.value;v.startDate=C,v.endDate=L,v.reminderUsers=this.selectedUsers.map(y=>({reminderId:v.id??"",userId:y.id??""})),v.isRepeated||(v.dailyReminders=[],v.quarterlyReminders=[],v.halfYearlyReminders=[]),this.reminder?(v.dailyReminders&&(v.dailyReminders=v.dailyReminders.map(y=>(y.reminderId=this.reminder.id??"",y))),v.quarterlyReminders&&(v.quarterlyReminders=v.quarterlyReminders.map(y=>(y.reminderId=this.reminder.id??"",y))),v.halfYearlyReminders&&(v.halfYearlyReminders=v.halfYearlyReminders.map(y=>(y.reminderId=this.reminder.id??"",y))),this.isLoading=!0,this.sub$.sink=this.reminderService.updateReminder(v).subscribe({next:y=>{this.toastrService.success(this.translationService.getValue("REMINDER_UPDATED_SUCCESSFULLY")),this.route.navigate(["/reminders"]),this.isLoading=!1},error:()=>{this.isLoading=!1}})):(this.isLoading=!0,this.sub$.sink=this.reminderService.addReminder(v).subscribe({next:y=>{this.toastrService.success(this.translationService.getValue("REMINDER_CREATED_SUCCESSFULLY")),this.route.navigate(["/reminders"]),this.isLoading=!1},error:()=>{this.isLoading=!1}}))}onFrequencyChange(){let e=this.reminderForm.get("frequency")?.value;e=e==0?"0":e,e==0 .toString()?(this.removeQuarterlyReminders(),this.removeHalfYearlyReminders(),this.addDailReminders(),this.reminderForm.get("dayOfWeek")?.setValue("")):e==1 .toString()?(this.removeDailReminders(),this.removeQuarterlyReminders(),this.removeHalfYearlyReminders(),this.reminderForm.get("dayOfWeek")?.setValue(new Date().getDay())):e==3 .toString()?(this.removeDailReminders(),this.removeHalfYearlyReminders(),this.addQuarterlyReminders(),this.reminderForm.get("dayOfWeek")?.setValue("")):e==4 .toString()?(this.removeDailReminders(),this.removeQuarterlyReminders(),this.addHalfYearlyReminders(),this.reminderForm.get("dayOfWeek")?.setValue("")):(this.removeDailReminders(),this.removeQuarterlyReminders(),this.removeHalfYearlyReminders(),this.reminderForm.get("dayOfWeek")?.setValue(""))}addDailReminders(){if(!this.reminderForm.contains("dailyReminders")){var e=this.fb.array([]);e.push(this.createDailyReminderFormGroup(0)),e.push(this.createDailyReminderFormGroup(1)),e.push(this.createDailyReminderFormGroup(2)),e.push(this.createDailyReminderFormGroup(3)),e.push(this.createDailyReminderFormGroup(4)),e.push(this.createDailyReminderFormGroup(5)),e.push(this.createDailyReminderFormGroup(6)),this.reminderForm.addControl("dailyReminders",e)}}addQuarterlyReminders(){if(!this.reminderForm.contains("quarterlyReminders")){var e=this.fb.array([]),o=this.months.filter(f=>[1,2,3].indexOf(f.id)>=0),n=this.months.filter(f=>[4,5,6].indexOf(f.id)>=0),p=this.months.filter(f=>[7,8,9].indexOf(f.id)>=0),C=this.months.filter(f=>[10,11,12].indexOf(f.id)>=0);e.push(this.createQuarterlyReminderFormGroup(0,"JAN_MAR",o)),e.push(this.createQuarterlyReminderFormGroup(1,"APR_JUN",n)),e.push(this.createQuarterlyReminderFormGroup(2,"JUL_SEPT",p)),e.push(this.createQuarterlyReminderFormGroup(3,"OCT_DEC",C)),this.reminderForm.addControl("quarterlyReminders",e)}}addHalfYearlyReminders(){if(!this.reminderForm.contains("halfYearlyReminders")){var e=this.fb.array([]),o=this.months.filter(p=>[1,2,3,4,5,6].indexOf(p.id)>=0),n=this.months.filter(p=>[7,8,9,10,11,12].indexOf(p.id)>=0);e.push(this.createHalfYearlyReminderFormGroup(0,"JAN_JUN",o)),e.push(this.createHalfYearlyReminderFormGroup(1,"JUL_DEC",n)),this.reminderForm.addControl("halfYearlyReminders",e)}}removeDailReminders(){this.reminderForm.contains("dailyReminders")&&this.reminderForm.removeControl("dailyReminders")}removeQuarterlyReminders(){this.reminderForm.contains("quarterlyReminders")&&this.reminderForm.removeControl("quarterlyReminders")}removeHalfYearlyReminders(){this.reminderForm.contains("halfYearlyReminders")&&this.reminderForm.removeControl("halfYearlyReminders")}createDailyReminderFormGroup(e){return this.fb.group({id:[""],reminderId:[""],dayOfWeek:[e],isActive:[!0],name:[Ht[e]]})}createQuarterlyReminderFormGroup(e,o,n){return this.fb.group({id:[""],reminderId:[""],quarter:[e],day:[this.getCurrentDay()],month:[n[0].id],name:[o],monthValues:[n]})}createHalfYearlyReminderFormGroup(e,o,n){return this.fb.group({id:[""],reminderId:[""],quarter:[e],day:[this.getCurrentDay()],month:[n[0].id],name:[o],monthValues:[n]})}getCurrentDay(){return new Date().getDate()}onDateChange(e){let o=e.get("day")?.value,n=e.get("month")?.value;var p=new Date(new Date().getFullYear(),Number.parseInt(n),0).getDate();o>p&&(e.setErrors({invalidDate:"Invalid Date"}),e.markAllAsTouched())}static \u0275fac=function(o){return new(o||t)(M(ut),M(ve),M(P),M(ae),M(z),M(Qe))};static \u0275cmp=Q({type:t,selectors:[["app-add-reminder"]],features:[G],decls:63,vars:39,consts:[["ref",""],["startDatePicker",""],["toggleIcon",""],["endDatePicker",""],["endTimeToggleIcon",""],[1,"content"],[1,"d-flex","mb-2"],[1,"me-auto"],[1,"mb-0","page-title"],[3,"code"],[1,"row"],[1,"col-sm-12"],[3,"formGroup"],["appearance","outlined"],[1,"form-group","col-md-12"],["for","subject",1,"form-label","text-danger"],["formControlName","subject","type","text","id","subject",1,"form-control"],[1,"text-danger"],["for","message",1,"form-label","text-danger"],["formControlName","message","id","message","cols","30",1,"form-control"],[1,"row","mt-4"],[1,"col-md-2"],["color","primary","formControlName","isRepeated",3,"change"],["color","primary","formControlName","isEmailNotification"],[1,"col-md-4"],["panelClass","mat-select-control","multiple","",1,"form-control",3,"valueChange","placeholder","value"],[1,"example-additional-selection"],["color","primary",3,"value"],[1,"row","my-2"],[1,"mt-4","col-md-12"],["type","submit","matButton","filled",1,"success","me-2",3,"click"],[1,"medium-icon","fs-5","align-middle"],["type","button","matButton","filled",1,"error",3,"routerLink"],[1,"medium-icon","align-middle"],[1,"spinner-container"],[1,"form-group","col-md-6"],["for","frequency",1,"form-label","text-danger"],["formControlName","frequency","id","frequency",1,"form-control",3,"change"],["value",""],[3,"value"],[1,"col-md-12"],[1,"form-group"],[1,"form-group","my-2"],["for","weekDays"],["id","weekDays",1,"row"],["formArrayName","dailyReminders",1,"col-sm-auto","mr-1"],[3,"formGroupName"],["color","primary","formControlName","isActive",1,"mr-1"],["for","weekDay"],["id","weekDay"],["formControlName","dayOfWeek"],["color","primary",1,"mr-2",3,"value"],["for","Quarterly"],["id","Quarterly",1,"row"],[1,"table"],["formArrayName","quarterlyReminders"],["formControlName","month",1,"form-control",3,"change"],["formControlName","day",1,"form-control",3,"change"],["for","HalfYearly"],["id","HalfYearly",1,"row"],["formArrayName","halfYearlyReminders"],[1,"col-md-6"],["for","frequency"],[1,"input-group"],["formControlName","startDate",1,"form-control",3,"matDatepicker","placeholder"],[1,"input-group-append"],["type","button",1,"btn","btn-primary","calendar-button",3,"click"],["for","startTime"],["formControlName","startTime","readonly","",1,"form-control","timepicker-input",3,"format","ngxTimepicker","disableClick"],["ngxMaterialTimepickerToggleIcon","","type","button",1,"btn","btn-primary","calendar-button",3,"click"],["for","startDate"],["for","endDate"],["formControlName","endDate",1,"form-control",3,"matDatepicker","placeholder"],["for","endTime"],["formControlName","endTime","readonly","",1,"form-control","timepicker-input",3,"format","ngxTimepicker","disableClick"],["mode","indeterminate","diameter","60","strokeWidth","5"]],template:function(o,n){if(o&1&&(r(0,"section",5)(1,"div",6)(2,"div",7)(3,"span",8),m(4),d(5,"translate"),_(6,"app-page-help-text",9),a()()(),r(7,"div",10)(8,"div",11)(9,"form",12)(10,"mat-card",13)(11,"mat-card-content")(12,"div",10)(13,"div",14)(14,"label",15),m(15),d(16,"translate"),r(17,"sup"),m(18,"*"),a()(),_(19,"input",16),R(20,ui,3,3,"div",17),a()(),r(21,"div",10)(22,"div",14)(23,"label",18),m(24),d(25,"translate"),r(26,"sup"),m(27,"*"),a()(),_(28,"textarea",19),R(29,_i,3,3,"div",17),a()(),r(30,"div",20)(31,"div",21)(32,"mat-checkbox",22),F("change",function(C){return n.checkData(C)}),m(33),d(34,"translate"),a()(),r(35,"div",21)(36,"mat-checkbox",23),m(37),d(38,"translate"),a()(),r(39,"div",24)(40,"mat-select",25),d(41,"translate"),$("valueChange",function(C){return j(n.selectedUsers,C)||(n.selectedUsers=C),C}),r(42,"mat-select-trigger"),R(43,fi,2,2,"span"),R(44,hi,2,2,"span",26),a(),A(45,Ci,2,3,"mat-option",27,w),a()()(),R(47,gi,14,7,"div",10),R(48,Ni,6,4,"div",28),R(49,Vi,30,17,"div",28),R(50,Yi,56,31,"div",28),r(51,"div",29)(52,"button",30),F("click",function(){return n.createReminder()}),r(53,"mat-icon",31),m(54,"save"),a(),m(55),d(56,"translate"),a(),r(57,"button",32)(58,"mat-icon",33),m(59,"cancel"),a(),m(60),d(61,"translate"),a()()()()()()()(),R(62,Qi,2,0,"div",34)),o&2){let p,C,f,L,v,y;i(4),c("",s(5,22,"MANAGE_REMINDER")," "),i(2),u("code","ADD_REMINDER"),i(3),u("formGroup",n.reminderForm),i(6),c("",s(16,24,"SUBJECT")," "),i(5),g((p=n.reminderForm.get("subject"))!=null&&p.touched&&(!((p=n.reminderForm.get("subject"))==null||p.errors==null)&&p.errors.required)?20:-1),i(4),c("",s(25,26,"MESSAGE")," "),i(5),g((C=n.reminderForm.get("message"))!=null&&C.touched&&(!((C=n.reminderForm.get("message"))==null||C.errors==null)&&C.errors.required)?29:-1),i(4),c(" ",s(34,28,"REPEATE_REMINDER")," "),i(4),c(" ",s(38,30,"SEND_EMAIL")," "),i(3),u("placeholder",N(s(41,32,"SELECT_USERS"))),O("value",n.selectedUsers),i(3),g(n.selectedUsers.length>0?43:-1),i(),g(n.selectedUsers.length>1?44:-1),i(),k(n.usersStore.users()),i(2),g((f=n.reminderForm.get("isRepeated"))!=null&&f.value?47:-1),i(),g((L=n.reminderForm.get("isRepeated"))!=null&&L.value?48:-1),i(),g((v=n.reminderForm.get("isRepeated"))!=null&&v.value?-1:49),i(),g((y=n.reminderForm.get("isRepeated"))!=null&&y.value?50:-1),i(5),c(" ",s(56,34,"SAVE")," "),i(2),u("routerLink",q(38,ci)),i(3),c(" ",s(61,36,"CANCEL")," "),i(2),g(n.isLoading?62:-1)}},dependencies:[_e,ft,at,pt,ct,de,st,se,nt,ot,dt,lt,mt,Nt,Bt,Ce,he,Ct,fe,Pt,jt,$t,ne,Jt,Gt,zt,Wt,Ut,Lt,qt,K,J,te,ee,Z,X,ue,pe,ce,le,oe,ie],styles:[".timepicker-container[_ngcontent-%COMP%]{display:flex;align-items:center}.timepicker-input[_ngcontent-%COMP%]{flex:1}.timepicker-toggle[_ngcontent-%COMP%]{display:flex;align-items:center}"]})};var Re=class{constructor(l){this.reminderService=l}_reminderSubject$=new Y([]);_responseHeaderSubject$=new Y({});loadingSubject=new Y(!1);loading$=this.loadingSubject.asObservable();_count=0;sub$;get count(){return this._count}responseHeaderSubject$=this._responseHeaderSubject$.asObservable();connect(){return this.sub$=new ke,this._reminderSubject$.asObservable()}disconnect(){this._reminderSubject$.complete(),this.loadingSubject.complete(),this.sub$.unsubscribe()}loadData(l){this.loadingSubject.next(!0),this.sub$=this.reminderService.getReminders(l).pipe(Ve(()=>this.loadingSubject.next(!1))).subscribe(e=>{if(e&&e.headers.get("X-Pagination")){let o=JSON.parse(e.headers.get("X-Pagination")??"{}");this._responseHeaderSubject$.next(o)}if(e){let o=[...e.body??[]];this._count=o.length,this._reminderSubject$.next(o)}})}};var ge=class t{transform(l,...e){let o=tt.find(n=>n.id==l);return o?o.name.toUpperCase():""}static \u0275fac=function(e){return new(e||t)};static \u0275pipe=Pe({name:"frequency",type:t,pure:!0})};var Gi=()=>["action-search","date-search","enddate-search","subject-search","message-search","frequency-search","document-search"],Wi=()=>["/reminders/add"],zi=()=>["EDIT_REMINDER","DELETE_REMINDER"],Ji=t=>["/reminders/manage/",t],Ki=()=>[10,20,30],Xi=(t,l)=>l==null?null:l.id;function Zi(t,l){t&1&&(r(0,"button",38)(1,"mat-icon",39),m(2,"add"),a(),r(3,"span",40),m(4),d(5,"translate"),a()()),t&2&&(u("routerLink",q(4,Wi)),i(4),D(s(5,2,"ADD_REMINDER")))}function en(t,l){t&1&&_(0,"th",41)}function tn(t,l){if(t&1&&(r(0,"button",46)(1,"mat-icon"),m(2,"more_vert"),a()()),t&2){h();let e=I(3);u("matMenuTriggerFor",e)}}function nn(t,l){if(t&1&&(r(0,"button",47)(1,"mat-icon"),m(2,"edit"),a(),r(3,"span"),m(4),d(5,"translate"),a()()),t&2){let e=h().$implicit;u("routerLink",He(4,Ji,e.id)),i(4),D(s(5,2,"EDIT"))}}function rn(t,l){if(t&1){let e=B();r(0,"button",48),F("click",function(){T(e);let n=h().$implicit,p=h();return b(p.deleteReminder(n))}),r(1,"mat-icon"),m(2,"delete"),a(),r(3,"span"),m(4),d(5,"translate"),a()()}t&2&&(i(4),D(s(5,1,"DELETE")))}function an(t,l){t&1&&(r(0,"td",42),S(1,tn,3,1,"button",43),r(2,"mat-menu",null,0),S(4,nn,6,6,"button",44)(5,rn,6,3,"button",45),a()()),t&2&&(i(),u("hasClaim",q(3,zi)),i(3),u("hasClaim","EDIT_REMINDER"),i(),u("hasClaim","DELETE_REMINDER"))}function on(t,l){t&1&&(r(0,"th",49),m(1),d(2,"translate"),a()),t&2&&(i(),c(" ",s(2,1,"START_DATE")," "))}function ln(t,l){if(t&1&&(r(0,"td",42),m(1),d(2,"utcToLocalTime"),a()),t&2){let e=l.$implicit;i(),c(" ",H(2,1,e.startDate,"full")," ")}}function mn(t,l){t&1&&(r(0,"th",49),m(1),d(2,"translate"),a()),t&2&&(i(),c(" ",s(2,1,"END_DATE")," "))}function dn(t,l){if(t&1&&(r(0,"td",42),m(1),d(2,"utcToLocalTime"),a()),t&2){let e=l.$implicit;i(),c(" ",H(2,1,e.endDate,"full")," ")}}function sn(t,l){t&1&&(r(0,"th",49),m(1),d(2,"translate"),a()),t&2&&(i(),c(" ",s(2,1,"SUBJECT")," "))}function pn(t,l){if(t&1&&(r(0,"td",42),m(1),d(2,"limitTo"),a()),t&2){let e=l.$implicit;i(),c(" ",H(2,1,e.subject,"100")," ")}}function cn(t,l){t&1&&(r(0,"th",49),m(1),d(2,"translate"),a()),t&2&&(i(),c(" ",s(2,1,"MESSAGE")," "))}function un(t,l){if(t&1&&(r(0,"td",42),m(1),d(2,"limitTo"),a()),t&2){let e=l.$implicit;i(),c(" ",H(2,1,e.message,"150")," ")}}function _n(t,l){t&1&&(r(0,"th",49),m(1),d(2,"translate"),a()),t&2&&(i(),c(" ",s(2,1,"FREQUENCY")," "))}function fn(t,l){if(t&1&&(r(0,"td",42),m(1),d(2,"frequency"),d(3,"translate"),a()),t&2){let e=l.$implicit;i(),c(" ",s(3,3,s(2,1,e.frequency))," ")}}function hn(t,l){t&1&&(r(0,"th",49),m(1),d(2,"translate"),a()),t&2&&(i(),c(" ",s(2,1,"DOCUMENT")," "))}function Cn(t,l){if(t&1&&(r(0,"td",42),m(1),a()),t&2){let e=l.$implicit;i(),c(" ",e.documentName," ")}}function vn(t,l){t&1&&_(0,"th",41)}function Rn(t,l){t&1&&_(0,"th",41)}function gn(t,l){t&1&&_(0,"th",41)}function yn(t,l){if(t&1){let e=B();r(0,"th",41)(1,"input",50),d(2,"translate"),$("ngModelChange",function(n){T(e);let p=h();return j(p.SubjectFilter,n)||(p.SubjectFilter=n),b(n)}),a()()}if(t&2){let e=h();i(),u("placeholder",N(s(2,3,"SUBJECT"))),O("ngModel",e.SubjectFilter)}}function Sn(t,l){if(t&1){let e=B();r(0,"th",41)(1,"input",51),d(2,"translate"),$("ngModelChange",function(n){T(e);let p=h();return j(p.MessageFilter,n)||(p.MessageFilter=n),b(n)}),a()()}if(t&2){let e=h();i(),u("placeholder",N(s(2,3,"MESSAGE"))),O("ngModel",e.MessageFilter)}}function xn(t,l){if(t&1&&(r(0,"mat-option",53),m(1),d(2,"translate"),a()),t&2){let e=l.$implicit;u("value",e==null?null:e.id),i(),c(" ",s(2,2,e==null||e.name==null?null:e.name.toUpperCase())," ")}}function En(t,l){if(t&1){let e=B();r(0,"th",41)(1,"mat-select",52),d(2,"translate"),$("ngModelChange",function(n){T(e);let p=h();return j(p.FrequencyFilter,n)||(p.FrequencyFilter=n),b(n)}),r(3,"mat-option",53),m(4),d(5,"translate"),a(),A(6,xn,3,4,"mat-option",53,Xi),a()()}if(t&2){let e=h();i(),u("placeholder",N(s(2,4,"FREQUENCY"))),O("ngModel",e.FrequencyFilter),i(3),D(s(5,6,"NONE")),i(2),k(e.reminderFrequencies)}}function Dn(t,l){t&1&&_(0,"th",41)}function Tn(t,l){if(t&1&&(r(0,"td",54),_(1,"mat-paginator",55),a()),t&2){let e=h();i(),u("length",e.reminderResource.totalCount)("pageSize",e.reminderResource.pageSize)("pageSizeOptions",q(3,Ki))}}function bn(t,l){t&1&&(r(0,"tr")(1,"td",56)(2,"div",57)(3,"b"),m(4),d(5,"translate"),a()()()()),t&2&&(i(4),c(" ",s(5,1,"NO_DATA_FOUND")))}function Fn(t,l){t&1&&_(0,"tr",58)}function In(t,l){t&1&&_(0,"tr",59)}function Mn(t,l){t&1&&_(0,"tr",60)}function An(t,l){t&1&&_(0,"tr",61)}function kn(t,l){t&1&&(r(0,"div",37),_(1,"mat-progress-spinner",62),a())}var ye=class t extends re{constructor(e,o,n,p,C){super();this.reminderService=e;this.dialog=o;this.commonService=n;this.commonDialogService=p;this.toastrService=C;this.reminderResource=new Kt,this.reminderResource.pageSize=10,this.reminderResource.orderBy="createdDate desc"}dataSource;reminders=[];reminderFrequencies=[];displayedColumns=["action","startDate","endDate","subject","message","frequency","documentName"];footerToDisplayed=["footer"];isLoadingResults=!0;reminderResource;loading$;paginator;sort;_subjectFilter;_messageFilter;_frequencyFilter;filterObservable$=new we;get SubjectFilter(){return this._subjectFilter}set SubjectFilter(e){this._subjectFilter=e;let o=`subject:${e}`;this.filterObservable$.next(o)}set FrequencyFilter(e){e=="0"?this._frequencyFilter="0":this._frequencyFilter=e?e.toString():"";let o=`frequency:${this._frequencyFilter}`;this.filterObservable$.next(o)}get FrequencyFilter(){return this._frequencyFilter}get MessageFilter(){return this._messageFilter}set MessageFilter(e){this._messageFilter=e;let o=`message:${e}`;this.filterObservable$.next(o)}ngOnInit(){this.getReminderFrequency(),this.dataSource=new Re(this.reminderService),this.dataSource.loadData(this.reminderResource),this.sub$.sink=this.filterObservable$.pipe(Le(1e3),Ue()).subscribe(e=>{this.reminderResource.skip=0;let o=e.split(":");o[0]==="subject"?this.reminderResource.subject=escape(o[1]):o[0]==="message"?this.reminderResource.message=o[1]:o[0]==="frequency"&&(this.reminderResource.frequency=o[1]),this.paginator.pageIndex=0,this.reminderResource.skip=0,this.dataSource.loadData(this.reminderResource)}),this.getResourceParameter()}getResourceParameter(){this.sub$.sink=this.dataSource.responseHeaderSubject$.subscribe(e=>{e&&(this.reminderResource.pageSize=e.pageSize,this.reminderResource.skip=e.skip,this.reminderResource.totalCount=e.totalCount)})}ngAfterViewInit(){this.sub$.sink=this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),this.sub$.sink=Ne(this.sort.sortChange,this.paginator.page).pipe(Oe(e=>{this.reminderResource.skip=this.paginator.pageIndex*this.paginator.pageSize,this.reminderResource.pageSize=this.paginator.pageSize,this.reminderResource.orderBy=this.sort.active+" "+this.sort.direction,this.dataSource.loadData(this.reminderResource)})).subscribe()}getReminderFrequency(){this.sub$.sink=this.commonService.getReminderFrequency().subscribe(e=>this.reminderFrequencies=[...e])}editReminder(e){this.isLoadingResults=!0,this.sub$.sink=this.commonService.getReminder(e.id??"").subscribe({next:o=>{this.isLoadingResults=!1;let n=this.dialog.open(V,{width:"60vw",data:Object.assign({},{frequencies:this.reminderFrequencies,reminder:o})});this.sub$.sink=n.afterClosed().subscribe(p=>{p&&this.dataSource.loadData(this.reminderResource)})},error:()=>this.isLoadingResults=!1})}deleteReminder(e){this.sub$.sink=this.commonDialogService.deleteConfirmtionDialog(this.translationService.getValue("ARE_YOU_SURE_YOU_WANT_TO_DELETE")).subscribe(o=>{o&&(this.isLoadingResults=!0,this.reminderService.deleteReminder(e.id??"").subscribe({next:()=>{this.isLoadingResults=!1,this.toastrService.success(this.translationService.getValue("REMINDER_DELETED_SUCCESSFULLY")),this.dataSource.loadData(this.reminderResource)},error:()=>this.isLoadingResults=!1}))})}static \u0275fac=function(o){return new(o||t)(M(ve),M(Ge),M(P),M(Ot),M(ae))};static \u0275cmp=Q({type:t,selectors:[["app-reminder-list"]],viewQuery:function(o,n){if(o&1&&(De(Fe,5),De(Ie,5)),o&2){let p;Te(p=be())&&(n.paginator=p.first),Te(p=be())&&(n.sort=p.first)}},features:[G],decls:59,vars:15,consts:[["menu","matMenu"],[1,"content"],[1,"container-fluid"],[1,"d-flex","mb-2"],[1,"me-auto"],[1,"mb-0","page-title"],[3,"code"],[1,"d-flex","justify-content-end"],["class","primary me-2","matButton","filled",3,"routerLink",4,"hasClaim"],["appearance","outlined"],[1,"table-responsive"],[1,"grid-height-large"],["mat-table","","matSort","","matSortActive","createdDate","matSortDirection","desc",3,"dataSource"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","startDate"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","endDate"],["matColumnDef","subject"],["matColumnDef","message"],["matColumnDef","frequency"],["matColumnDef","documentName"],["matColumnDef","action-search"],["matColumnDef","date-search"],["matColumnDef","enddate-search"],["matColumnDef","subject-search"],["matColumnDef","message-search"],["matColumnDef","frequency-search"],["matColumnDef","document-search"],["matColumnDef","footer"],["mat-footer-cell","","colspan","7",4,"matFooterCellDef"],[4,"matNoDataRow"],["class","grid-header-color","mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-row","",4,"matHeaderRowDef"],["mat-footer-row","",4,"matFooterRowDef","matFooterRowDefSticky"],[1,"spinner-container"],["matButton","filled",1,"primary","me-2",3,"routerLink"],[1,"medium-icon","fs-5","align-middle"],[1,"d-none","d-lg-inline","ms-1"],["mat-header-cell",""],["mat-cell",""],["matMiniFab","","class","primary","aria-label","Action",3,"matMenuTriggerFor",4,"hasClaim"],["mat-menu-item","",3,"routerLink",4,"hasClaim"],["mat-menu-item","",3,"click",4,"hasClaim"],["matMiniFab","","aria-label","Action",1,"primary",3,"matMenuTriggerFor"],["mat-menu-item","",3,"routerLink"],["mat-menu-item","",3,"click"],["mat-header-cell","","mat-sort-header",""],["type","text",1,"form-control","w-90",3,"ngModelChange","placeholder","ngModel"],["type","text",1,"form-control","w-90","ml-2",3,"ngModelChange","placeholder","ngModel"],["panelClass","mat-select-control",1,"form-control","ml-3",3,"ngModelChange","placeholder","ngModel"],[3,"value"],["mat-footer-cell","","colspan","7"],[3,"length","pageSize","pageSizeOptions"],["colspan","7"],[1,"pt-2","pl-2"],["mat-header-row","",1,"grid-header-color"],["mat-row",""],["mat-header-row",""],["mat-footer-row",""],["mode","indeterminate","diameter","60","strokeWidth","5"]],template:function(o,n){o&1&&(r(0,"section",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"span",5),m(5),d(6,"translate"),_(7,"app-page-help-text",6),a()(),r(8,"div",7),S(9,Zi,6,5,"button",8),a()(),r(10,"mat-card",9)(11,"mat-card-content")(12,"div",10)(13,"div",11)(14,"table",12),x(15,13),S(16,en,1,0,"th",14)(17,an,6,4,"td",15),E(),x(18,16),S(19,on,3,3,"th",17)(20,ln,3,4,"td",15),E(),x(21,18),S(22,mn,3,3,"th",17)(23,dn,3,4,"td",15),E(),x(24,19),S(25,sn,3,3,"th",17)(26,pn,3,4,"td",15),E(),x(27,20),S(28,cn,3,3,"th",17)(29,un,3,4,"td",15),E(),x(30,21),S(31,_n,3,3,"th",17)(32,fn,4,5,"td",15),E(),x(33,22),S(34,hn,3,3,"th",17)(35,Cn,2,1,"td",15),E(),x(36,23),S(37,vn,1,0,"th",14),E(),x(38,24),S(39,Rn,1,0,"th",14),E(),x(40,25),S(41,gn,1,0,"th",14),E(),x(42,26),S(43,yn,3,5,"th",14),E(),x(44,27),S(45,Sn,3,5,"th",14),E(),x(46,28),S(47,En,8,8,"th",14),E(),x(48,29),S(49,Dn,1,0,"th",14),E(),x(50,30),S(51,Tn,2,4,"td",31),E(),S(52,bn,6,3,"tr",32)(53,Fn,1,0,"tr",33)(54,In,1,0,"tr",34)(55,Mn,1,0,"tr",35)(56,An,1,0,"tr",36),a()()()()()()(),R(57,kn,2,0,"div",37),d(58,"async")),o&2&&(i(5),c("",s(6,10,"REMINDERS")," "),i(2),u("code","REMINDERS"),i(2),u("hasClaim","CREATE_REMINDER"),i(5),u("dataSource",n.dataSource),i(39),u("matHeaderRowDef",n.displayedColumns),i(),u("matRowDefColumns",n.displayedColumns),i(),u("matHeaderRowDef",q(14,Gi)),i(),u("matFooterRowDef",n.footerToDisplayed)("matFooterRowDefSticky",!0),i(),g(s(58,12,n.dataSource.loading$)?57:-1))},dependencies:[Fe,Ie,We,wt,vt,gt,Tt,St,Rt,Ft,yt,bt,xt,Dt,Et,It,At,Mt,kt,it,_e,K,J,Ce,he,fe,Ze,Ke,Je,Xe,ne,_t,de,se,rt,te,ee,ue,pe,ce,Z,X,ze,le,oe,ie,ge,ht,et,Ye],encapsulation:2})};var Se=class t{constructor(l,e){this.cs=l;this.router=e}resolve(l,e){let o=l.paramMap.get("id");return o==="add"?null:this.cs.getReminder(o??"").pipe(qe(1),Be(n=>n?(n.startDate&&(n.startTime=new Date(n.startDate).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1})),n.endDate&&(n.endTime=new Date(n.endDate).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1})),xe(n)):(this.router.navigate(["/reminders"]),xe(null))))}static \u0275fac=function(e){return new(e||t)(Ee(P),Ee(z))};static \u0275prov=je({token:t,factory:t.\u0275fac,providedIn:"root"})};var sa=[{path:"",component:ye,data:{claimType:"View_Reminders"},canActivate:[me]},{path:"add",component:V,data:{claimType:"Create_Reminder"},canActivate:[me]},{path:"manage/:id",resolve:{reminder:Se},component:V,data:{claimType:"Edit_Reminder"},canActivate:[me]}];export{sa as REMINDER_ROUTES};
