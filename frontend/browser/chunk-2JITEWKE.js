import{p as Ei}from"./chunk-32HAOKOZ.js";import{a as ki,b as Di}from"./chunk-55DV7QCW.js";import{a as Mi,b as Ri,c as Ai}from"./chunk-SJIWHW3R.js";import{a as li}from"./chunk-ZXWR2MAY.js";import{a as Ii,b as Si,c as xi}from"./chunk-GYIDN45C.js";import{b as Ci}from"./chunk-F2N2VWHU.js";import{d as wi}from"./chunk-AHHITDV2.js";import{b as ye}from"./chunk-QPRQJRAS.js";import{b as J,c as ii,e as ei,f as ti}from"./chunk-2DXU6Z77.js";import{b as di}from"./chunk-WC3ZMFX5.js";import{b as pi}from"./chunk-UFOTACYY.js";import{e as bi}from"./chunk-F3ENXN4Q.js";import{C as fi,E as yi,c as mi,e as O,h as hi,i as ui,m as A,o as _i,r as gi,u as vi}from"./chunk-KYSGX4IW.js";import{a as ni,b as ri}from"./chunk-P6E4AR6Q.js";import{C as pe,O as me,ea as he,ga as ue,ma as ji,na as _e,p as le,pa as ge,qa as Gi,r as Hi,s as de,sa as ve,ta as ai,va as oi,wa as fe}from"./chunk-GDJX5AXE.js";import{$ as b,$a as x,$b as Vi,Ca as v,Da as f,Db as p,Eb as m,Fa as q,Ga as W,Gc as se,Ha as K,I as z,Ia as y,J as Zi,Ja as o,Ka as r,La as C,Ma as ee,Na as te,Pc as ci,Rc as si,Sa as V,Sb as ce,Ta as ae,Ua as u,W as n,Wa as M,Xa as Oi,Ya as H,Yb as Ui,Za as k,_a as oe,_b as P,ab as E,d as Wi,e as Ki,eb as D,g as T,ga as F,gb as Li,h as Pi,ha as Xi,i as _,ia as Ji,ib as ne,jb as l,ka as U,kb as S,lb as g,mb as $,nb as Ni,oa as Bi,p as w,pa as ie,pb as Y,q as I,qb as Z,rb as X,t as $i,u as Yi,vb as R,yb as re,za as Q}from"./chunk-KZMFGXDY.js";import{Da as B,Tb as G,Ub as qi,Yb as N,b as Qi,la as Fi,n as j}from"./chunk-W3TJXGK4.js";var L=class a{constructor(d,i){this.httpClient=d;this.commonHttpErrorService=i}getCategoryPermission(d){let i=`CategoryRolePermission/${d}`;return this.httpClient.get(i)}deleteCategoryUserPermission(d){let i=`CategoryUserPermission/${d}`;return this.httpClient.delete(i).pipe(B(this.commonHttpErrorService.handleError))}deleteCategoryRolePermission(d){let i=`CategoryRolePermission/${d}`;return this.httpClient.delete(i).pipe(B(this.commonHttpErrorService.handleError))}addCategoryUserPermission(d){return this.httpClient.post("CategoryUserPermission",{CategoryUserPermissions:d}).pipe(B(this.commonHttpErrorService.handleError))}addCategoryRolePermission(d){return this.httpClient.post("CategoryRolePermission",{CategoryRolePermissions:d}).pipe(B(this.commonHttpErrorService.handleError))}multipleCategorysToUsersAndRoles(d){return this.httpClient.post("CategoryRolePermission/multiple",d).pipe(B(this.commonHttpErrorService.handleError))}static \u0275fac=function(i){return new(i||a)(Pi(se),Pi(fe))};static \u0275prov=Wi({token:a,factory:a.\u0275fac,providedIn:"root"})};var Re=["*",[["mat-chip-avatar"],["","matChipAvatar",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],Ae=["*","mat-chip-avatar, [matChipAvatar]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function Te(a,d){a&1&&(o(0,"span",3),H(1,1),r())}function Fe(a,d){a&1&&(o(0,"span",6),H(1,2),r())}var Pe=["*"];var Be=new T("mat-chips-default-options",{providedIn:"root",factory:()=>({separatorKeyCodes:[13]})}),Ce=new T("MatChipAvatar"),we=new T("MatChipTrailingIcon"),Ie=new T("MatChipEdit"),Se=new T("MatChipRemove"),ke=new T("MatChip"),xe=(()=>{class a{_elementRef=_(z);_parentChip=_(ke);isInteractive=!0;_isPrimary=!0;_isLeading=!1;get disabled(){return this._disabled||this._parentChip?.disabled||!1}set disabled(i){this._disabled=i}_disabled=!1;tabIndex=-1;_allowFocusWhenDisabled=!1;_getDisabledAttribute(){return this.disabled&&!this._allowFocusWhenDisabled?"":null}_getTabindex(){return this.disabled&&!this._allowFocusWhenDisabled||!this.isInteractive?null:this.tabIndex.toString()}constructor(){_(Hi).load(Gi),this._elementRef.nativeElement.nodeName==="BUTTON"&&this._elementRef.nativeElement.setAttribute("type","button")}focus(){this._elementRef.nativeElement.focus()}_handleClick(i){!this.disabled&&this.isInteractive&&this._isPrimary&&(i.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}_handleKeydown(i){(i.keyCode===13||i.keyCode===32)&&!this.disabled&&this.isInteractive&&this._isPrimary&&!this._parentChip._isEditing&&(i.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}static \u0275fac=function(t){return new(t||a)};static \u0275dir=Ji({type:a,selectors:[["","matChipAction",""]],hostAttrs:[1,"mdc-evolution-chip__action","mat-mdc-chip-action"],hostVars:11,hostBindings:function(t,e){t&1&&u("click",function(c){return e._handleClick(c)})("keydown",function(c){return e._handleKeydown(c)}),t&2&&(Q("tabindex",e._getTabindex())("disabled",e._getDisabledAttribute())("aria-disabled",e.disabled),Li("mdc-evolution-chip__action--primary",e._isPrimary)("mdc-evolution-chip__action--presentational",!e.isInteractive)("mdc-evolution-chip__action--secondary",!e._isPrimary)("mdc-evolution-chip__action--trailing",!e._isPrimary&&!e._isLeading))},inputs:{isInteractive:"isInteractive",disabled:[2,"disabled","disabled",P],tabIndex:[2,"tabIndex","tabIndex",i=>i==null?-1:Vi(i)],_allowFocusWhenDisabled:"_allowFocusWhenDisabled"}})}return a})();var Oe=(()=>{class a{_changeDetectorRef=_(Ui);_elementRef=_(z);_tagName=_(ce);_ngZone=_(ie);_focusMonitor=_(le);_globalRippleOptions=_(_e,{optional:!0});_document=_(Yi);_onFocus=new j;_onBlur=new j;_isBasicChip;role=null;_hasFocusInternal=!1;_pendingFocus;_actionChanges;_animationsDisabled=he();_allLeadingIcons;_allTrailingIcons;_allEditIcons;_allRemoveIcons;_hasFocus(){return this._hasFocusInternal}id=_(me).getId("mat-mdc-chip-");ariaLabel=null;ariaDescription=null;_chipListDisabled=!1;_hadFocusOnRemove=!1;_textElement;get value(){return this._value!==void 0?this._value:this._textElement.textContent.trim()}set value(i){this._value=i}_value;color;removable=!0;highlighted=!1;disableRipple=!1;get disabled(){return this._disabled||this._chipListDisabled}set disabled(i){this._disabled=i}_disabled=!1;removed=new Bi;destroyed=new Bi;basicChipAttrName="mat-basic-chip";leadingIcon;editIcon;trailingIcon;removeIcon;primaryAction;_rippleLoader=_(ge);_injector=_($i);constructor(){let i=_(Hi);i.load(Gi),i.load(de),this._monitorFocus(),this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-chip-ripple",disabled:this._isRippleDisabled()})}ngOnInit(){this._isBasicChip=this._elementRef.nativeElement.hasAttribute(this.basicChipAttrName)||this._tagName.toLowerCase()===this.basicChipAttrName}ngAfterViewInit(){this._textElement=this._elementRef.nativeElement.querySelector(".mat-mdc-chip-action-label"),this._pendingFocus&&(this._pendingFocus=!1,this.focus())}ngAfterContentInit(){this._actionChanges=Fi(this._allLeadingIcons.changes,this._allTrailingIcons.changes,this._allEditIcons.changes,this._allRemoveIcons.changes).subscribe(()=>this._changeDetectorRef.markForCheck())}ngDoCheck(){this._rippleLoader.setDisabled(this._elementRef.nativeElement,this._isRippleDisabled())}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement),this._actionChanges?.unsubscribe(),this.destroyed.emit({chip:this}),this.destroyed.complete()}remove(){this.removable&&(this._hadFocusOnRemove=this._hasFocus(),this.removed.emit({chip:this}))}_isRippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||this._isBasicChip||!this._hasInteractiveActions()||!!this._globalRippleOptions?.disabled}_hasTrailingIcon(){return!!(this.trailingIcon||this.removeIcon)}_handleKeydown(i){(i.keyCode===8&&!i.repeat||i.keyCode===46)&&(i.preventDefault(),this.remove())}focus(){this.disabled||(this.primaryAction?this.primaryAction.focus():this._pendingFocus=!0)}_getSourceAction(i){return this._getActions().find(t=>{let e=t._elementRef.nativeElement;return e===i||e.contains(i)})}_getActions(){let i=[];return this.editIcon&&i.push(this.editIcon),this.primaryAction&&i.push(this.primaryAction),this.removeIcon&&i.push(this.removeIcon),this.trailingIcon&&i.push(this.trailingIcon),i}_handlePrimaryActionInteraction(){}_hasInteractiveActions(){return this._getActions().some(i=>i.isInteractive)}_edit(i){}_monitorFocus(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(i=>{let t=i!==null;t!==this._hasFocusInternal&&(this._hasFocusInternal=t,t?this._onFocus.next({chip:this}):(this._changeDetectorRef.markForCheck(),setTimeout(()=>this._ngZone.run(()=>this._onBlur.next({chip:this})))))})}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=F({type:a,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(t,e,s){if(t&1&&(k(s,Ce,5),k(s,Ie,5),k(s,we,5),k(s,Se,5),k(s,Ce,5),k(s,we,5),k(s,Ie,5),k(s,Se,5)),t&2){let c;x(c=E())&&(e.leadingIcon=c.first),x(c=E())&&(e.editIcon=c.first),x(c=E())&&(e.trailingIcon=c.first),x(c=E())&&(e.removeIcon=c.first),x(c=E())&&(e._allLeadingIcons=c),x(c=E())&&(e._allTrailingIcons=c),x(c=E())&&(e._allEditIcons=c),x(c=E())&&(e._allRemoveIcons=c)}},viewQuery:function(t,e){if(t&1&&oe(xe,5),t&2){let s;x(s=E())&&(e.primaryAction=s.first)}},hostAttrs:[1,"mat-mdc-chip"],hostVars:31,hostBindings:function(t,e){t&1&&u("keydown",function(c){return e._handleKeydown(c)}),t&2&&(ae("id",e.id),Q("role",e.role)("aria-label",e.ariaLabel),ne("mat-"+(e.color||"primary")),Li("mdc-evolution-chip",!e._isBasicChip)("mdc-evolution-chip--disabled",e.disabled)("mdc-evolution-chip--with-trailing-action",e._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",e.leadingIcon)("mdc-evolution-chip--with-primary-icon",e.leadingIcon)("mdc-evolution-chip--with-avatar",e.leadingIcon)("mat-mdc-chip-with-avatar",e.leadingIcon)("mat-mdc-chip-highlighted",e.highlighted)("mat-mdc-chip-disabled",e.disabled)("mat-mdc-basic-chip",e._isBasicChip)("mat-mdc-standard-chip",!e._isBasicChip)("mat-mdc-chip-with-trailing-icon",e._hasTrailingIcon())("_mat-animation-noopable",e._animationsDisabled))},inputs:{role:"role",id:"id",ariaLabel:[0,"aria-label","ariaLabel"],ariaDescription:[0,"aria-description","ariaDescription"],value:"value",color:"color",removable:[2,"removable","removable",P],highlighted:[2,"highlighted","highlighted",P],disableRipple:[2,"disableRipple","disableRipple",P],disabled:[2,"disabled","disabled",P]},outputs:{removed:"removed",destroyed:"destroyed"},exportAs:["matChip"],features:[re([{provide:ke,useExisting:a}])],ngContentSelectors:Ae,decls:8,vars:3,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","",3,"isInteractive"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-focus-indicator"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(t,e){t&1&&(Oi(Re),C(0,"span",0),o(1,"span",1)(2,"span",2),v(3,Te,2,0,"span",3),o(4,"span",4),H(5),C(6,"span",5),r()()(),v(7,Fe,2,0,"span",6)),t&2&&(n(2),y("isInteractive",!1),n(),f(e.leadingIcon?3:-1),n(4),f(e._hasTrailingIcon()?7:-1))},dependencies:[xe],styles:[`.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{flex-basis:100%;overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}@media(forced-colors: active){.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{forced-color-adjust:none}}.mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit;overflow-x:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary::before{border-width:var(--mat-chip-outline-width, 1px);border-radius:var(--mat-chip-container-shape-radius, 8px);box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1;border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary::before{border-color:var(--mat-chip-outline-color, var(--mat-sys-outline))}.mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus::before{border-color:var(--mat-chip-focus-outline-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary::before{border-color:var(--mat-chip-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary::before{border-width:var(--mat-chip-flat-selected-outline-width, 0)}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-standard-chip.mdc-evolution-chip--with-leading-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-leading-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-leading-action.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip__action--secondary{position:relative;overflow:visible}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--secondary{color:var(--mat-chip-with-trailing-icon-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--secondary{color:var(--mat-chip-with-trailing-icon-disabled-trailing-icon-color, var(--mat-sys-on-surface))}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--secondary{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--secondary{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--secondary{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--secondary{padding-left:8px;padding-right:8px}.mdc-evolution-chip__text-label{-webkit-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mat-chip-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-chip-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-chip-label-text-size, var(--mat-sys-label-large-size));font-weight:var(--mat-chip-label-text-weight, var(--mat-sys-label-large-weight));letter-spacing:var(--mat-chip-label-text-tracking, var(--mat-sys-label-large-tracking))}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mat-chip-label-text-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mat-chip-selected-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label,.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mat-chip-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{width:var(--mat-chip-with-avatar-avatar-size, 24px);height:var(--mat-chip-with-avatar-avatar-size, 24px);font-size:var(--mat-chip-with-avatar-avatar-size, 24px)}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-leading-action .mdc-evolution-chip__graphic{padding-left:0}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%;height:20px;width:20px}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mat-chip-with-icon-selected-icon-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mat-chip-with-icon-disabled-icon-color, var(--mat-sys-on-surface))}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@media(forced-colors: active){.mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity, 1)*var(--mat-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity, 1)*var(--mat-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38))}.mat-mdc-standard-chip{border-radius:var(--mat-chip-container-shape-radius, 8px);height:var(--mat-chip-container-height, 32px)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mat-chip-elevated-container-color, transparent)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mat-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mat-chip-elevated-selected-container-color, var(--mat-sys-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mat-chip-flat-disabled-selected-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}@media(forced-colors: active){.mat-mdc-standard-chip{outline:solid 1px}}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mat-chip-with-avatar-avatar-shape-radius, 24px);width:var(--mat-chip-with-icon-icon-size, 18px);height:var(--mat-chip-with-icon-icon-size, 18px);font-size:var(--mat-chip-with-icon-icon-size, 18px)}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mat-chip-with-icon-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mat-chip-with-icon-disabled-icon-color, var(--mat-sys-on-surface))}.mat-mdc-chip-highlighted{--mat-chip-with-icon-icon-color: var(--mat-chip-with-icon-selected-icon-color, var(--mat-sys-on-secondary-container));--mat-chip-elevated-container-color: var(--mat-chip-elevated-selected-container-color, var(--mat-sys-secondary-container));--mat-chip-label-text-color: var(--mat-chip-selected-label-text-color, var(--mat-sys-on-secondary-container));--mat-chip-outline-width: var(--mat-chip-flat-selected-outline-width, 0)}.mat-mdc-chip-focus-overlay{background:var(--mat-chip-focus-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted .mat-mdc-chip-focus-overlay{background:var(--mat-chip-selected-focus-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mat-chip-hover-state-layer-color, var(--mat-sys-on-surface-variant));opacity:var(--mat-chip-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip-focus-overlay .mat-mdc-chip-selected:hover,.mat-mdc-chip-highlighted:hover .mat-mdc-chip-focus-overlay{background:var(--mat-chip-selected-hover-state-layer-color, var(--mat-sys-on-secondary-container));opacity:var(--mat-chip-selected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mat-chip-focus-state-layer-color, var(--mat-sys-on-surface-variant));opacity:var(--mat-chip-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mat-chip-selected-focus-state-layer-color, var(--mat-sys-on-secondary-container));opacity:var(--mat-chip-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mat-chip-with-avatar-disabled-avatar-opacity, 0.38)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mat-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mat-chip-with-icon-disabled-icon-opacity, 0.38)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity, 1)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color, var(--mat-sys-on-surface))}.mat-mdc-chip-edit,.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity, 1)}.mat-mdc-chip-edit:focus,.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity, 1)}.mat-mdc-chip-edit::after,.mat-mdc-chip-remove::after{background-color:var(--mat-chip-trailing-action-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-chip-edit:hover::after,.mat-mdc-chip-remove:hover::after{opacity:var(--mat-chip-trailing-action-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip-edit:focus::after,.mat-mdc-chip-remove:focus::after{opacity:var(--mat-chip-trailing-action-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-chip-selected .mat-mdc-chip-remove::after,.mat-mdc-chip-highlighted .mat-mdc-chip-remove::after{background-color:var(--mat-chip-selected-trailing-action-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mat-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-edit::before,.mat-mdc-chip-remove::before{margin:calc(var(--mat-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-edit::after,.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-3px;bottom:-3px;left:5px;right:5px;border-radius:50%;box-sizing:border-box;padding:12px;margin:-12px;background-clip:content-box}.mat-mdc-chip-edit .mat-icon,.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}@media(forced-colors: active){.mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}}.mat-mdc-chip-action:focus .mat-focus-indicator::before{content:""}.mdc-evolution-chip__icon,.mat-mdc-chip-edit .mat-icon,.mat-mdc-chip-remove .mat-icon{min-height:fit-content}
`],encapsulation:2,changeDetection:0})}return a})();var Gt=(()=>{class a{_elementRef=_(z);_changeDetectorRef=_(Ui);_dir=_(pe,{optional:!0});_lastDestroyedFocusedChipIndex=null;_keyManager;_destroyed=new j;_defaultRole="presentation";get chipFocusChanges(){return this._getChipStream(i=>i._onFocus)}get chipDestroyedChanges(){return this._getChipStream(i=>i.destroyed)}get chipRemovedChanges(){return this._getChipStream(i=>i.removed)}get disabled(){return this._disabled}set disabled(i){this._disabled=i,this._syncChipsState()}_disabled=!1;get empty(){return!this._chips||this._chips.length===0}get role(){return this._explicitRole?this._explicitRole:this.empty?null:this._defaultRole}tabIndex=0;set role(i){this._explicitRole=i}_explicitRole=null;get focused(){return this._hasFocusedChip()}_chips;_chipActions=new Zi;constructor(){}ngAfterViewInit(){this._setUpFocusManagement(),this._trackChipSetChanges(),this._trackDestroyedFocusedChip()}ngOnDestroy(){this._keyManager?.destroy(),this._chipActions.destroy(),this._destroyed.next(),this._destroyed.complete()}_hasFocusedChip(){return this._chips&&this._chips.some(i=>i._hasFocus())}_syncChipsState(){this._chips?.forEach(i=>{i._chipListDisabled=this._disabled,i._changeDetectorRef.markForCheck()})}focus(){}_handleKeydown(i){this._originatesFromChip(i)&&this._keyManager.onKeydown(i)}_isValidIndex(i){return i>=0&&i<this._chips.length}_allowFocusEscape(){let i=this._elementRef.nativeElement.tabIndex;i!==-1&&(this._elementRef.nativeElement.tabIndex=-1,setTimeout(()=>this._elementRef.nativeElement.tabIndex=i))}_getChipStream(i){return this._chips.changes.pipe(G(null),qi(()=>Fi(...this._chips.map(i))))}_originatesFromChip(i){let t=i.target;for(;t&&t!==this._elementRef.nativeElement;){if(t.classList.contains("mat-mdc-chip"))return!0;t=t.parentElement}return!1}_setUpFocusManagement(){this._chips.changes.pipe(G(this._chips)).subscribe(i=>{let t=[];i.forEach(e=>e._getActions().forEach(s=>t.push(s))),this._chipActions.reset(t),this._chipActions.notifyOnChanges()}),this._keyManager=new ue(this._chipActions).withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr").withHomeAndEnd().skipPredicate(i=>this._skipPredicate(i)),this.chipFocusChanges.pipe(N(this._destroyed)).subscribe(({chip:i})=>{let t=i._getSourceAction(document.activeElement);t&&this._keyManager.updateActiveItem(t)}),this._dir?.change.pipe(N(this._destroyed)).subscribe(i=>this._keyManager.withHorizontalOrientation(i))}_skipPredicate(i){return!i.isInteractive||i.disabled}_trackChipSetChanges(){this._chips.changes.pipe(G(null),N(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>this._syncChipsState()),this._redirectDestroyedChipFocus()})}_trackDestroyedFocusedChip(){this.chipDestroyedChanges.pipe(N(this._destroyed)).subscribe(i=>{let e=this._chips.toArray().indexOf(i.chip),s=i.chip._hasFocus(),c=i.chip._hadFocusOnRemove&&this._keyManager.activeItem&&i.chip._getActions().includes(this._keyManager.activeItem),h=s||c;this._isValidIndex(e)&&h&&(this._lastDestroyedFocusedChipIndex=e)})}_redirectDestroyedChipFocus(){if(this._lastDestroyedFocusedChipIndex!=null){if(this._chips.length){let i=Math.min(this._lastDestroyedFocusedChipIndex,this._chips.length-1),t=this._chips.toArray()[i];t.disabled?this._chips.length===1?this.focus():this._keyManager.setPreviousItemActive():t.focus()}else this.focus();this._lastDestroyedFocusedChipIndex=null}}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=F({type:a,selectors:[["mat-chip-set"]],contentQueries:function(t,e,s){if(t&1&&k(s,Oe,5),t&2){let c;x(c=E())&&(e._chips=c)}},hostAttrs:[1,"mat-mdc-chip-set","mdc-evolution-chip-set"],hostVars:1,hostBindings:function(t,e){t&1&&u("keydown",function(c){return e._handleKeydown(c)}),t&2&&Q("role",e.role)},inputs:{disabled:[2,"disabled","disabled",P],role:"role",tabIndex:[2,"tabIndex","tabIndex",i=>i==null?0:Vi(i)]},ngContentSelectors:Pe,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(t,e){t&1&&(Oi(),ee(0,"div",0),H(1),te())},styles:[`.mat-mdc-chip-set{display:flex}.mat-mdc-chip-set:focus{outline:none}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%;margin-left:-8px;margin-right:0}.mat-mdc-chip-set .mdc-evolution-chip{margin:4px 0 4px 8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip-set__chips{margin-left:0;margin-right:-8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip{margin-left:0;margin-right:8px}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}.mat-mdc-form-field:not(.mat-form-field-hide-placeholder) input.mat-mdc-chip-input::placeholder{opacity:1}.mat-mdc-form-field:not(.mat-form-field-hide-placeholder) input.mat-mdc-chip-input::-moz-placeholder{opacity:1}.mat-mdc-form-field:not(.mat-form-field-hide-placeholder) input.mat-mdc-chip-input::-webkit-input-placeholder{opacity:1}.mat-mdc-form-field:not(.mat-form-field-hide-placeholder) input.mat-mdc-chip-input:-ms-input-placeholder{opacity:1}.mat-mdc-chip-set+input.mat-mdc-chip-input{margin-left:0;margin-right:0}
`],encapsulation:2,changeDetection:0})}return a})();var Ti=(()=>{class a{static \u0275fac=function(t){return new(t||a)};static \u0275mod=Xi({type:a});static \u0275inj=Ki({providers:[ye,{provide:Be,useValue:{separatorKeyCodes:[13]}}],imports:[ji,ve,ji]})}return a})();function Ke(a,d){if(a&1&&(o(0,"span"),l(1),r()),a&2){let i=M();n(),Ni(" ",i.selectedUsers[0].firstName," ",i.selectedUsers[0].lastName," (",i.selectedUsers[0].userName,") ")}}function $e(a,d){if(a&1&&(o(0,"span",13),l(1),r()),a&2){let i=M();n(),$(" (+",i.selectedUsers.length-1," ",i.selectedUsers.length===2?"other":"others",") ")}}function Ye(a,d){if(a&1&&(o(0,"mat-option",15),l(1),r()),a&2){let i=d.$implicit;y("value",i),n(),Ni(" ",i.firstName," ",i.lastName," (",i.userName,") ")}}function Ze(a,d){a&1&&(o(0,"mat-error",31),l(1),p(2,"translate"),r()),a&2&&(n(),g(" ",m(2,1,"START_DATE_IS_REQURED")," "))}function Xe(a,d){a&1&&(o(0,"mat-error",31),l(1),p(2,"translate"),r()),a&2&&(n(),g(" ",m(2,1,"END_DATE_IS_REQURED")," "))}function Je(a,d){if(a&1){let i=V();o(0,"div",9)(1,"div",25)(2,"label",11),l(3),p(4,"translate"),r(),o(5,"div",26),C(6,"input",27),p(7,"translate"),o(8,"div",28)(9,"button",29),u("click",function(){w(i);let e=D(13);return I(e.open())}),o(10,"mat-icon",30),l(11,"calendar_today"),r()()(),C(12,"mat-datepicker",null,1),r(),v(14,Ze,3,3,"mat-error",31),r(),o(15,"div",25)(16,"label",11),l(17),p(18,"translate"),r(),o(19,"div",26),C(20,"input",32),p(21,"translate"),o(22,"div",28)(23,"button",29),u("click",function(){w(i);let e=D(27);return I(e.open())}),o(24,"mat-icon",30),l(25,"calendar_today"),r()()(),C(26,"mat-datepicker",null,2),r(),v(28,Xe,3,3,"mat-error",31),r()()}if(a&2){let i,t,e,s=D(13),c=D(27),h=M();n(3),S(m(4,12,"CHOOSE_A_START_DATE")),n(3),y("placeholder",R(m(7,14,"START_DATE")))("min",h.minDate)("matDatepicker",s),n(8),f((i=h.permissionForm.get("startDate"))!=null&&i.touched&&(!((i=h.permissionForm.get("startDate"))==null||i.errors==null)&&i.errors.required)?14:-1),n(3),S(m(18,16,"CHOOSE_A_END_DATE")),n(3),y("placeholder",R(m(21,18,"END_DATE")))("min",(t=h.permissionForm.get("startDate"))==null?null:t.value)("matDatepicker",c),n(8),f((e=h.permissionForm.get("startDate"))!=null&&e.touched&&(!((e=h.permissionForm.get("endDate"))==null||e.errors==null)&&e.errors.required)?28:-1)}}function it(a,d){a&1&&(o(0,"div",20),l(1),p(2,"translate"),r()),a&2&&(n(),g(" ",m(2,1,"PLEASE_CONFIGURE_EMAIL_SMTP_SETTINGS")," "))}var De=class a extends li{constructor(i,t,e,s,c,h){super();this.categoryPermissionService=i;this.toastrService=t;this.data=e;this.dialogRef=s;this.fb=c;this.commonService=h;this.minDate=new Date}selectedUsers=[];minDate;smtpConfigured;permissionForm;filteredUsers=[];ngOnInit(){this.createUserPermissionForm(),this.filteredUsers=[...this.data.users],this.sub$.sink=this.commonService.IsSmtpConfigured.subscribe(i=>{if(i==null){this.checkEmailSMTPSettings();return}this.smtpConfigured=i})}checkEmailSMTPSettings(){this.sub$.sink=this.commonService.checkEmailSMTPSetting().subscribe({next:i=>{i&&i?.data},error:i=>{this.toastrService.error(this.translationService.getValue("SMTP_SETTINGS_ERROR"))}})}filterUsers(i){let t=i.target?.value.trim().toLowerCase();if(!t){this.filteredUsers=[...this.data.users];return}this.filteredUsers=this.data.users.filter(e=>e.firstName?.toLowerCase().includes(t)||e.lastName?.toLowerCase().includes(t)||e.email?.toLowerCase().includes(t)||e.userName?.toLowerCase().includes(t)),this.filteredUsers=Array.from(new Set([...this.selectedUsers,...this.filteredUsers]))}compareUsers=(i,t)=>i&&t&&i.id===t.id;createUserPermissionForm(){this.permissionForm=this.fb.group({isTimeBound:new A(!1),startDate:[""],endDate:[""],isAllowDownload:new A(!1),isAllowEmailNotification:new A(!1)})}timeBoundChange(i){i.checked?(this.permissionForm.get("startDate")?.setValidators([O.required]),this.permissionForm.get("endDate")?.setValidators([O.required])):(this.permissionForm.get("startDate")?.clearValidators(),this.permissionForm.get("startDate")?.updateValueAndValidity(),this.permissionForm.get("endDate")?.clearValidators(),this.permissionForm.get("endDate")?.updateValueAndValidity())}saveCategoryUserPermission(){if(!this.permissionForm.valid){this.permissionForm.markAllAsTouched();return}if(this.selectedUsers.length==0){this.toastrService.error(this.translationService.getValue("PLEASE_SELECT_ATLEAST_ONE_USER"));return}let i=this.selectedUsers.map(t=>Object.assign({},{id:"",categoryId:this.data.categoryId,userId:t.id},this.permissionForm.value));this.sub$.sink=this.categoryPermissionService.addCategoryUserPermission(i).subscribe(()=>{this.toastrService.success(this.translationService.getValue("PERMISSION_ADDED_SUCCESSFULLY")),this.dialogRef.close(!0)})}onNoClick(){this.dialogRef.close()}static \u0275fac=function(t){return new(t||a)(b(L),b(di),b(ii),b(J),b(fi),b(pi))};static \u0275cmp=F({type:a,selectors:[["app-manage-user-category-permission"]],features:[U],decls:50,vars:36,consts:[["input1",""],["startDatePicker",""],["endDatePicker",""],[1,"d-flex"],[1,"me-auto","p-2"],[1,"mb-3","page-title"],[1,"d-flex","justify-content-end","mb-2"],[1,"close-icon","text-danger","cursor-pointer",3,"click"],[1,"form-group",3,"formGroup"],[1,"row"],[1,"form-group","col-md-12"],[1,"form-label"],["panelClass","mat-select-control","multiple","",1,"form-control",3,"valueChange","placeholder","value","compareWith"],[1,"example-additional-selection"],[1,"form-control",3,"keyup","placeholder"],["color","primary",3,"value"],["color","primary","formControlName","isTimeBound",3,"change"],["color","primary","formControlName","isAllowDownload"],[1,"col-md-12"],["color","primary","formControlName","isAllowEmailNotification"],[1,"alert","alert-warning","mt-2"],[1,"col-12","mt-2"],["matButton","filled","cdkFocusInitial","",1,"success","me-2",3,"click"],[1,"medium-icon"],["matButton","filled",1,"error",3,"click"],[1,"form-group","col-md-6"],[1,"input-group"],["formControlName","startDate",1,"form-control",3,"placeholder","min","matDatepicker"],[1,"input-group-append"],["type","button",1,"btn","btn-primary","calendar-button",3,"click"],[1,"medium-icon","fs-5","align-middle"],[1,"text-danger"],["formControlName","endDate",1,"form-control",3,"placeholder","min","matDatepicker"]],template:function(t,e){if(t&1){let s=V();o(0,"mat-dialog-content")(1,"div",3)(2,"div",4)(3,"span",5),l(4),p(5,"translate"),r()(),o(6,"div",6)(7,"mat-icon",7),u("click",function(){return w(s),I(e.onNoClick())}),l(8,"cancel"),r()()(),o(9,"form",8)(10,"div",9)(11,"div",10)(12,"label",11),l(13),p(14,"translate"),r(),o(15,"mat-select",12),p(16,"translate"),X("valueChange",function(h){return w(s),Z(e.selectedUsers,h)||(e.selectedUsers=h),I(h)}),o(17,"mat-select-trigger"),v(18,Ke,2,3,"span"),v(19,$e,2,2,"span",13),r(),o(20,"input",14,0),p(22,"translate"),u("keyup",function(h){return w(s),I(e.filterUsers(h))}),r(),W(23,Ye,2,4,"mat-option",15,q),r()()(),o(25,"div",9)(26,"mat-checkbox",16),u("change",function(h){return w(s),I(e.timeBoundChange(h))}),l(27),p(28,"translate"),r()(),v(29,Je,29,20,"div",9),o(30,"div",9)(31,"mat-checkbox",17),l(32),p(33,"translate"),r()(),o(34,"div",18)(35,"mat-checkbox",19),l(36),p(37,"translate"),r()(),v(38,it,3,3,"div",20),o(39,"div",21)(40,"button",22),u("click",function(){return w(s),I(e.saveCategoryUserPermission())}),o(41,"mat-icon",23),l(42,"save"),r(),l(43),p(44,"translate"),r(),o(45,"button",24),u("click",function(){return w(s),I(e.onNoClick())}),o(46,"mat-icon",23),l(47,"cancel"),r(),l(48),p(49,"translate"),r()()()()}if(t&2){let s,c;n(4),g(" ",m(5,18,"USER_PERMISSION")," "),n(5),y("formGroup",e.permissionForm),n(4),S(m(14,20,"USERS")),n(2),y("placeholder",R(m(16,22,"SELECT_USERS"))),Y("value",e.selectedUsers),y("compareWith",e.compareUsers),n(3),f(e.selectedUsers.length>0?18:-1),n(),f(e.selectedUsers.length>1?19:-1),n(),y("placeholder",R(m(22,24,"SEARCH_BY_USER_ROLE_NAME_AND_EMAIL"))),n(3),K(e.filteredUsers),n(4),g(" ",m(28,26,"SPACIFY_THE_PERIOD")),n(2),f((s=e.permissionForm.get("isTimeBound"))!=null&&s.value?29:-1),n(3),S(m(33,28,"ALLOW_DOWNLOAD")),n(4),S(m(37,30,"IS_ALLOW_NOTIFICATION")),n(2),f((c=e.permissionForm.get("isAllowEmailNotification"))!=null&&c.value&&!e.smtpConfigured?38:-1),n(5),g(" ",m(44,32,"SAVE")," "),n(5),g(" ",m(49,34,"CANCEL")," ")}},dependencies:[ti,ei,Ei,oi,ai,Ti,xi,Ci,Ii,Si,wi,Di,ki,Ai,Mi,Ri,yi,_i,mi,hi,ui,gi,vi,si,bi,ri,ni,ci],encapsulation:2})};function et(a,d){if(a&1&&(o(0,"span"),l(1),r()),a&2){let i=M();n(),g(" ",i.selectedRoles[0].name," ")}}function tt(a,d){if(a&1&&(o(0,"span",12),l(1),r()),a&2){let i=M();n(),$(" (+",i.selectedRoles.length-1," ",i.selectedRoles.length===2?"other":"others",") ")}}function at(a,d){if(a&1&&(o(0,"mat-option",13),l(1),r()),a&2){let i=d.$implicit;y("value",i),n(),g(" ",i.name," ")}}function ot(a,d){a&1&&(o(0,"mat-error",28),l(1),p(2,"translate"),r()),a&2&&(n(),g(" ",m(2,1,"START_DATE_IS_REQURED")," "))}function nt(a,d){a&1&&(o(0,"mat-error",28),l(1),p(2,"translate"),r()),a&2&&(n(),g(" ",m(2,1,"END_DATE_IS_REQURED")," "))}function rt(a,d){if(a&1){let i=V();o(0,"div",8)(1,"div",22)(2,"label",10),l(3),p(4,"translate"),r(),o(5,"div",23),C(6,"input",24),p(7,"translate"),o(8,"div",25)(9,"button",26),u("click",function(){w(i);let e=D(13);return I(e.open())}),o(10,"mat-icon",27),l(11,"calendar_today"),r()()(),C(12,"mat-datepicker",null,0),r(),v(14,ot,3,3,"mat-error",28),r(),o(15,"div",22)(16,"label",10),l(17),p(18,"translate"),r(),o(19,"div",23),C(20,"input",29),p(21,"translate"),o(22,"div",25)(23,"button",26),u("click",function(){w(i);let e=D(27);return I(e.open())}),o(24,"mat-icon",27),l(25,"calendar_today"),r()()(),C(26,"mat-datepicker",null,1),r(),v(28,nt,3,3,"mat-error",28),r()()}if(a&2){let i,t,e,s=D(13),c=D(27),h=M();n(3),S(m(4,12,"CHOOSE_A_START_DATE")),n(3),y("placeholder",R(m(7,14,"START_DATE")))("min",h.minDate)("matDatepicker",s),n(8),f((i=h.permissionForm.get("startDate"))!=null&&i.touched&&(!((i=h.permissionForm.get("startDate"))==null||i.errors==null)&&i.errors.required)?14:-1),n(3),S(m(18,16,"CHOOSE_A_END_DATE")),n(3),y("placeholder",R(m(21,18,"END_DATE")))("min",(t=h.permissionForm.get("startDate"))==null?null:t.value)("matDatepicker",c),n(8),f((e=h.permissionForm.get("startDate"))!=null&&e.touched&&(!((e=h.permissionForm.get("endDate"))==null||e.errors==null)&&e.errors.required)?28:-1)}}function ct(a,d){a&1&&(o(0,"div",18),l(1),p(2,"translate"),r()),a&2&&(n(),g(" ",m(2,1,"PLEASE_CONFIGURE_EMAIL_SMTP_SETTINGS")," "))}var Me=class a extends li{constructor(i,t,e,s,c,h){super();this.categoryPermissionService=i;this.toastrService=t;this.data=e;this.dialogRef=s;this.fb=c;this.commonService=h;this.minDate=new Date}selectedRoles=[];minDate;permissionForm;subscriptions=new Qi;smtpConfigured;ngOnInit(){this.createUserPermissionForm(),this.subscriptions.add(this.commonService.IsSmtpConfigured.subscribe(i=>{if(i==null){this.checkEmailSMTPSettings();return}this.smtpConfigured=i}))}checkEmailSMTPSettings(){this.sub$.sink=this.commonService.checkEmailSMTPSetting().subscribe({next:i=>{i&&i?.data},error:i=>{this.toastrService.error(this.translationService.getValue("SMTP_SETTINGS_ERROR"))}})}createUserPermissionForm(){this.permissionForm=this.fb.group({isTimeBound:new A(!1),startDate:[""],endDate:[""],isAllowDownload:new A(!1),isAllowEmailNotification:new A(!1)})}timeBoundChange(i){i.checked?(this.permissionForm.get("startDate")?.setValidators([O.required]),this.permissionForm.get("endDate")?.setValidators([O.required])):(this.permissionForm.get("startDate")?.clearValidators(),this.permissionForm.get("startDate")?.updateValueAndValidity(),this.permissionForm.get("endDate")?.clearValidators(),this.permissionForm.get("endDate")?.updateValueAndValidity())}saveCategoryRolePermission(){if(!this.permissionForm.valid){this.permissionForm.markAllAsTouched();return}if(this.selectedRoles.length==0){this.toastrService.error(this.translationService.getValue("PLEASE_SELECT_ATLEAST_ONE_ROLE"));return}let i=this.selectedRoles.map(t=>Object.assign({},{id:"",categoryId:this.data.categoryId,roleId:t.id},this.permissionForm.value));this.sub$.sink=this.categoryPermissionService.addCategoryRolePermission(i).subscribe(()=>{this.toastrService.success(this.translationService.getValue("PERMISSION_ADDED_SUCCESSFULLY")),this.dialogRef.close(!0)})}onNoClick(){this.dialogRef.close()}static \u0275fac=function(t){return new(t||a)(b(L),b(di),b(ii),b(J),b(fi),b(pi))};static \u0275cmp=F({type:a,selectors:[["app-manage-role-category-permission"]],features:[U],decls:47,vars:31,consts:[["startDatePicker",""],["endDatePicker",""],[1,"d-flex"],[1,"me-auto","p-2"],[1,"mb-3","page-title"],[1,"d-flex","justify-content-end","mb-2"],[1,"close-icon","text-danger","cursor-pointer",3,"click"],[3,"formGroup"],[1,"row"],[1,"form-group","col-md-12"],[1,"form-label"],["panelClass","mat-select-control","multiple","",1,"form-control",3,"valueChange","placeholder","value"],[1,"example-additional-selection"],[3,"value"],["color","primary","formControlName","isTimeBound",3,"change"],["color","primary","formControlName","isAllowDownload"],[1,"col-md-12"],["color","primary","formControlName","isAllowEmailNotification"],[1,"alert","alert-warning","mt-2"],["matButton","filled","cdkFocusInitial","",1,"success","me-2",3,"click"],[1,"medium-icon"],["matButton","filled",1,"error","me-2",3,"click"],[1,"form-group","col-md-6"],[1,"input-group"],["formControlName","startDate",1,"form-control",3,"placeholder","min","matDatepicker"],[1,"input-group-append"],["type","button",1,"btn","btn-primary","calendar-button",3,"click"],[1,"medium-icon","fs-5","align-middle"],[1,"text-danger"],["formControlName","endDate",1,"form-control",3,"placeholder","min","matDatepicker"]],template:function(t,e){if(t&1&&(o(0,"mat-dialog-content")(1,"div",2)(2,"div",3)(3,"span",4),l(4),p(5,"translate"),r()(),o(6,"div",5)(7,"mat-icon",6),u("click",function(){return e.onNoClick()}),l(8,"cancel"),r()()(),o(9,"form",7)(10,"div",8)(11,"div",9)(12,"label",10),l(13),p(14,"translate"),r(),o(15,"mat-select",11),p(16,"translate"),X("valueChange",function(c){return Z(e.selectedRoles,c)||(e.selectedRoles=c),c}),o(17,"mat-select-trigger"),v(18,et,2,1,"span"),v(19,tt,2,2,"span",12),r(),W(20,at,2,2,"mat-option",13,q),r()()(),o(22,"div",8)(23,"mat-checkbox",14),u("change",function(c){return e.timeBoundChange(c)}),l(24),p(25,"translate"),r()(),v(26,rt,29,20,"div",8),o(27,"div",8)(28,"mat-checkbox",15),l(29),p(30,"translate"),r()(),o(31,"div",16)(32,"mat-checkbox",17),l(33),p(34,"translate"),r()(),v(35,ct,3,3,"div",18),o(36,"div",16)(37,"button",19),u("click",function(){return e.saveCategoryRolePermission()}),o(38,"mat-icon",20),l(39,"save"),r(),l(40),p(41,"translate"),r(),o(42,"button",21),u("click",function(){return e.onNoClick()}),o(43,"mat-icon",20),l(44,"cancel"),r(),l(45),p(46,"translate"),r()()()()),t&2){let s,c;n(4),g(" ",m(5,15,"ROLE_PERMISSION")," "),n(5),y("formGroup",e.permissionForm),n(4),S(m(14,17,"ROLES")),n(2),y("placeholder",R(m(16,19,"SELECT_ROLES"))),Y("value",e.selectedRoles),n(3),f(e.selectedRoles.length>0?18:-1),n(),f(e.selectedRoles.length>1?19:-1),n(),K(e.data.roles),n(4),g(" ",m(25,21,"SPACIFY_THE_PERIOD")),n(2),f((s=e.permissionForm.get("isTimeBound"))!=null&&s.value?26:-1),n(3),S(m(30,23,"ALLOW_DOWNLOAD")),n(4),S(m(34,25,"IS_ALLOW_NOTIFICATION")),n(2),f((c=e.permissionForm.get("isAllowEmailNotification"))!=null&&c.value&&!e.smtpConfigured?35:-1),n(5),g(" ",m(41,27,"SAVE")," "),n(5),g(" ",m(46,29,"CANCEL")," ")}},dependencies:[ti,ei,Ei,oi,ai,Ti,xi,Ci,Ii,Si,wi,Di,ki,Ai,Mi,Ri,yi,_i,mi,hi,ui,gi,vi,si,ri,ni,bi,ci],encapsulation:2})};export{Oe as a,Gt as b,Ti as c,L as d,De as e,Me as f};
