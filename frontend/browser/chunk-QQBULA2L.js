import{a as he,b as Ee,c as Se,e as be,f as xe,h as Me,i as Ie,k as Re,l as De,n as Te,p as Ae}from"./chunk-32HAOKOZ.js";import{a as _}from"./chunk-ZXWR2MAY.js";import"./chunk-G4LST2RF.js";import"./chunk-DXL7FQB3.js";import{a as Ce,b as _e,c as U}from"./chunk-PJSVLHWR.js";import"./chunk-546GNQSA.js";import{d as ae}from"./chunk-2DXU6Z77.js";import{b as le}from"./chunk-WC3ZMFX5.js";import{b as me}from"./chunk-UFOTACYY.js";import"./chunk-RKRBEXQJ.js";import"./chunk-C3OPHOKD.js";import{a as k,b as G,e as j}from"./chunk-F3ENXN4Q.js";import{B as He,E as Pe,c as se,e as ce,h as de,i as ge,o as ue,r as fe,u as ve}from"./chunk-KYSGX4IW.js";import"./chunk-LCPYESOB.js";import{e as ie,g as F,h as re,k as L}from"./chunk-BFSIXXTJ.js";import{a as w,b as B}from"./chunk-P6E4AR6Q.js";import{ta as oe,ua as ne,va as y,wa as pe}from"./chunk-GDJX5AXE.js";import{$ as d,Ca as S,Da as b,Db as m,Eb as s,Gc as te,Ia as f,Ja as r,Ka as a,La as u,Pa as D,Pc as O,Qa as T,Rc as N,Sa as X,Ua as x,W as n,Wa as A,d as R,ga as P,h,jb as p,ka as C,kb as J,lb as c,ma as E,p as W,q as z,rc as ee,zb as Z}from"./chunk-KZMFGXDY.js";import{Da as I}from"./chunk-W3TJXGK4.js";import"./chunk-H5HZ6YB3.js";function Ne(e,i){e&1&&(r(0,"th",17),p(1),m(2,"translate"),a()),e&2&&(n(),c(" ",s(2,1,"ACTION")," "))}function ke(e,i){if(e&1){let t=X();r(0,"td",18)(1,"div",19)(2,"button",20),x("click",function(){let l=W(t).$implicit,g=A(2);return z(g.managePageHelper(l))}),r(3,"mat-icon",21),p(4,"edit"),a()(),r(5,"button",22),x("click",function(){let l=W(t).$implicit,g=A(2);return z(g.viewPageHelper(l))}),r(6,"mat-icon",21),p(7,"visibility"),a()()()()}}function Ge(e,i){e&1&&(r(0,"th",17),p(1),m(2,"translate"),a()),e&2&&(n(),c(" ",s(2,1,"NAME")," "))}function je(e,i){if(e&1&&(r(0,"td",18),p(1),a()),e&2){let t=i.$implicit;n(),J(t.name)}}function Ue(e,i){e&1&&(r(0,"th",17),p(1),m(2,"translate"),a()),e&2&&(n(),c(" ",s(2,1,"CODE")," "))}function Ve(e,i){if(e&1&&(r(0,"td",18),p(1),a()),e&2){let t=i.$implicit;n(),J(t.code)}}function $e(e,i){e&1&&u(0,"tr",23)}function qe(e,i){e&1&&u(0,"tr",24)}function Ye(e,i){if(e&1&&(r(0,"table",9),D(1,10),E(2,Ne,3,3,"th",11)(3,ke,8,0,"td",12),T(),D(4,13),E(5,Ge,3,3,"th",11)(6,je,2,1,"td",12),T(),D(7,14),E(8,Ue,3,3,"th",11)(9,Ve,2,1,"td",12),T(),E(10,$e,1,0,"tr",15)(11,qe,1,0,"tr",16),a()),e&2){let t=A();f("dataSource",t.pageHelpers),n(10),f("matHeaderRowDef",t.columnsToDisplay)("matHeaderRowDefSticky",!0),n(),f("matRowDefColumns",t.columnsToDisplay)}}var V=class e extends _{constructor(t,o,l){super();this.router=t;this.commonService=o;this.dialog=l}pageHelpers=[];columnsToDisplay=["action","name","code"];ngOnInit(){}viewPageHelper(t){this.commonService.getPageHelperText(t.code??"").subscribe(o=>{this.dialog.open(_e,{width:"100%",maxWidth:"60vw",data:Object.assign({},o)})})}managePageHelper(t){this.router.navigate(["/page-helper/manage",t.id])}static \u0275fac=function(o){return new(o||e)(d(F),d(me),d(ae))};static \u0275cmp=P({type:e,selectors:[["app-page-helper-list-presentation"]],inputs:{pageHelpers:"pageHelpers"},features:[C],decls:13,vars:4,consts:[[1,"content"],[1,"container-fluid"],[1,"d-flex","mb-2"],[1,"me-auto"],[1,"mb-0","page-title"],["code","PAGE_HELPERS"],["appearance","outlined"],[1,"table-responsive"],[1,"grid-height-large"],["mat-table","","multiTemplateDataRows","",3,"dataSource"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","code"],["class","grid-header-color","mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[1,"d-flex","gap-2"],["matMiniFab","","type","button",1,"primary",3,"click"],[1,"medium-icon","fs-5","align-middle"],["matMiniFab","","type","button",1,"warning",3,"click"],["mat-header-row","",1,"grid-header-color"],["mat-row",""]],template:function(o,l){o&1&&(r(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),p(5),m(6,"translate"),u(7,"app-page-help-text",5),a()()(),r(8,"mat-card",6)(9,"mat-card-content")(10,"div",7)(11,"div",8),S(12,Ye,12,4,"table",9),a()()()()()()),o&2&&(n(5),c("",s(6,2,"PAGE_HELPER")," "),n(7),b(l.pageHelpers&&l.pageHelpers.length>0?12:-1))},dependencies:[U,Ae,he,Se,Ie,be,Ee,Re,xe,Me,De,Te,N,L,B,w,y,ne,j,k,G,O],encapsulation:2})};var v=class e{constructor(i,t){this.httpClient=i;this.commonHttpErrorService=t}getPageHelpers(){return this.httpClient.get("PageHelper")}updatePageHelper(i){let t=`PageHelper/${i.id}`;return this.httpClient.put(t,i).pipe(I(this.commonHttpErrorService.handleError))}addPageHelper(i){return this.httpClient.post("PageHelper",i).pipe(I(this.commonHttpErrorService.handleError))}getPageHelper(i){let t=`PageHelper/${i}`;return this.httpClient.get(t).pipe(I(this.commonHttpErrorService.handleError))}static \u0275fac=function(t){return new(t||e)(h(te),h(pe))};static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})};var q=class e extends _{constructor(t){super();this.pageHelperService=t}pageHelpers$=null;ngOnInit(){this.getPageHelpers()}getPageHelpers(){this.pageHelpers$=this.pageHelperService.getPageHelpers()}static \u0275fac=function(o){return new(o||e)(d(v))};static \u0275cmp=P({type:e,selectors:[["app-page-helper-list"]],features:[C],decls:2,vars:3,consts:[[3,"pageHelpers"]],template:function(o,l){o&1&&(u(0,"app-page-helper-list-presentation",0),m(1,"async")),o&2&&f("pageHelpers",s(1,1,l.pageHelpers$))},dependencies:[V,ee],encapsulation:2})};var Y=class{static validate(i){return i.value==null?{required:!0}:i.value.replace(/<p><\/p>/gi,"").replace(/<br\s*\/?>/gi,"").replace(/&nbsp;/gi,"").replace(/<[^>]+>/g,"").trim().length?null:{required:!0}}};var Qe=()=>["/page-helper"];function We(e,i){e&1&&(r(0,"div",13),p(1),m(2,"translate"),a()),e&2&&(n(),c(" ",s(2,1,"NAME_IS_REQUIRED")," "))}function ze(e,i){e&1&&(r(0,"div",13),p(1),m(2,"translate"),a()),e&2&&(n(),c(" ",s(2,1,"DESCRIPTION_IS_REQUIRED")," "))}var M=class e extends _{constructor(t,o,l,g,H){super();this.fb=t;this.router=o;this.activeRoute=l;this.pageHelperService=g;this.toastrService=H}pageHelper;pageHelperForm;isEditMode=!1;ngOnInit(){this.createPageHelperForm(),this.sub$.sink=this.activeRoute.data.subscribe(t=>{t.pageHelper&&(this.isEditMode=!0,this.pageHelperForm.patchValue(t.pageHelper),this.pageHelper=t.pageHelper)})}createPageHelperForm(){this.pageHelperForm=this.fb.group({id:[""],name:["",[ce.required]],description:["",[Y]]})}createBuildObject(){return{id:this.pageHelperForm.get("id")?.value,name:this.pageHelperForm.get("name")?.value,description:this.pageHelperForm.get("description")?.value}}saveUser(){if(!this.pageHelperForm.valid){this.pageHelperForm.markAllAsTouched();return}let t=this.createBuildObject();this.isEditMode?this.sub$.sink=this.pageHelperService.updatePageHelper(t).subscribe(()=>{this.toastrService.success(this.translationService.getValue("PAGE_HELPER_UPDATED_SUCCESSFULLY")),this.router.navigate(["/page-helper"])}):this.sub$.sink=this.pageHelperService.addPageHelper(t).subscribe(()=>{this.toastrService.success(this.translationService.getValue("PAGE_HELPER_CREATED_SUCCESSFULLY")),this.router.navigate(["/page-helper"])})}static \u0275fac=function(o){return new(o||e)(d(He),d(F),d(ie),d(v),d(le))};static \u0275cmp=P({type:e,selectors:[["app-manage-page-helper"]],features:[C],decls:44,vars:22,consts:[[1,"content"],[1,"container-fluid"],[1,"d-flex","mb-2"],[1,"me-auto"],[1,"mb-0","page-title"],["code","PAGE_HELPERS"],[3,"formGroup"],["appearance","outlined"],[1,"row"],[1,"col-md-6"],[1,"form-group"],[1,"form-label","text-danger"],["formControlName","name","type","text",1,"form-control"],[1,"text-danger"],[1,"col-md-12","mt-2"],[1,"fw-bold","form-label","text-danger"],[1,"NgxEditor__Wrapper"],["formControlName","description"],[1,"row","mt-4"],[1,"col-md-12"],["matButton","filled","cdkFocusInitial","",1,"success","me-2",3,"click"],[1,"medium-icon","align-middle"],["type","button","matButton","filled",1,"error",3,"routerLink"]],template:function(o,l){if(o&1&&(r(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),p(5),m(6,"translate"),u(7,"app-page-help-text",5),a()()(),r(8,"form",6)(9,"mat-card",7)(10,"mat-card-content")(11,"div",8)(12,"div",9)(13,"div",10)(14,"label",11),p(15),m(16,"translate"),r(17,"sup"),p(18,"*"),a()(),u(19,"input",12),S(20,We,3,3,"div",13),a()(),r(21,"div",14)(22,"div",10)(23,"label",15),p(24),m(25,"translate"),r(26,"sup"),p(27,"*"),a()(),r(28,"div",16),u(29,"app-text-editor",17),a(),S(30,ze,3,3,"div",13),a()(),r(31,"div",18)(32,"div",19)(33,"button",20),x("click",function(){return l.saveUser()}),r(34,"mat-icon",21),p(35,"save"),a(),p(36),m(37,"translate"),m(38,"translate"),a(),r(39,"button",22)(40,"mat-icon",21),p(41,"cancel"),a(),p(42),m(43,"translate"),a()()()()()()()()()),o&2){let g,H;n(5),c(" ",s(6,9,"MANAGE_PAGE_HELPER")," "),n(3),f("formGroup",l.pageHelperForm),n(7),c("",s(16,11,"NAME")," "),n(5),b((g=l.pageHelperForm.get("name"))!=null&&g.touched&&(!((g=l.pageHelperForm.get("name"))==null||g.errors==null)&&g.errors.required)?20:-1),n(4),c(" ",s(25,13,"DOCUMENT_SUMMARY")," "),n(6),b((H=l.pageHelperForm.get("description"))!=null&&H.touched&&(!((H=l.pageHelperForm.get("description"))==null||H.errors==null)&&H.errors.required)?30:-1),n(6),c(" ",l.isEditMode?s(37,15,"UPDATE"):s(38,17,"SAVE")," "),n(3),f("routerLink",Z(21,Qe)),n(3),c(" ",s(43,19,"CANCEL")," ")}},dependencies:[U,Ce,N,L,re,B,w,y,oe,j,k,G,Pe,ue,se,de,ge,fe,ve,O],encapsulation:2})};var Q=class e{constructor(i){this.pageHelperService=i}resolve(i,t){let o=i.paramMap.get("id");return this.pageHelperService.getPageHelper(o??"")}static \u0275fac=function(t){return new(t||e)(h(v))};static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})};var kt=[{path:"",component:q,data:{claimType:"MANAGE_PAGE_HELPER"}},{path:"manage/:id",component:M,resolve:{pageHelper:Q},data:{claimType:"MANAGE_PAGE_HELPER"}},{path:"manage",component:M,data:{claimType:"MANAGE_PAGE_HELPER"}}];export{kt as PAGE_HELPER_ROUTES};
