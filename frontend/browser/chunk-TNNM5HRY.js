import{b as H}from"./chunk-55DV7QCW.js";import"./chunk-4U6IWAJM.js";import{c as V}from"./chunk-PJSVLHWR.js";import"./chunk-546GNQSA.js";import"./chunk-2DXU6Z77.js";import{b as G}from"./chunk-WC3ZMFX5.js";import"./chunk-UFOTACYY.js";import{a as O}from"./chunk-RKRBEXQJ.js";import"./chunk-C3OPHOKD.js";import{a as k,b as R,c as W,e as F}from"./chunk-F3ENXN4Q.js";import{D as Y,c as B,h as L,n as U}from"./chunk-KYSGX4IW.js";import{a as x}from"./chunk-LCPYESOB.js";import"./chunk-BFSIXXTJ.js";import{a as w,b as T}from"./chunk-P6E4AR6Q.js";import{ta as K,va as b}from"./chunk-GDJX5AXE.js";import{Db as l,Eb as p,Gc as M,Ia as S,Ja as n,Ka as a,La as h,Pc as D,Rc as N,Ua as u,W as o,d as P,ga as v,h as _,i as c,jb as r,kb as C,lb as m,pb as f,qb as A,rb as y,vb as E}from"./chunk-KZMFGXDY.js";import"./chunk-W3TJXGK4.js";import"./chunk-H5HZ6YB3.js";var I=class d{constructor(e){this.httpClient=e}addAllowSignature(e,t){return this.httpClient.post(`api/companyprofile/${e}/allow-signature`,{allowSignatureIntoPdf:t})}addAddUpdateOpenAIAPIKey(e,t,i){return this.httpClient.post(`api/companyprofile/${e}/openai-api-key`,{openAIAPIKey:t,company:i})}static \u0275fac=function(t){return new(t||d)(_(M))};static \u0275prov=P({token:d,factory:d.\u0275fac,providedIn:"root"})};var j=class d{allowSignatureIntoPdf=!1;openAIAPIKey="";geminiAPIKey="";generalSettingsService=c(I);toastrService=c(G);translationService=c(x);securityService=c(O);companyId="";ngOnInit(){this.getCompanyProfile()}getCompanyProfile(){this.securityService.companyProfile.subscribe(e=>{e&&(this.companyId=e.id??"",this.allowSignatureIntoPdf=e.allowSignatureIntoPdf??!1)})}allowSignature(){this.generalSettingsService.addAllowSignature(this.companyId,this.allowSignatureIntoPdf).subscribe({next:e=>{this.toastrService.success(this.translationService.getValue("ADDED_OR_UPDATED_ALLOW_SIGNATURE_SUCCESSFULLY"))},error:e=>{}})}onSaveOpenAIAPIKey(e){let t=e=="openai"?this.openAIAPIKey:this.geminiAPIKey;this.generalSettingsService.addAddUpdateOpenAIAPIKey(this.companyId,t,e).subscribe({next:i=>{e=="openai"?this.toastrService.success(this.translationService.getValue("ADDED_OR_UPDATED_OPENAI_API_KEY_SUCCESSFULLY")):this.toastrService.success(this.translationService.getValue("ADDED_OR_UPDATED_GEMINI_API_KEY_SUCCESSFULLY"))},error:i=>{}})}static \u0275fac=function(t){return new(t||d)};static \u0275cmp=v({type:d,selectors:[["app-general-settings"]],decls:48,vars:31,consts:[[1,"content"],[1,"container-fluid"],[1,"d-flex","mb-2"],[1,"me-auto"],[1,"mb-0","page-title"],["code","GENERAL_SETTINGS"],[1,"row"],[1,"col-md-12"],["appearance","outlined"],[1,"card-title","text-danger"],[1,"col-md-12","my-2"],["for","openAIAPIKey",1,"form-label"],["type","password","id","openAIAPIKey",1,"form-control",3,"ngModelChange","ngModel","placeholder"],[1,"col-md-12","mt-3"],["matButton","filled",1,"success","me-2",3,"click"],[1,"medium-icon","align-middle"],[1,"row","mt-2"],["for","geminiAPIKey",1,"form-label"],["type","password","id","geminiAPIKey",1,"form-control",3,"ngModelChange","ngModel","placeholder"]],template:function(t,i){t&1&&(n(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),r(5),l(6,"translate"),h(7,"app-page-help-text",5),a()()(),n(8,"div",6)(9,"div",7)(10,"mat-card",8)(11,"mat-card-header")(12,"h5",9),r(13),l(14,"translate"),a()(),n(15,"mat-card-content")(16,"div",10)(17,"label",11),r(18),l(19,"translate"),a(),n(20,"input",12),l(21,"translate"),y("ngModelChange",function(s){return A(i.openAIAPIKey,s)||(i.openAIAPIKey=s),s}),a()(),n(22,"div",13)(23,"button",14),u("click",function(){return i.onSaveOpenAIAPIKey("openai")}),n(24,"mat-icon",15),r(25,"save"),a(),r(26),l(27,"translate"),a()()()()()(),n(28,"div",16)(29,"div",7)(30,"mat-card",8)(31,"mat-card-header")(32,"h5",9),r(33),l(34,"translate"),a()(),n(35,"mat-card-content")(36,"div",10)(37,"label",17),r(38),l(39,"translate"),a(),n(40,"input",18),l(41,"translate"),y("ngModelChange",function(s){return A(i.geminiAPIKey,s)||(i.geminiAPIKey=s),s}),a()(),n(42,"div",13)(43,"button",14),u("click",function(){return i.onSaveOpenAIAPIKey("gemini")}),n(44,"mat-icon",15),r(45,"save"),a(),r(46),l(47,"translate"),a()()()()()()()()),t&2&&(o(5),C(p(6,13,"GENERAL_SETTINGS")),o(8),m(" ",p(14,15,"OPENAI_API_KEY")," "),o(5),m("",p(19,17,"OPENAIAPIKEY")," "),o(2),S("placeholder",E(p(21,19,"ENTER_OPENAI_API_KEY"))),f("ngModel",i.openAIAPIKey),o(6),m(" ",p(27,21,"SAVE")," "),o(7),m(" ",p(34,23,"GEMINI_API_KEY")," "),o(5),m("",p(39,25,"GEMINI_API_KEY")," "),o(2),S("placeholder",E(p(41,27,"ENTER_OPENAI_API_KEY"))),f("ngModel",i.geminiAPIKey),o(6),m(" ",p(47,29,"SAVE")," "))},dependencies:[V,Y,B,L,U,N,H,F,k,R,W,T,w,b,K,D],encapsulation:2})};export{j as GeneralSettingsComponent};
