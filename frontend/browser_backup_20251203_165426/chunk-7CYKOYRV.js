import{a as Q,b as z}from"./chunk-ZU453A5Z.js";import"./chunk-4U6IWAJM.js";import{b as F}from"./chunk-YCBFVA3Y.js";import"./chunk-NJY6F3LT.js";import{a as k,c as q}from"./chunk-GYIDN45C.js";import"./chunk-G5E2PA5H.js";import"./chunk-DXL7FQB3.js";import"./chunk-F2N2VWHU.js";import{d as j}from"./chunk-AHHITDV2.js";import"./chunk-QPRQJRAS.js";import{c as w}from"./chunk-PJSVLHWR.js";import"./chunk-546GNQSA.js";import"./chunk-2DXU6Z77.js";import{b as N}from"./chunk-WC3ZMFX5.js";import{b as O}from"./chunk-UFOTACYY.js";import"./chunk-RKRBEXQJ.js";import"./chunk-C3OPHOKD.js";import{a as L,b as G,e as U}from"./chunk-F3ENXN4Q.js";import{B as Y,E as H,h as b,i as M,o as B,r as y,u as V}from"./chunk-KYSGX4IW.js";import{a as C}from"./chunk-LCPYESOB.js";import"./chunk-BFSIXXTJ.js";import{a as T,b as x}from"./chunk-P6E4AR6Q.js";import{ta as P,va as D}from"./chunk-GDJX5AXE.js";import{Ca as v,Da as u,Db as o,Eb as r,Ia as E,Ja as t,Ka as i,La as h,Pc as g,Rc as A,Ua as R,W as e,Wa as S,ga as I,i as s,jb as n,kb as f,lb as a,vb as _}from"./chunk-KZMFGXDY.js";import"./chunk-W3TJXGK4.js";import"./chunk-H5HZ6YB3.js";function K(d,l){d&1&&(t(0,"div",25),n(1),o(2,"translate"),i()),d&2&&(e(),a(" ",r(2,1,"RETENTION_PERIOD_IS_REQUIRED")," "))}function W(d,l){if(d&1&&v(0,K,3,3,"div",25),d&2){let m,p=S();u(!((m=p.archieveRetentionPeriodForm.get("retentionPeriodInDays"))==null||m.errors==null)&&m.errors.required?0:-1)}}var J=class d{formBuilder=s(Y);archieveRetentionPeriodForm;commonService=s(O);toastrService=s(N);translationService=s(C);ngOnInit(){this.createForm(),this.getArchiveRetentionPeriod()}createForm(){this.archieveRetentionPeriodForm=this.formBuilder.group({retentionPeriodInDays:["0"],isEnabled:[!1]})}getArchiveRetentionPeriod(){this.commonService.getarchiveRetentionPeriod().subscribe({next:l=>{l&&this.archieveRetentionPeriodForm.patchValue({retentionPeriodInDays:l.retentionPeriodInDays>0?l.retentionPeriodInDays.toString():null,isEnabled:l.isEnabled})},error:l=>{this.toastrService.error(this.translationService.getValue("FAILED_TO_LOAD_ARCHIVE_RETENTION_PERIOD"))}})}onSubmit(){if(!this.archieveRetentionPeriodForm.valid){this.archieveRetentionPeriodForm.markAllAsTouched();return}let l={retentionPeriodInDays:this.archieveRetentionPeriodForm.value.retentionPeriodInDays?Number(this.archieveRetentionPeriodForm.value.retentionPeriodInDays):0,isEnabled:this.archieveRetentionPeriodForm.value.isEnabled?this.archieveRetentionPeriodForm.value.isEnabled:!1};this.commonService.archiveRetentionPeriod(l).subscribe({next:m=>{m?this.toastrService.success(this.translationService.getValue("ARCHIVE_RETENTION_PERIOD_UPDATED_SUCCESSFULLY")):this.toastrService.error(this.translationService.getValue("FAILED_TO_UPDATE_ARCHIVE_RETENTION_PERIOD"))},error:m=>{this.toastrService.error(this.translationService.getValue("FAILED_TO_UPDATE_ARCHIVE_RETENTION_PERIOD"))}})}static \u0275fac=function(m){return new(m||d)};static \u0275cmp=I({type:d,selectors:[["app-archieve-retention-period"]],decls:56,vars:42,consts:[[1,"content"],[1,"container-fluid"],[1,"d-flex","mb-2"],[1,"me-auto"],[1,"mb-0","page-title"],["code","ARCHIVE_RETENTION_PERIOD"],["appearance","outlined"],[3,"ngSubmit","formGroup"],[1,"row"],[1,"col-md-6"],[1,"form-group"],["panelClass","mat-select-control","formControlName","retentionPeriodInDays",1,"form-control",3,"placeholder"],["value","30"],["value","60"],["value","90"],["value","180"],["value","365"],["value","730"],["value","1095"],["value","1825"],[1,"col-md-6","mt-4"],["formControlName","isEnabled","color","primary"],[1,"col-md-6","mt-5"],["type","submit","matButton","filled",1,"success","me-2"],[1,"medium-icon","fs-5","align-middle"],[1,"text-danger"]],template:function(m,p){if(m&1&&(t(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),n(5),o(6,"translate"),h(7,"app-page-help-text",5),i()()(),t(8,"mat-card",6)(9,"mat-card-content")(10,"form",7),R("ngSubmit",function(){return p.onSubmit()}),t(11,"div",8)(12,"div",9)(13,"div",10)(14,"label"),n(15),o(16,"translate"),i(),t(17,"mat-select",11),o(18,"translate"),t(19,"mat-option",12),n(20),o(21,"translate"),i(),t(22,"mat-option",13),n(23),o(24,"translate"),i(),t(25,"mat-option",14),n(26),o(27,"translate"),i(),t(28,"mat-option",15),n(29),o(30,"translate"),i(),t(31,"mat-option",16),n(32),o(33,"translate"),i(),t(34,"mat-option",17),n(35),o(36,"translate"),i(),t(37,"mat-option",18),n(38),o(39,"translate"),i(),t(40,"mat-option",19),n(41),o(42,"translate"),i()(),v(43,W,1,1),i()(),t(44,"div",20)(45,"div",10)(46,"mat-slide-toggle",21),n(47),o(48,"translate"),i()()()(),t(49,"div",8)(50,"div",22)(51,"button",23)(52,"mat-icon",24),n(53,"save"),i(),n(54),o(55,"translate"),i()()()()()()()()),m&2){let c;e(5),a("",r(6,16,"ARCHIVE_RETENTION_PERIOD")," "),e(5),E("formGroup",p.archieveRetentionPeriodForm),e(5),f(r(16,18,"RETENTION_PERIOD")),e(2),E("placeholder",_(r(18,20,"RETENTION_PERIOD"))),e(3),a(" ",r(21,22,"30_DAYS")," "),e(3),a(" ",r(24,24,"60_DAYS")," "),e(3),a(" ",r(27,26,"90_DAYS")," "),e(3),a(" ",r(30,28,"180_DAYS")," "),e(3),a(" ",r(33,30,"365_DAYS")," "),e(3),a(" ",r(36,32,"2_YEARS")," "),e(3),a(" ",r(39,34,"3_YEARS")," "),e(3),a(" ",r(42,36,"5_YEARS")," "),e(2),u((c=p.archieveRetentionPeriodForm.get("retentionPeriodInDays"))!=null&&c.touched&&((c=p.archieveRetentionPeriodForm.get("retentionPeriodInDays"))!=null&&c.errors)?43:-1),e(4),a(" ",r(48,38,"RETENTION_ENABLED")," "),e(7),a(" ",r(55,40,"SAVE")," ")}},dependencies:[H,B,b,M,y,V,A,x,T,F,D,P,z,Q,q,k,j,w,U,L,G,g],encapsulation:2})};export{J as ArchieveRetentionPeriodComponent};
