import{a as vt,b as ee,c as ft}from"./chunk-UCVMUJWX.js";import{a as ut}from"./chunk-5NB3GHSG.js";import{a as Ye}from"./chunk-GVGC473E.js";import{a as Z,b as We,c as Qe}from"./chunk-PJWKAJON.js";import{a as X,b as Ke}from"./chunk-ZEPKQIVA.js";import{a as qe,b as Je,c as Xe,d as Ze,e as et,f as tt,g as it,h as at,i as nt,j as ot,k as rt,l as mt,m as lt,n as pt,o as dt,p as st}from"./chunk-32HAOKOZ.js";import{a as ct}from"./chunk-DP5AXSVW.js";import{a as K}from"./chunk-QPPOSPTN.js";import"./chunk-NUIAS2S4.js";import{a as Ve}from"./chunk-BJ2ZHXLF.js";import{a as xe}from"./chunk-6GBRFDEJ.js";import"./chunk-ZL3HBFEV.js";import"./chunk-BEIMTKK4.js";import{a as be,b as Ge}from"./chunk-YCBFVA3Y.js";import{a as z}from"./chunk-ZXWR2MAY.js";import"./chunk-G4LST2RF.js";import"./chunk-NJY6F3LT.js";import{a as q,c as J}from"./chunk-GYIDN45C.js";import"./chunk-G5E2PA5H.js";import"./chunk-DXL7FQB3.js";import"./chunk-F2N2VWHU.js";import{d as Y}from"./chunk-AHHITDV2.js";import"./chunk-QPRQJRAS.js";import{a as ze,c as Q}from"./chunk-PJSVLHWR.js";import{a as Ie}from"./chunk-546GNQSA.js";import{a as he,b as _e,c as Ce,d as k,e as Te,f as B}from"./chunk-2DXU6Z77.js";import{b as Me}from"./chunk-WC3ZMFX5.js";import"./chunk-UFOTACYY.js";import"./chunk-RKRBEXQJ.js";import"./chunk-C3OPHOKD.js";import{a as Ue,b as je,c as $e,e as W}from"./chunk-F3ENXN4Q.js";import{B as Be,E as He,c as Re,e as re,h as ye,i as Pe,o as we,p as Oe,r as Le,s as Ne,t as Fe,u as ke}from"./chunk-KYSGX4IW.js";import"./chunk-LCPYESOB.js";import"./chunk-BFSIXXTJ.js";import{a as V,b as U}from"./chunk-P6E4AR6Q.js";import{D as F,ua as Ae,va as H}from"./chunk-GDJX5AXE.js";import{$ as f,$a as L,Ca as y,Da as P,Db as p,Ea as ve,Eb as d,Fb as De,Ga as A,Ha as x,Ia as l,Ja as e,Ka as t,La as v,Pa as D,Pc as j,Q as ue,Qa as g,Rc as $,Sa as w,Ua as C,W as o,Wa as T,_a as O,ab as N,ga as G,i as _,jb as i,ka as R,lb as c,ma as S,p as I,q as b,rc as ge,sb as fe,sc as Ee,vb as E,wb as Se,zb as oe}from"./chunk-KZMFGXDY.js";import{Pa as de,Ya as se,_b as ne,fa as le,gb as ce,la as pe,o as M}from"./chunk-W3TJXGK4.js";import"./chunk-H5HZ6YB3.js";var te=class extends Ye{title="";promptInput=""};var ie=class{constructor(m){this.aiDocumentGeneratorService=m}aiDocumentGeneratorSubject=new M([]);responseHeaderSubject=new M({});loadingSubject=new M(!1);loading$=this.loadingSubject.asObservable();_count=0;get count(){return this._count}responseHeaderSubject$=this.responseHeaderSubject.asObservable();connect(){return this.aiDocumentGeneratorSubject.asObservable()}disconnect(){this.aiDocumentGeneratorSubject.complete(),this.loadingSubject.complete()}loadAiDocumentGenerators(m){this.loadingSubject.next(!0),this.aiDocumentGeneratorService.getAiMsgs(m).pipe(ce(()=>this.loadingSubject.next(!1))).subscribe(a=>{let s=JSON.parse(a.headers.get("X-Pagination")??"{}");this.responseHeaderSubject.next(s);let r=[...a.body??[]];this._count=r.length,this.aiDocumentGeneratorSubject.next(r)})}};var At=(n,m)=>m.id;function xt(n,m){if(n&1&&(e(0,"mat-option",12),i(1),t()),n&2){let a=m.$implicit;l("value",a.name),o(),c(" ",a.name," ")}}function Mt(n,m){if(n&1&&(e(0,"div",13),D(1,94),e(2,"div",9)(3,"label"),i(4),p(5,"titlecase"),t(),v(6,"input",95),t(),g(),t()),n&2){let a,s=m.$implicit,r=m.$index;o(),l("formGroupName",r),o(3),c(" ",d(5,2,(a=s.get("keyword"))==null?null:a.value)," ")}}function It(n,m){n&1&&(e(0,"div",15),i(1),p(2,"translate"),t()),n&2&&(o(),c(" ",d(2,1,"DESCRIPTION_IS_REQUIRED")," "))}var ae=class n extends z{constructor(a){super();this.openAiMsg=a}aiEditorForm;aiPromptTemplates=[];selectedAiPromptTemplate;fb=_(Be);aIPromptTemplateService=_(K);aiDocumentGeneratorService=_(ee);dialogRef=_(_e);streamMarkdownService=_(ft);dialog=_(k);get keywords(){return this.aiEditorForm.get("keywords")}ngOnInit(){this.createAiEditorForm(),this.getAiPromtTemplateSettings(),this.getAiMessage()}createAiEditorForm(){this.aiEditorForm=this.fb.group({aIPromptTemplateId:[{value:"",disabled:!0}],promptInput:["",[re.required,vt("**")]],language:[{value:"en-US",disabled:!0}],maximumLength:[1e3],creativity:[{value:"0.25",disabled:!0}],keywords:this.fb.array([]),toneOfVoice:[{value:"Professional",disabled:!0}],selectedModel:[{value:"gpt-3.5-turbo",disabled:!0}],editorData:["",[re.required]]})}getAiPromtTemplateSettings(){this.aIPromptTemplateService.getAIPromptTemplates().subscribe({next:a=>{this.aiPromptTemplates=a},error:a=>{}})}getAiMessage(){this.aiDocumentGeneratorService.getAiDocumentGeneratorResponseById(this.openAiMsg.id??"").subscribe(a=>{if(a&&a.title){let s=this.streamMarkdownService.addChunkResponce(a.aiResponse??"");this.aiEditorForm.patchValue({aIPromptTemplateId:a.title,editorData:s||"",title:a.title,promptInput:a.promptInput,language:a.language,maximumLength:a.maximumLength,creativity:a.creativity,toneOfVoice:a.toneOfVoice,selectedModel:a.selectedModel})}})}closeDialog(){this.dialogRef.close()}patchAiPromptTemplateData(a){this.aiEditorForm.patchValue({aIPromptTemplateId:a?.id,promptInput:a?.promptInput})}onAiPromptTemplateChange(a){a.value&&(this.selectedAiPromptTemplate=this.aiPromptTemplates.find(s=>s.id===a.value),this.selectedAiPromptTemplate&&this.patchAiPromptTemplateData(this.selectedAiPromptTemplate))}static \u0275fac=function(s){return new(s||n)(f(Ce))};static \u0275cmp=G({type:n,selectors:[["app-ai-document-generator-details"]],features:[R],decls:211,vars:74,consts:[[1,"d-flex"],[1,"me-auto","p-2"],[1,"mb-3","page-title"],[3,"code"],[1,"d-flex","justify-content-end","mb-2"],[1,"close-icon","text-danger","cursor-pointer",3,"click","dir"],[3,"formGroup"],[1,"row"],[1,"col-sm-12"],[1,"form-group"],[3,"dir"],["panelClass","mat-select-control","formControlName","aIPromptTemplateId",1,"form-control",3,"selectionChange","dir","placeholder"],[3,"value"],["formArrayName","keywords",1,""],[1,"text-danger",3,"dir"],[1,"text-danger"],["readonly","","formControlName","promptInput","rows","6",1,"form-control","form-control-sm",3,"dir"],[1,"col-sm-6"],["panelClass","mat-select-control","formControlName","language",1,"form-control",3,"dir","placeholder"],["value","az-AZ"],["value","ar-AE"],["value","cmn-CN"],["value","hr-HR"],["value","cs-CZ"],["value","da-DK"],["value","nl-NL"],["value","en-US"],["value","en-GB"],["value","et-EE"],["value","fi-FI"],["value","fr-FR"],["value","de-DE"],["value","el-GR"],["value","he-IL"],["value","hi-IN"],["value","hu-HU"],["value","is-IS"],["value","id-ID"],["value","it-IT"],["value","ja-JP"],["value","kk-KZ"],["value","ko-KR"],["value","lt-LT"],["value","ms-MY"],["value","nb-NO"],["value","fa_IR"],["value","pl-PL"],["value","pt-BR"],["value","pt-PT"],["value","ro-RO"],["value","ru-RU"],["value","sk-SK"],["value","sl-SI"],["value","es-ES"],["value","es-MX"],["value","sw-KE"],["value","sv-SE"],["value","tr-TR"],["value","th-TH"],["value","vi-VN"],["readonly","","formControlName","maximumLength","type","number",1,"form-control","form-control-sm",3,"dir"],["panelClass","mat-select-control","formControlName","creativity",1,"form-control",3,"dir","placeholder"],["value","0.25"],["value","0.5"],["value","0.75"],["value","1"],["panelClass","mat-select-control","formControlName","toneOfVoice",1,"form-control",3,"dir","placeholder"],["value","Professional","selected",""],["value","Funny"],["value","Casual"],["value","Excited"],["value","Witty"],["value","Sarcastic"],["value","Feminine"],["value","Masculine"],["value","Bold"],["value","Dramatic"],["value","Grumpy"],["value","Secretive"],["value","other"],["panelClass","mat-select-control","formControlName","selectedModel",1,"form-control",3,"dir","placeholder"],["value","gpt-3.5-turbo"],["value","gpt-4"],["value","gpt-4o"],["value","gpt-4o-mini"],[1,"col-md-12"],[1,"font-weight-bold",3,"dir"],[1,"NgxEditor__Wrapper"],["formControlName","editorData"],[2,"position","absolute","left","-15420px"],[2,"width","100%","display","flex"],["id","pdfDocument"],[1,"container",2,"width","95%","margin-right","auto","margin-left","auto"],[3,"innerHTML"],[3,"formGroupName"],["formControlName","keywordValue",1,"form-control","form-control-sm"]],template:function(s,r){if(s&1&&(e(0,"mat-dialog-content")(1,"div",0)(2,"div",1)(3,"span",2),i(4),p(5,"translate"),v(6,"app-page-help-text",3),t()(),e(7,"div",4)(8,"mat-icon",5),C("click",function(){return r.closeDialog()}),i(9,"cancel"),t()()(),e(10,"form",6)(11,"div",7)(12,"div",8)(13,"div",9)(14,"label",10),i(15),p(16,"translate"),t(),e(17,"mat-select",11),p(18,"translate"),C("selectionChange",function(h){return r.onAiPromptTemplateChange(h)}),e(19,"mat-option",12),i(20),p(21,"translate"),t(),A(22,xt,2,2,"mat-option",12,At),t()()()(),e(24,"div",7)(25,"div",8),A(26,Mt,7,4,"div",13,ve),t()(),e(28,"div",7)(29,"div",8)(30,"div",9)(31,"label",14),i(32),p(33,"translate"),e(34,"span",15),i(35),p(36,"translate"),t()(),v(37,"textarea",16),t()()(),e(38,"div",7)(39,"div",17)(40,"div",9)(41,"label",10),i(42),p(43,"translate"),t(),e(44,"mat-select",18),p(45,"translate"),e(46,"mat-option",19),i(47,"Azerbaijani (Azerbaijan)"),t(),e(48,"mat-option",20),i(49,"Arabic"),t(),e(50,"mat-option",21),i(51,"Chinese (Mandarin)"),t(),e(52,"mat-option",22),i(53,"Croatian (Croatia)"),t(),e(54,"mat-option",23),i(55,"Czech (Czech Republic)"),t(),e(56,"mat-option",24),i(57,"Danish (Denmark)"),t(),e(58,"mat-option",25),i(59,"Dutch (Netherlands)"),t(),e(60,"mat-option",26),i(61,"English (USA)"),t(),e(62,"mat-option",27),i(63,"English (UK)"),t(),e(64,"mat-option",28),i(65,"Estonian (Estonia)"),t(),e(66,"mat-option",29),i(67,"Finnish (Finland)"),t(),e(68,"mat-option",30),i(69,"French (France)"),t(),e(70,"mat-option",31),i(71,"German (Germany)"),t(),e(72,"mat-option",32),i(73,"Greek (Greece)"),t(),e(74,"mat-option",33),i(75,"Hebrew (Israel)"),t(),e(76,"mat-option",34),i(77,"Hindi (India)"),t(),e(78,"mat-option",35),i(79,"Hungarian (Hungary)"),t(),e(80,"mat-option",36),i(81,"Icelandic (Iceland)"),t(),e(82,"mat-option",37),i(83,"Indonesian (Indonesia)"),t(),e(84,"mat-option",38),i(85,"Italian (Italy)"),t(),e(86,"mat-option",39),i(87,"Japanese (Japan)"),t(),e(88,"mat-option",40),i(89,"Kazakh (Kazakhistan)"),t(),e(90,"mat-option",41),i(91,"Korean (South Korea)"),t(),e(92,"mat-option",42),i(93,"Lithuanian (Lithuania)"),t(),e(94,"mat-option",43),i(95,"Malay (Malaysia)"),t(),e(96,"mat-option",44),i(97,"Norwegian (Norway)"),t(),e(98,"mat-option",45),i(99,"Persian"),t(),e(100,"mat-option",46),i(101,"Polish (Poland)"),t(),e(102,"mat-option",47),i(103,"Portuguese (Brazil)"),t(),e(104,"mat-option",48),i(105,"Portuguese (Portugal)"),t(),e(106,"mat-option",49),i(107,"Romanian (Romania)"),t(),e(108,"mat-option",50),i(109,"Russian (Russia)"),t(),e(110,"mat-option",51),i(111,"Slovak (Slovakia)"),t(),e(112,"mat-option",52),i(113,"Slovenian (Slovenia)"),t(),e(114,"mat-option",53),i(115,"Spanish (Spain)"),t(),e(116,"mat-option",54),i(117,"Spanish (Mexico)"),t(),e(118,"mat-option",55),i(119,"Swahili (Kenya)"),t(),e(120,"mat-option",56),i(121,"Swedish (Sweden)"),t(),e(122,"mat-option",57),i(123,"Turkish (Turkey)"),t(),e(124,"mat-option",58),i(125,"Thai (Thailand)"),t(),e(126,"mat-option",59),i(127,"Vietnamese (Vietnam)"),t()()()(),e(128,"div",17)(129,"div",9)(130,"label",10),i(131),p(132,"translate"),t(),v(133,"input",60),t()()(),e(134,"div",7)(135,"div",17)(136,"label",10),i(137),p(138,"translate"),t(),e(139,"mat-select",61),p(140,"translate"),e(141,"mat-option",62),i(142," Economic "),t(),e(143,"mat-option",63),i(144," Average "),t(),e(145,"mat-option",64),i(146," Good "),t(),e(147,"mat-option",65),i(148," Premium "),t()()(),e(149,"div",17)(150,"label",10),i(151),p(152,"translate"),t(),e(153,"mat-select",66),p(154,"translate"),e(155,"mat-option",67),i(156," Professional "),t(),e(157,"mat-option",68),i(158," Funny "),t(),e(159,"mat-option",69),i(160," Casual "),t(),e(161,"mat-option",70),i(162," Excited "),t(),e(163,"mat-option",71),i(164," Witty "),t(),e(165,"mat-option",72),i(166," Sarcastic "),t(),e(167,"mat-option",73),i(168," Feminine "),t(),e(169,"mat-option",74),i(170," Masculine "),t(),e(171,"mat-option",75),i(172," Bold "),t(),e(173,"mat-option",76),i(174," Dramatic "),t(),e(175,"mat-option",77),i(176," Grumpy "),t(),e(177,"mat-option",78),i(178," Secretive "),t(),e(179,"mat-option",79),i(180," other "),t()()()(),e(181,"div",7)(182,"div",8)(183,"div",9)(184,"label",10),i(185),p(186,"translate"),t(),e(187,"mat-select",80),p(188,"translate"),e(189,"mat-option",81),i(190," GPT-3.5-TURBO "),t(),e(191,"mat-option",82),i(192," GPT-4 (Most Expensive & Fastest & Most Capable) "),t(),e(193,"mat-option",83),i(194," GPT-4o Most advanced, multimodal flagship model that\u2019s cheaper and faster than GPT-4 Turbo. (Updated Knowleddge cutoff of Oct 2023, 128k) "),t(),e(195,"mat-option",84),i(196," GPT-4o mini Our affordable and intelligent small model for fast, lightweight tasks. GPT-4o mini is cheaper and more capable than GPT-3.5 Turbo. "),t()()()()(),e(197,"div",7)(198,"div",85)(199,"div",9)(200,"label",86),i(201),p(202,"translate"),t(),e(203,"div",87),v(204,"app-text-editor",88),t(),y(205,It,3,3,"div",15),t()()(),e(206,"div",89)(207,"div",90)(208,"div",91)(209,"div",92),v(210,"div",93),t()()()()()()),s&2){let u,h;o(4),c(" ",d(5,42,"AI_DOCUMENT_GENERATOR_DETAILS")," "),o(2),l("code","AI_DOCUMENT_GENERATOR_DETAILS"),o(2),l("dir",r.langDir),o(2),l("formGroup",r.aiEditorForm),o(4),l("dir",r.langDir),o(),c(" ",d(16,44,"SELECT_AI_PROMPT_TEMPLATE")," "),o(2),l("placeholder",E(d(18,46,"SELECT_AI_PROMPT_TEMPLATE")))("dir",r.langDir),o(3),c("-- ",d(21,48,"NONE")," --"),o(2),x(r.aiPromptTemplates),o(4),x(r.keywords.controls),o(5),l("dir",r.langDir),o(),c(" ",d(33,50,"PROMPT_INPUT")," * "),o(3),c(" ",d(36,52,"REPLACE_WORD")," "),o(2),l("dir",r.langDir),o(4),l("dir",r.langDir),o(),c(" ",d(43,54,"AI_LANGUAGE")," "),o(2),l("placeholder",Se(" ",d(45,56,"SELECT_LANGUAGE")))("dir",r.langDir),o(86),l("dir",r.langDir),o(),c(" ",d(132,58,"MAXIMUM_LENGTH")," "),o(2),l("dir",r.langDir),o(3),l("dir",r.langDir),o(),c(" ",d(138,60,"CREATIVITY")," "),o(2),l("placeholder",E(d(140,62,"CREATIVITY")))("dir",r.langDir),o(11),l("dir",r.langDir),o(),c(" ",d(152,64,"TONE_OF_VOICE")," "),o(2),l("placeholder",E(d(154,66,"TONE_OF_VOICE")))("dir",r.langDir),o(31),l("dir",r.langDir),o(),c(" ",d(186,68,"SELECT_MODEL")," "),o(2),l("placeholder",E(d(188,70,"SELECT_AI_MODEL")))("dir",r.langDir),o(13),l("dir",r.langDir),o(),c(" ",d(202,72,"DOCUMENT_SUMMARY")," "),o(4),P((u=r.aiEditorForm.get("editorData"))!=null&&u.touched&&((u=r.aiEditorForm.get("editorData"))!=null&&u.errors)&&(!((u=r.aiEditorForm.get("editorData"))==null||u.errors==null)&&u.errors.required)?205:-1),o(5),l("innerHTML",E((h=r.aiEditorForm.get("editorData"))==null?null:h.value),ue)}},dependencies:[ze,J,F,q,Y,U,V,H,he,He,we,Re,Oe,ye,Pe,Le,ke,Ne,Fe,$,B,Te,Q,W,j,Ee],encapsulation:2})};var bt=["input"],Gt=()=>["footer"],Rt=()=>[10,20,30],yt=(n,m)=>m.id;function Pt(n,m){if(n&1&&(e(0,"mat-option",11),i(1),t()),n&2){let a=m.$implicit;l("value",a),o(),c(" ",a.name," ")}}function wt(n,m){n&1&&(e(0,"th",34),i(1),p(2,"translate"),t()),n&2&&(o(),c(" ",d(2,1,"ACTION")," "))}function Ot(n,m){if(n&1){let a=w();e(0,"button",39),C("click",function(){I(a);let r=T().$implicit,u=T();return b(u.onAiDocumentGeneratorDetails(r))}),e(1,"mat-icon",40),i(2,"info"),t()()}}function Lt(n,m){if(n&1){let a=w();e(0,"button",41),C("click",function(){I(a);let r=T().$implicit,u=T();return b(u.deleteAiDocumentGenerator(r))}),e(1,"mat-icon",40),i(2,"delete"),t()()}}function Nt(n,m){n&1&&(e(0,"td",35)(1,"div",36),S(2,Ot,3,0,"button",37)(3,Lt,3,0,"button",38),t()()),n&2&&(o(2),l("hasClaim","VIEW_AI_DOCUMENT_GENERATOR"),o(),l("hasClaim","DELETE_AI_DOCUMENT_GENERATOR"))}function Ft(n,m){n&1&&(e(0,"th",42),i(1),p(2,"translate"),t()),n&2&&(o(),c(" ",d(2,1,"DATE_TIME")," "))}function kt(n,m){if(n&1&&(e(0,"td",43),i(1),p(2,"utcToLocalTime"),t()),n&2){let a=m.$implicit;o(),c(" ",De(2,1,a==null?null:a.createdDate,"full")," ")}}function Bt(n,m){n&1&&(e(0,"th",44),i(1),p(2,"translate"),t()),n&2&&(o(),c(" ",d(2,1,"TITLE")," "))}function Ht(n,m){if(n&1&&(e(0,"td",45),i(1),t()),n&2){let a=m.$implicit;o(),c(" ",a.title," ")}}function Vt(n,m){n&1&&(e(0,"th",44),i(1),p(2,"translate"),t()),n&2&&(o(),c(" ",d(2,1,"PROMPT_INPUT")," "))}function Ut(n,m){if(n&1&&(e(0,"td",45),i(1),t()),n&2){let a=m.$implicit;o(),c(" ",a.promptInput," ")}}function jt(n,m){n&1&&(e(0,"th",44),i(1),p(2,"translate"),t()),n&2&&(o(),c(" ",d(2,1,"SELECTED_MODEL")," "))}function $t(n,m){if(n&1&&(e(0,"td",45),i(1),t()),n&2){let a=m.$implicit;o(),c(" ",a.selectedModel," ")}}function zt(n,m){if(n&1&&(e(0,"td",46),v(1,"mat-paginator",47),t()),n&2){let a=T();o(),l("length",a.aiDocumentGeneratorResource.totalCount)("pageSize",a.aiDocumentGeneratorResource.pageSize)("pageSizeOptions",oe(3,Rt))}}function Kt(n,m){n&1&&(e(0,"tr")(1,"td",48)(2,"div",49)(3,"b"),i(4),p(5,"translate"),t()()()()),n&2&&(o(4),c(" ",d(5,1,"NO_DATA_FOUND")))}function Wt(n,m){n&1&&v(0,"tr",50)}function Qt(n,m){n&1&&v(0,"tr",51)}function Yt(n,m){n&1&&v(0,"tr",52)}function qt(n,m){n&1&&(e(0,"div",33),v(1,"mat-progress-spinner",53),t())}var St=class n extends z{constructor(a,s,r,u,h,me){super();this.aiDocumentGeneratorService=a;this.aIPromptTemplateService=s;this.commonDialogService=r;this.toastrService=u;this.dialog=h;this.breakpointsService=me;this.aiDocumentGeneratorResource=new te,this.aiDocumentGeneratorResource.pageSize=10,this.aiDocumentGeneratorResource.orderBy="createdDate desc"}dataSource;displayedColumns=["action","createdDate","title","promptInput","selectedModel"];isLoadingResults=!0;aiDocumentGeneratorResource;aiPromptTemplates=[];loading$;paginator;sort;input;footerToDisplayed=["footer"];ngOnInit(){this.dataSource=new ie(this.aiDocumentGeneratorService),this.dataSource.loadAiDocumentGenerators(this.aiDocumentGeneratorResource),this.getResourceParameter(),this.getAiPromtTemplateSettings()}getAiPromtTemplateSettings(){this.aIPromptTemplateService.getAIPromptTemplates().subscribe({next:a=>{this.aiPromptTemplates=a},error:a=>{}})}ngAfterViewInit(){this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),this.sub$.sink=pe(this.sort.sortChange,this.paginator.page).pipe(ne(a=>{this.aiDocumentGeneratorResource.skip=this.paginator.pageIndex*this.paginator.pageSize,this.aiDocumentGeneratorResource.pageSize=this.paginator.pageSize,this.aiDocumentGeneratorResource.orderBy=this.sort.active+" "+this.sort.direction,this.dataSource.loadAiDocumentGenerators(this.aiDocumentGeneratorResource)})).subscribe(),this.sub$.sink=le(this.input.nativeElement,"keyup").pipe(de(1e3),se(),ne(()=>{this.paginator.pageIndex=0,this.aiDocumentGeneratorResource.title=this.input.nativeElement.value,this.dataSource.loadAiDocumentGenerators(this.aiDocumentGeneratorResource)})).subscribe()}onAiPromptTemplateChange(a){let s=a.value;s?this.aiDocumentGeneratorResource.title=s.name:this.aiDocumentGeneratorResource.title="",this.aiDocumentGeneratorResource.skip=0,this.paginator.pageIndex=0,this.dataSource.loadAiDocumentGenerators(this.aiDocumentGeneratorResource)}getResourceParameter(){this.sub$.sink=this.dataSource.responseHeaderSubject$.subscribe(a=>{a&&(this.aiDocumentGeneratorResource.pageSize=a.pageSize,this.aiDocumentGeneratorResource.skip=a.skip,this.aiDocumentGeneratorResource.totalCount=a.totalCount)})}onAiDocumentGeneratorDetails(a){let r=window.innerWidth<768?"90vw":"60vw";this.dialog.open(ae,{data:a}).afterClosed().subscribe(h=>{})}deleteAiDocumentGenerator(a){this.sub$.sink=this.commonDialogService.deleteConfirmtionDialog(`${this.translationService.getValue("ARE_YOU_SURE_YOU_WANT_TO_DELETE")} ${a.title}`).subscribe(s=>{s&&(this.sub$.sink=this.aiDocumentGeneratorService.deleteAiDocumentGenerator(a.id??"").subscribe(()=>{this.toastrService.success(this.translationService.getValue("AI_DOCUMENT_GENERATOR_DELETED_SUCCESSFULLY")),this.dataSource.loadAiDocumentGenerators(this.aiDocumentGeneratorResource)}))})}static \u0275fac=function(s){return new(s||n)(f(ee),f(K),f(ct),f(Me),f(k),f(Ve))};static \u0275cmp=G({type:n,selectors:[["app-ai-document-generator-list"]],viewQuery:function(s,r){if(s&1&&(O(X,5),O(Z,5),O(bt,5)),s&2){let u;L(u=N())&&(r.paginator=u.first),L(u=N())&&(r.sort=u.first),L(u=N())&&(r.input=u.first)}},features:[R],decls:51,vars:26,consts:[["input",""],[1,"content"],[1,"container-fluid"],[1,"d-flex","mb-2"],[1,"me-auto"],[1,"mb-0","page-title"],[3,"code"],["appearance","outlined"],[1,"row","g-2","mb-3","w-100"],[1,"col-md-6","col-12"],["panelClass","mat-select-control","formControlName","aIPromptTemplateId",1,"form-control","w-100",3,"selectionChange","placeholder"],[3,"value"],[1,"form-control","w-100",3,"placeholder"],[1,"table-responsive"],[1,"grid-height-medium"],["mat-table","","matSortDisableClear","","matSort","","matSortActive","createdDate","matSortDirection","desc",1,"w-100",3,"dir","dataSource"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","mat-cell","",4,"matCellDef"],["matColumnDef","createdDate"],["class","table-column-200","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","table-column-200","mat-cell","",4,"matCellDef"],["matColumnDef","title"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","promptInput"],["matColumnDef","selectedModel"],["matColumnDef","footer"],["mat-footer-cell","","colspan","5",4,"matFooterCellDef"],[4,"matNoDataRow"],["class","grid-header-color","mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef","matFooterRowDefSticky"],[1,"spinner-container"],["mat-header-cell",""],["mat-cell","","mat-cell",""],[1,"d-flex","gap-2"],["matMiniFab","","class","primary","type","button",3,"click",4,"hasClaim"],["matMiniFab","","class","error me-2",3,"click",4,"hasClaim"],["matMiniFab","","type","button",1,"primary",3,"click"],[1,"medium-icon","fs-5","align-middle"],["matMiniFab","",1,"error","me-2",3,"click"],["mat-header-cell","","mat-sort-header","",1,"table-column-200"],["mat-cell","",1,"table-column-200"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-footer-cell","","colspan","5"],[3,"length","pageSize","pageSizeOptions"],["colspan","5"],[1,"m-2"],["mat-header-row","",1,"grid-header-color"],["mat-row",""],["mat-footer-row",""],["mode","indeterminate","diameter","60","strokeWidth","5"]],template:function(s,r){if(s&1){let u=w();e(0,"section",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"span",5),i(5),p(6,"translate"),v(7,"app-page-help-text",6),t()()(),e(8,"mat-card",7)(9,"mat-card-header")(10,"div",8)(11,"div",9)(12,"mat-select",10),p(13,"translate"),C("selectionChange",function(me){return I(u),b(r.onAiPromptTemplateChange(me))}),e(14,"mat-option",11),i(15),p(16,"translate"),t(),A(17,Pt,2,2,"mat-option",11,yt),t()(),e(19,"div",9),v(20,"input",12,0),p(22,"translate"),t()()(),e(23,"mat-card-content")(24,"div",13)(25,"div",14)(26,"table",15),D(27,16),S(28,wt,3,3,"th",17)(29,Nt,4,2,"td",18),g(),D(30,19),S(31,Ft,3,3,"th",20)(32,kt,3,4,"td",21),g(),D(33,22),S(34,Bt,3,3,"th",23)(35,Ht,2,1,"td",24),g(),D(36,25),S(37,Vt,3,3,"th",23)(38,Ut,2,1,"td",24),g(),D(39,26),S(40,jt,3,3,"th",23)(41,$t,2,1,"td",24),g(),D(42,27),S(43,zt,2,4,"td",28),g(),S(44,Kt,6,3,"tr",29)(45,Wt,1,0,"tr",30)(46,Qt,1,0,"tr",31)(47,Yt,1,0,"tr",32),t()()()()()()(),fe(48),p(49,"async"),y(50,qt,2,0,"div",33)}if(s&2){o(5),c("",d(6,15,"AI_DOCUMENT_GENERATOR_LIST")," "),o(2),l("code","AI_DOCUMENT_GENERATOR_LIST"),o(5),l("placeholder",E(d(13,17,"SELECT_AI_PROMPT_TEMPLATE"))),o(3),c("-- ",d(16,19,"NONE")," --"),o(2),x(r.aiPromptTemplates),o(3),l("placeholder",E(d(22,21,"SEARCH_BY_PROMPTINPUT"))),o(6),l("dir",r.langDir)("dataSource",r.dataSource),o(19),l("matHeaderRowDef",r.displayedColumns)("matHeaderRowDefSticky",!0),o(),l("matRowDefColumns",r.displayedColumns),o(),l("matFooterRowDef",oe(25,Gt))("matFooterRowDefSticky",!0);let u=d(49,23,r.dataSource.loading$);o(3),P(u?50:-1)}},dependencies:[st,F,qe,Xe,nt,et,Je,rt,Ze,ot,tt,at,it,mt,pt,lt,dt,Qe,Z,We,Ke,X,ut,J,q,Y,B,Q,$,Ie,W,Ue,je,$e,U,V,Ge,be,H,Ae,j,xe,ge],encapsulation:2})};export{St as AiDocumentGeneratorListComponent};
