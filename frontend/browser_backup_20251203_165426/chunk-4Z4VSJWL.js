import{b as w}from"./chunk-UFOTACYY.js";import{a as c}from"./chunk-C3OPHOKD.js";import{wa as x}from"./chunk-GDJX5AXE.js";import{Gc as p,d as E,h as n}from"./chunk-KZMFGXDY.js";import{Da as i,_b as r,o as a}from"./chunk-W3TJXGK4.js";var h=class l{constructor(o,e,t,s){this.httpClient=o;this.commonHttpErrorService=e;this.commonService=t;this.clonerService=s;let m=sessionStorage.getItem(this.storageKey);m&&this._allowFileExtension$.next(JSON.parse(m))}storageKey="allowFileExtension";_allowFileExtension$=new a([]);allowFileExtension$=this._allowFileExtension$.asObservable();get currentExtensions(){return this._allowFileExtension$.value}getAllowFileExtensions(){return this.httpClient.get("AllowFileExtension").pipe(r(e=>{e?.length>0&&(this.commonService.setAllowFileExtension(e),sessionStorage.setItem(this.storageKey,JSON.stringify(e)))}),i(this.commonHttpErrorService.handleError))}getAllowFileExtension(o){let e=`AllowFileExtension/${o}`;return this.httpClient.get(e).pipe(i(this.commonHttpErrorService.handleError))}addAllowFileExtension(o){return this.httpClient.post("AllowFileExtension",o).pipe(r(e=>{let t=[...this._allowFileExtension$.value,this.clonerService.deepClone(e)];this._allowFileExtension$.next(t),sessionStorage.setItem(this.storageKey,JSON.stringify(t))}),i(this.commonHttpErrorService.handleError))}updateAllowFileExtension(o){return this.httpClient.put(`AllowFileExtension/${o.id}`,o).pipe(r(e=>{let t=this._allowFileExtension$.value.map(s=>s.id===e.id?this.clonerService.deepClone(e):s);this._allowFileExtension$.next(t),sessionStorage.setItem(this.storageKey,JSON.stringify(t))}),i(this.commonHttpErrorService.handleError))}deleteAllowFileExtension(o){return this.httpClient.delete(`AllowFileExtension/${o}`).pipe(r(()=>{let e=this._allowFileExtension$.value.filter(t=>t.id!==o);this._allowFileExtension$.next(e),sessionStorage.setItem(this.storageKey,JSON.stringify(e))}),i(this.commonHttpErrorService.handleError))}setAllowFileExtension(o){this._allowFileExtension$.next(this.clonerService.deepClone(o)),sessionStorage.setItem(this.storageKey,JSON.stringify(o))}static \u0275fac=function(e){return new(e||l)(n(p),n(x),n(w),n(c))};static \u0275prov=E({token:l,factory:l.\u0275fac,providedIn:"root"})};export{h as a};
