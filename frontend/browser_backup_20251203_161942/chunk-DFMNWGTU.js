import{a as p}from"./chunk-C3OPHOKD.js";import{a as h}from"./chunk-DGFNMOMG.js";import{Gc as c,d as C,h as i}from"./chunk-KZMFGXDY.js";import{Da as g,J as n,Ub as l,W as a,_b as o}from"./chunk-W3TJXGK4.js";var y=class s{constructor(t,e,r){this.httpClient=t;this.clonerService=e;this.commonHttpErrorService=r}categories=[];categoryKey="categoryKey";assignToMeCategoryKey="assignToMeCategoryKey";getAllCategories(t=!1){if(!t){if(this.categories.length>0)return n(this.categories);if(sessionStorage.getItem(this.categoryKey)!=null){let r=sessionStorage.getItem(this.categoryKey);return this.categories=JSON.parse(r)??[],n(this.categories)}}return this.httpClient.get("Category").pipe(o(r=>{this.categories=this.clonerService.deepClone(r),sessionStorage.setItem(this.categoryKey,JSON.stringify(this.categories))}))}delete(t){let e=`Category/${t}`;return this.httpClient.delete(e)}update(t){let e=`Category/${t.id}`;return this.httpClient.put(e,t)}add(t){return this.httpClient.post("Category",t).pipe(o(r=>{this.categories.push(this.clonerService.deepClone(r)),sessionStorage.setItem(this.categoryKey,JSON.stringify(this.categories))}),l(r=>this.getAllCategories(!0).pipe(a(()=>r))))}updateAssign(t){let e=`Category/AssignToMe/${t.id}`;return this.httpClient.put(e,t)}addAssign(t){return this.httpClient.post("Category/AssignToMe",t).pipe(o(r=>{this.categories.push(this.clonerService.deepClone(r)),sessionStorage.setItem(this.categoryKey,JSON.stringify(this.categories))}),l(r=>this.getAllCategories(!0).pipe(a(()=>r))))}getCategoryById(t){let e=`Category/${t}`;return this.httpClient.get(e)}getSubCategories(t){let e=`Category/${t}/subcategories`;return this.httpClient.get(e)}getCategoriesByParentId(t){let e=`Category/${t}/children`;return this.httpClient.get(e)}getCategoriesSharedByParentId(t){let e=`Category/${t}/shared/children`;return this.httpClient.get(e)}getCategoriesHierarchicalBychildId(t){let e=`Category/${t}/hierarchical`;return this.httpClient.get(e)}getAllCategoriesForDropDown(){return this.httpClient.get("Category/dropdown")}getAllAssignToMeCategoriesForDropDown(){return this.httpClient.get("Category/AssignToMe/dropdown")}getAllAssignToMeCategoriesSearchDropdown(){return this.httpClient.get("Category/AssignToMe/searchdropdown")}archiveFolder(t){let e=`Category/${t}/archive`;return this.httpClient.post(e,null)}archiveAssignFolder(t){let e=`Category/${t}/AssignFolders/archive`;return this.httpClient.post(e,null).pipe(g(this.commonHttpErrorService.handleError))}restoreFolder(t){let e=`Category/${t}/restore`;return this.httpClient.post(e,null).pipe(g(this.commonHttpErrorService.handleError))}getArchiveCategoriesByParentId(t){let e=`Category/${t}/archive`;return this.httpClient.get(e)}static \u0275fac=function(e){return new(e||s)(i(c),i(p),i(h))};static \u0275prov=C({token:s,factory:s.\u0275fac,providedIn:"root"})};export{y as a};
