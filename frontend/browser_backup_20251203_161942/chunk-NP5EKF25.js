import{a as ie,b as ne}from"./chunk-6QK67EK5.js";import"./chunk-4U6IWAJM.js";import{b as G}from"./chunk-VX5UXB3Q.js";import{c as D}from"./chunk-I43MH25B.js";import"./chunk-OHUA35YV.js";import"./chunk-6MWAWDLF.js";import{c as te}from"./chunk-756DJ4VK.js";import"./chunk-JYYDN77K.js";import"./chunk-BQ4MMRNN.js";import{b as V}from"./chunk-JSAPTJHL.js";import"./chunk-UFOTACYY.js";import{a as Y,b as Z,e as ee}from"./chunk-THB5JDTQ.js";import{a as M,b as B}from"./chunk-4E37NPLR.js";import{ta as F,va as A}from"./chunk-56QOWAU7.js";import"./chunk-77WXBMFN.js";import"./chunk-XFBX5CPU.js";import"./chunk-C3OPHOKD.js";import{A as z,B as J,E as K,c as O,e as v,h as L,i as q,j as $,l as H,o as U,p as P,r as Q,s as W,t as j,u as X}from"./chunk-KYSGX4IW.js";import{a as R}from"./chunk-LCPYESOB.js";import{g as N,k as I}from"./chunk-BFSIXXTJ.js";import"./chunk-DGFNMOMG.js";import{Ca as g,Da as S,Db as m,Ea as E,Eb as s,Ga as x,Ha as y,Ia as T,Ja as t,Ka as i,La as b,Pc as k,Rc as w,Ua as _,W as n,Wa as h,ga as C,i as c,jb as l,kb as f,lb as d}from"./chunk-KZMFGXDY.js";import"./chunk-W3TJXGK4.js";import"./chunk-H5HZ6YB3.js";function ae(r,e){r&1&&(t(0,"div",23),l(1),m(2,"translate"),i()),r&2&&(n(),d(" ",s(2,1,"WIDTH_IS_REQUIRED")," "))}function le(r,e){if(r&1&&(t(0,"div"),g(1,ae,3,3,"div",23),i()),r&2){let o,a=h().$implicit;n(),S(!((o=a.get("width"))==null||o.errors==null)&&o.errors.required?1:-1)}}function me(r,e){r&1&&(t(0,"div",23),l(1),m(2,"translate"),i()),r&2&&(n(),d(" ",s(2,1,"ORDERNUMBER_IS_REQUIRED")," "))}function se(r,e){if(r&1&&(t(0,"div"),g(1,me,3,3,"div",23),i()),r&2){let o,a=h().$implicit;n(),S(!((o=a.get("orderNumber"))==null||o.errors==null)&&o.errors.required?1:-1)}}function de(r,e){if(r&1&&(t(0,"tr",15)(1,"td"),l(2),m(3,"translate"),i(),t(4,"td"),b(5,"input",20),g(6,le,2,1,"div"),i(),t(7,"td"),b(8,"mat-checkbox",21),i(),t(9,"td"),b(10,"input",22),g(11,se,2,1,"div"),i()()),r&2){let o,a,p,u=e.$implicit,oe=e.$index;T("formGroupName",oe),n(2),d(" ",s(3,4,(o=u.get("header"))==null?null:o.value)," "),n(4),S((a=u.get("width"))!=null&&a.touched&&((a=u.get("width"))!=null&&a.errors)?6:-1),n(5),S((p=u.get("orderNumber"))!=null&&p.touched&&((p=u.get("orderNumber"))!=null&&p.errors)?11:-1)}}var re=class r{tableSettingsForm;screenName="documents";documentStore=c(G);matTableSetting=this.documentStore.matTableSetting()??{id:0,screenName:"",settings:[]};fb=c(J);router=c(N);translationService=c(R);toastrService=c(V);typeOptions=[{key:"text",value:this.translationService.getValue("TEXT")},{key:"datetime",value:this.translationService.getValue("DATETIME")},{key:"bool",value:this.translationService.getValue("BOOL")}];constructor(){this.updateTableSettings()}get settingsArray(){return this.tableSettingsForm.get("settingsArray")}ngOnInit(){this.createTableSettingsForm()}updateTableSettings(){D(this.documentStore.isTableSettingAdded).subscribe(e=>{e&&(this.documentStore.updateTableSettingAdded(),this.router.navigate(["/documents/list-view"]))})}onSeetingsClose(){this.router.navigate(["/documents/list-view"])}createTableSettingsForm(){this.tableSettingsForm=new $({screenName:new H({value:"documents",disabled:!0},[v.required]),settingsArray:new z([])}),this.matTableSetting.settings.forEach(e=>{this.addTableSetting(e)})}addTableSetting(e){this.settingsArray.push(this.fb.group({key:[e.key],header:[e.header],width:[e.width,[v.required]],type:[e.type],isVisible:[e.isVisible],orderNumber:[e.orderNumber,[v.required]]}))}buidlTableSetting(){return{id:this.matTableSetting.id,screenName:this.screenName,settings:this.settingsArray.value}}saveTableSettings(){this.tableSettingsForm.valid?this.documentStore.saveTableSettings(this.buidlTableSetting()):this.tableSettingsForm.markAllAsTouched()}static \u0275fac=function(o){return new(o||r)};static \u0275cmp=C({type:r,selectors:[["app-table-settings"]],decls:42,vars:23,consts:[[1,"content"],[1,"container-fluid"],[1,"d-flex","mb-2"],[1,"me-auto"],[1,"mb-0","page-title"],[3,"code"],["appearance","outlined"],[3,"formGroup"],[1,"row"],[1,"col-sm-12","mt-4"],[1,"table","table-bordered"],[2,"width","40%"],[2,"width","20%"],[2,"width","10%"],["formArrayName","settingsArray"],[3,"formGroupName"],[1,"mt-2","col-md-12"],["matButton","filled","cdkFocusInitial","",1,"success","me-2",3,"click"],[1,"medium-icon"],["type","button","matButton","filled",1,"error",3,"click"],["formControlName","width","type","number",1,"form-control"],["color","primary","formControlName","isVisible"],["formControlName","orderNumber","type","number",1,"form-control"],[1,"text-danger"]],template:function(o,a){o&1&&(t(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),l(5),m(6,"translate"),b(7,"app-page-help-text",5),i()()(),t(8,"mat-card",6)(9,"mat-card-content")(10,"form",7)(11,"div",8)(12,"div",9)(13,"table",10)(14,"thead")(15,"tr")(16,"th",11),l(17),m(18,"translate"),i(),t(19,"th",12),l(20),m(21,"translate"),i(),t(22,"th",13),l(23),m(24,"translate"),i(),t(25,"th",12),l(26),m(27,"translate"),i()()(),t(28,"tbody",14),x(29,de,12,6,"tr",15,E),i()()(),t(31,"div",16)(32,"button",17),_("click",function(){return a.saveTableSettings()}),t(33,"mat-icon",18),l(34,"save"),i(),l(35),m(36,"translate"),i(),t(37,"button",19),_("click",function(){return a.onSeetingsClose()}),t(38,"mat-icon",18),l(39,"cancel"),i(),l(40),m(41,"translate"),i()()()()()()()()),o&2&&(n(5),d("",s(6,9,"TABLE_SETTINGS")," "),n(2),T("code","TABLE_SETTINGS"),n(3),T("formGroup",a.tableSettingsForm),n(7),f(s(18,11,"HEADER_TITLE")),n(3),f(s(21,13,"WIDTH")),n(3),f(s(24,15,"ISVISIBLE")),n(3),f(s(27,17,"ORDERNUMBER")),n(3),y(a.settingsArray.controls),n(6),d(" ",s(36,19,"SAVE")," "),n(5),d(" ",s(41,21,"CANCEL")," "))},dependencies:[K,U,O,P,L,q,Q,X,W,j,ne,ie,I,te,w,B,M,ee,Y,Z,A,F,k],encapsulation:2})};export{re as TableSettingsComponent};
