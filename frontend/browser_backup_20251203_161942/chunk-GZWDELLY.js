import{c as S}from"./chunk-I43MH25B.js";import{a as c,b as r,c as U,d as A,e as H,f as w,g as O,h as p}from"./chunk-OHUA35YV.js";import{b as _}from"./chunk-JSAPTJHL.js";import{a as D}from"./chunk-77WXBMFN.js";import{a as b}from"./chunk-LCPYESOB.js";import{g as L}from"./chunk-BFSIXXTJ.js";import{a as v}from"./chunk-DGFNMOMG.js";import{Gc as h,d as C,h as M,i as m}from"./chunk-KZMFGXDY.js";import{Da as i,Pa as f,Ub as u,Ya as T,_b as g,h as s}from"./chunk-W3TJXGK4.js";var l=class t{constructor(e,o){this.httpClient=e;this.commonHttpErrorService=o}getDocumentMetaTags(){return this.httpClient.get("DocumentMetaTag").pipe(i(this.commonHttpErrorService.handleError))}getDocumentMetaTag(e){let o=`DocumentMetaTag/${e}`;return this.httpClient.get(o).pipe(i(this.commonHttpErrorService.handleError))}addDocumentMetaTag(e){return this.httpClient.post("DocumentMetaTag",e).pipe(i(this.commonHttpErrorService.handleError))}updateDocumentMetaTag(e){let o=`DocumentMetaTag/${e.id}`;return this.httpClient.put(o,e).pipe(i(this.commonHttpErrorService.handleError))}deleteDocumentMetaTag(e){let o=`DocumentMetaTag/${e}`;return this.httpClient.delete(o).pipe(i(this.commonHttpErrorService.handleError))}static \u0275fac=function(o){return new(o||t)(M(h),M(v))};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})};var x={documentMetaTags:[],documentMetaTag:null,isLoading:!1,loadList:!1,isAddUpdate:!1,commonError:null},X=U({providedIn:"root"},O(x),A(({})=>({})),w((t,e=m(l),o=m(_),y=m(D),d=m(b),E=m(L))=>({loadDocumentMetaTags:p(s(f(300),g(()=>r(t,{isLoading:!0})),u(()=>e.getDocumentMetaTags().pipe(c({next:n=>{r(t,{documentMetaTags:[...n],isLoading:!1,commonError:null,loadList:!1})},error:n=>{r(t,{commonError:n,isLoading:!1,loadList:!1}),console.error(n)}}))))),deleteDocumentMetaTagById:p(s(T(),g(()=>r(t,{isLoading:!0})),u(n=>e.deleteDocumentMetaTag(n).pipe(c({next:()=>{o.success(d.getValue("DOCUMENT_META_TAG_DELETED_SUCCESSFULLY")),r(t,{documentMetaTags:t.documentMetaTags().filter(a=>a.id!==n),isLoading:!1})},error:a=>{r(t,{commonError:a,isLoading:!1}),console.error(a)}}))))),addUpdateDocumentMetaTag:p(s(T(),g(()=>r(t,{isLoading:!0})),u(n=>n.id?e.updateDocumentMetaTag(n).pipe(c({next:()=>{o.success(d.getValue("DOCUMENT_META_TAG_UPDATED_SUCCESSFULLY")),r(t,{isLoading:!1,loadList:!0,isAddUpdate:!0}),E.navigate(["/document-meta-tag"])},error:a=>{r(t,{commonError:a,isLoading:!1})}})):e.addDocumentMetaTag(n).pipe(c({next:()=>{o.success(d.getValue("DOCUMENT_META_TAG_CREATED_SUCCESSFULLY")),r(t,{isLoading:!1,loadList:!0,isAddUpdate:!0}),E.navigate(["/document-meta-tag"])},error:a=>{r(t,{commonError:a,isLoading:!1})}}))))),getDocumentMetaTagById:p(s(g(()=>r(t,{isLoading:!0})),u(n=>e.getDocumentMetaTag(n).pipe(c({next:a=>{r(t,{documentMetaTag:a,isLoading:!1,commonError:null})},error:a=>{r(t,{commonError:a,isLoading:!1}),console.error(a)}})))))})),H({onInit(t,e=m(D)){S(t.loadList).subscribe(o=>{o&&t.loadDocumentMetaTags()}),e.isUserAuthenticate()&&t.loadDocumentMetaTags()}}));export{l as a,X as b};
