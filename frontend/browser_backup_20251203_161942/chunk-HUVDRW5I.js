import{a as ht}from"./chunk-UEMKMLXU.js";import{a as ut}from"./chunk-K5TKAEII.js";import"./chunk-DCBV2JC3.js";import"./chunk-Q64ABPSN.js";import"./chunk-XA5EPKK2.js";import"./chunk-O4QTDGQI.js";import"./chunk-6QK67EK5.js";import"./chunk-NAYIGTW2.js";import"./chunk-ZL3HBFEV.js";import{a as _t}from"./chunk-LTSUZ232.js";import{a as rt}from"./chunk-UCAGIDEK.js";import{a as it}from"./chunk-UAZBTE34.js";import"./chunk-4U6IWAJM.js";import"./chunk-73AGG5TT.js";import{a as tt}from"./chunk-YYODLXEO.js";import{a as et}from"./chunk-DFMNWGTU.js";import"./chunk-PVDG46DZ.js";import{a as ct}from"./chunk-TC5US2P6.js";import{b as lt}from"./chunk-WFK47GYZ.js";import"./chunk-OHUA35YV.js";import"./chunk-6MWAWDLF.js";import"./chunk-6GBRFDEJ.js";import{a as le}from"./chunk-ZXWR2MAY.js";import"./chunk-G4LST2RF.js";import"./chunk-NJY6F3LT.js";import"./chunk-FWRBVAV4.js";import"./chunk-NH2LHIRZ.js";import{c as pt}from"./chunk-DTECNCC4.js";import"./chunk-2FSKRITI.js";import"./chunk-TQCCWZBZ.js";import"./chunk-QPRQJRAS.js";import{c as dt}from"./chunk-756DJ4VK.js";import{a as nt}from"./chunk-JYYDN77K.js";import{d as Ge}from"./chunk-BQ4MMRNN.js";import{b as Je}from"./chunk-JSAPTJHL.js";import"./chunk-UFOTACYY.js";import{a as ot,b as st,e as at}from"./chunk-THB5JDTQ.js";import{a as Qe,b as We}from"./chunk-4E37NPLR.js";import{C as ye,D as Ke,G as He,ha as de,ia as Ue,ma as xe,ra as $e,ta as Ye,ua as ze,va as je}from"./chunk-56QOWAU7.js";import{a as Ze}from"./chunk-77WXBMFN.js";import"./chunk-XFBX5CPU.js";import"./chunk-C3OPHOKD.js";import"./chunk-KYSGX4IW.js";import"./chunk-LCPYESOB.js";import"./chunk-BFSIXXTJ.js";import"./chunk-DGFNMOMG.js";import{$ as k,$a as q,$b as R,Ca as ne,Da as re,Db as v,Eb as E,G as W,I as ee,Ia as h,Ja as s,Ka as p,La as L,Pc as qe,Ra as oe,Rb as Fe,Rc as Xe,Sa as M,Ta as se,Ua as f,W as u,Wa as g,X as Le,Yb as Ce,Za as Pe,Zb as Be,_a as ae,_b as G,ab as X,ba as te,e as J,eb as Oe,g as Ae,ga as I,ha as ie,i as c,ia as y,jb as C,ka as x,kb as Re,lb as Z,ma as H,oa as A,p as b,q as T,rc as Ve,vb as P,yb as N,za as U,zb as O}from"./chunk-KZMFGXDY.js";import{C as Ie,Ea as ge,J as m,Ja as fe,N as Ne,Ra as K,Tb as me,Ub as j,W as D,Ya as ke,Yb as w,Z as z,_b as Q,ba as ue,n as Y,o as V}from"./chunk-W3TJXGK4.js";import{a as Se,b as we}from"./chunk-H5HZ6YB3.js";var De=new Ae("CDK_TREE_NODE_OUTLET_NODE"),ce=(()=>{class n{viewContainer=c(te);_node=c(De,{optional:!0});constructor(){}static \u0275fac=function(t){return new(t||n)};static \u0275dir=y({type:n,selectors:[["","cdkTreeNodeOutlet",""]]})}return n})(),ve=class{$implicit;level;index;count;constructor(a){this.$implicit=a}},pe=(()=>{class n{template=c(Le);when;constructor(){}static \u0275fac=function(t){return new(t||n)};static \u0275dir=y({type:n,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:[0,"cdkTreeNodeDefWhen","when"]}})}return n})();function gt(){return Error("Could not find a tree control, levelAccessor, or childrenAccessor for the tree.")}var $=(()=>{class n{_differs=c(Be);_changeDetectorRef=c(Ce);_elementRef=c(ee);_dir=c(ye);_onDestroy=new Y;_dataDiffer;_defaultNodeDef;_dataSubscription;_levels=new Map;_parents=new Map;_ariaSets=new Map;get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}_dataSource;treeControl;levelAccessor;childrenAccessor;trackBy;expansionKey;_nodeOutlet;_nodeDefs;viewChange=new V({start:0,end:Number.MAX_VALUE});_expansionModel;_flattenedNodes=new V([]);_nodeType=new V(null);_nodes=new V(new Map);_keyManagerNodes=new V([]);_keyManagerFactory=c(Ue);_keyManager;_viewInit=!1;constructor(){}ngAfterContentInit(){this._initializeKeyManager()}ngAfterContentChecked(){this._updateDefaultNodeDefinition(),this._subscribeToDataChanges()}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this._nodes.complete(),this._keyManagerNodes.complete(),this._nodeType.complete(),this._flattenedNodes.complete(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&typeof this._dataSource.disconnect=="function"&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),this._keyManager?.destroy()}ngOnInit(){this._checkTreeControlUsage(),this._initializeDataDiffer()}ngAfterViewInit(){this._viewInit=!0}_updateDefaultNodeDefinition(){let e=this._nodeDefs.filter(t=>!t.when);e.length>1,this._defaultNodeDef=e[0]}_setNodeTypeIfUnset(e){this._nodeType.value===null&&this._nodeType.next(e)}_switchDataSource(e){this._dataSource&&typeof this._dataSource.disconnect=="function"&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),e||this._nodeOutlet.viewContainer.clear(),this._dataSource=e,this._nodeDefs&&this._subscribeToDataChanges()}_getExpansionModel(){return this.treeControl?this.treeControl.expansionModel:(this._expansionModel??=new pt(!0),this._expansionModel)}_subscribeToDataChanges(){if(this._dataSubscription)return;let e;He(this._dataSource)?e=this._dataSource.connect(this):Ne(this._dataSource)?e=this._dataSource:Array.isArray(this._dataSource)&&(e=m(this._dataSource)),e&&(this._dataSubscription=this._getRenderData(e).pipe(w(this._onDestroy)).subscribe(t=>{this._renderDataChanges(t)}))}_getRenderData(e){let t=this._getExpansionModel();return z([e,this._nodeType,t.changed.pipe(me(null),Q(i=>{this._emitExpansionChanges(i)}))]).pipe(j(([i,r])=>r===null?m({renderNodes:i,flattenedNodes:null,nodeType:r}):this._computeRenderingData(i,r).pipe(D(o=>we(Se({},o),{nodeType:r})))))}_renderDataChanges(e){if(e.nodeType===null){this.renderNodeChanges(e.renderNodes);return}this._updateCachedData(e.flattenedNodes),this.renderNodeChanges(e.renderNodes),this._updateKeyManagerItems(e.flattenedNodes)}_emitExpansionChanges(e){if(!e)return;let t=this._nodes.value;for(let i of e.added)t.get(i)?._emitExpansionState(!0);for(let i of e.removed)t.get(i)?._emitExpansionState(!1)}_initializeKeyManager(){let e=z([this._keyManagerNodes,this._nodes]).pipe(D(([i,r])=>i.reduce((o,l)=>{let d=r.get(this._getExpansionKey(l));return d&&o.push(d),o},[]))),t={trackBy:i=>this._getExpansionKey(i.data),skipPredicate:i=>!!i.isDisabled,typeAheadDebounceInterval:!0,horizontalOrientation:this._dir.value};this._keyManager=this._keyManagerFactory(e,t)}_initializeDataDiffer(){let e=this.trackBy??((t,i)=>this._getExpansionKey(i));this._dataDiffer=this._differs.find([]).create(e)}_checkTreeControlUsage(){}renderNodeChanges(e,t=this._dataDiffer,i=this._nodeOutlet.viewContainer,r){let o=t.diff(e);!o&&!this._viewInit||(o?.forEachOperation((l,d,_)=>{if(l.previousIndex==null)this.insertNode(e[_],_,i,r);else if(_==null)i.remove(d);else{let S=i.get(d);i.move(S,_)}}),o?.forEachIdentityChange(l=>{let d=l.item;if(l.currentIndex!=null){let _=i.get(l.currentIndex);_.context.$implicit=d}}),r?this._changeDetectorRef.markForCheck():this._changeDetectorRef.detectChanges())}_getNodeDef(e,t){if(this._nodeDefs.length===1)return this._nodeDefs.first;let i=this._nodeDefs.find(r=>r.when&&r.when(t,e))||this._defaultNodeDef;return i}insertNode(e,t,i,r){let o=this._getLevelAccessor(),l=this._getNodeDef(e,t),d=this._getExpansionKey(e),_=new ve(e);_.index=t,r??=this._parents.get(d)??void 0,o?_.level=o(e):r!==void 0&&this._levels.has(this._getExpansionKey(r))?_.level=this._levels.get(this._getExpansionKey(r))+1:_.level=0,this._levels.set(d,_.level),(i||this._nodeOutlet.viewContainer).createEmbeddedView(l.template,_,t),F.mostRecentTreeNode&&(F.mostRecentTreeNode.data=e)}isExpanded(e){return!!(this.treeControl?.isExpanded(e)||this._expansionModel?.isSelected(this._getExpansionKey(e)))}toggle(e){this.treeControl?this.treeControl.toggle(e):this._expansionModel&&this._expansionModel.toggle(this._getExpansionKey(e))}expand(e){this.treeControl?this.treeControl.expand(e):this._expansionModel&&this._expansionModel.select(this._getExpansionKey(e))}collapse(e){this.treeControl?this.treeControl.collapse(e):this._expansionModel&&this._expansionModel.deselect(this._getExpansionKey(e))}toggleDescendants(e){this.treeControl?this.treeControl.toggleDescendants(e):this._expansionModel&&(this.isExpanded(e)?this.collapseDescendants(e):this.expandDescendants(e))}expandDescendants(e){if(this.treeControl)this.treeControl.expandDescendants(e);else if(this._expansionModel){let t=this._expansionModel;t.select(this._getExpansionKey(e)),this._getDescendants(e).pipe(K(1),w(this._onDestroy)).subscribe(i=>{t.select(...i.map(r=>this._getExpansionKey(r)))})}}collapseDescendants(e){if(this.treeControl)this.treeControl.collapseDescendants(e);else if(this._expansionModel){let t=this._expansionModel;t.deselect(this._getExpansionKey(e)),this._getDescendants(e).pipe(K(1),w(this._onDestroy)).subscribe(i=>{t.deselect(...i.map(r=>this._getExpansionKey(r)))})}}expandAll(){this.treeControl?this.treeControl.expandAll():this._expansionModel&&this._forEachExpansionKey(e=>this._expansionModel?.select(...e))}collapseAll(){this.treeControl?this.treeControl.collapseAll():this._expansionModel&&this._forEachExpansionKey(e=>this._expansionModel?.deselect(...e))}_getLevelAccessor(){return this.treeControl?.getLevel?.bind(this.treeControl)??this.levelAccessor}_getChildrenAccessor(){return this.treeControl?.getChildren?.bind(this.treeControl)??this.childrenAccessor}_getDirectChildren(e){let t=this._getLevelAccessor(),i=this._expansionModel??this.treeControl?.expansionModel;if(!i)return m([]);let r=this._getExpansionKey(e),o=i.changed.pipe(j(d=>d.added.includes(r)?m(!0):d.removed.includes(r)?m(!1):Ie),me(this.isExpanded(e)));if(t)return z([o,this._flattenedNodes]).pipe(D(([d,_])=>d?this._findChildrenByLevel(t,_,e,1):[]));let l=this._getChildrenAccessor();if(l)return de(l(e)??[]);throw gt()}_findChildrenByLevel(e,t,i,r){let o=this._getExpansionKey(i),l=t.findIndex(B=>this._getExpansionKey(B)===o),d=e(i),_=d+r,S=[];for(let B=l+1;B<t.length;B++){let Me=e(t[B]);if(Me<=d)break;Me<=_&&S.push(t[B])}return S}_registerNode(e){this._nodes.value.set(this._getExpansionKey(e.data),e),this._nodes.next(this._nodes.value)}_unregisterNode(e){this._nodes.value.delete(this._getExpansionKey(e.data)),this._nodes.next(this._nodes.value)}_getLevel(e){return this._levels.get(this._getExpansionKey(e))}_getSetSize(e){return this._getAriaSet(e).length}_getPositionInSet(e){let t=this._getAriaSet(e),i=this._getExpansionKey(e);return t.findIndex(r=>this._getExpansionKey(r)===i)+1}_getNodeParent(e){let t=this._parents.get(this._getExpansionKey(e.data));return t&&this._nodes.value.get(this._getExpansionKey(t))}_getNodeChildren(e){return this._getDirectChildren(e.data).pipe(D(t=>t.reduce((i,r)=>{let o=this._nodes.value.get(this._getExpansionKey(r));return o&&i.push(o),i},[])))}_sendKeydownToKeyManager(e){if(e.target===this._elementRef.nativeElement)this._keyManager.onKeydown(e);else{let t=this._nodes.getValue();for(let[,i]of t)if(e.target===i._elementRef.nativeElement){this._keyManager.onKeydown(e);break}}}_getDescendants(e){if(this.treeControl)return m(this.treeControl.getDescendants(e));if(this.levelAccessor){let t=this._findChildrenByLevel(this.levelAccessor,this._flattenedNodes.value,e,1/0);return m(t)}if(this.childrenAccessor)return this._getAllChildrenRecursively(e).pipe(ge((t,i)=>(t.push(...i),t),[]));throw gt()}_getAllChildrenRecursively(e){return this.childrenAccessor?de(this.childrenAccessor(e)).pipe(K(1),j(t=>{for(let i of t)this._parents.set(this._getExpansionKey(i),e);return m(...t).pipe(fe(i=>ue(m([i]),this._getAllChildrenRecursively(i))))})):m([])}_getExpansionKey(e){return this.expansionKey?.(e)??e}_getAriaSet(e){let t=this._getExpansionKey(e),i=this._parents.get(t),r=i?this._getExpansionKey(i):null;return this._ariaSets.get(r)??[e]}_findParentForNode(e,t,i){if(!i.length)return null;let r=this._levels.get(this._getExpansionKey(e))??0;for(let o=t-1;o>=0;o--){let l=i[o];if((this._levels.get(this._getExpansionKey(l))??0)<r)return l}return null}_flattenNestedNodesWithExpansion(e,t=0){let i=this._getChildrenAccessor();return i?m(...e).pipe(fe(r=>{let o=this._getExpansionKey(r);this._parents.has(o)||this._parents.set(o,null),this._levels.set(o,t);let l=de(i(r));return ue(m([r]),l.pipe(K(1),Q(d=>{this._ariaSets.set(o,[...d??[]]);for(let _ of d??[]){let S=this._getExpansionKey(_);this._parents.set(S,r),this._levels.set(S,t+1)}}),j(d=>d?this._flattenNestedNodesWithExpansion(d,t+1).pipe(D(_=>this.isExpanded(r)?_:[])):m([]))))}),ge((r,o)=>(r.push(...o),r),[])):m([...e])}_computeRenderingData(e,t){if(this.childrenAccessor&&t==="flat")return this._clearPreviousCache(),this._ariaSets.set(null,[...e]),this._flattenNestedNodesWithExpansion(e).pipe(D(i=>({renderNodes:i,flattenedNodes:i})));if(this.levelAccessor&&t==="nested"){let i=this.levelAccessor;return m(e.filter(r=>i(r)===0)).pipe(D(r=>({renderNodes:r,flattenedNodes:e})),Q(({flattenedNodes:r})=>{this._calculateParents(r)}))}else return t==="flat"?m({renderNodes:e,flattenedNodes:e}).pipe(Q(({flattenedNodes:i})=>{this._calculateParents(i)})):(this._clearPreviousCache(),this._ariaSets.set(null,[...e]),this._flattenNestedNodesWithExpansion(e).pipe(D(i=>({renderNodes:e,flattenedNodes:i}))))}_updateCachedData(e){this._flattenedNodes.next(e)}_updateKeyManagerItems(e){this._keyManagerNodes.next(e)}_calculateParents(e){let t=this._getLevelAccessor();if(t){this._clearPreviousCache();for(let i=0;i<e.length;i++){let r=e[i],o=this._getExpansionKey(r);this._levels.set(o,t(r));let l=this._findParentForNode(r,i,e);this._parents.set(o,l);let d=l?this._getExpansionKey(l):null,_=this._ariaSets.get(d)??[];_.splice(i,0,r),this._ariaSets.set(d,_)}}}_forEachExpansionKey(e){let t=[],i=[];this._nodes.value.forEach(r=>{t.push(this._getExpansionKey(r.data)),i.push(this._getDescendants(r.data))}),i.length>0?z(i).pipe(K(1),w(this._onDestroy)).subscribe(r=>{r.forEach(o=>o.forEach(l=>t.push(this._getExpansionKey(l)))),e(t)}):e(t)}_clearPreviousCache(){this._parents.clear(),this._levels.clear(),this._ariaSets.clear()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=I({type:n,selectors:[["cdk-tree"]],contentQueries:function(t,i,r){if(t&1&&Pe(r,pe,5),t&2){let o;q(o=X())&&(i._nodeDefs=o)}},viewQuery:function(t,i){if(t&1&&ae(ce,7),t&2){let r;q(r=X())&&(i._nodeOutlet=r.first)}},hostAttrs:["role","tree",1,"cdk-tree"],hostBindings:function(t,i){t&1&&f("keydown",function(o){return i._sendKeydownToKeyManager(o)})},inputs:{dataSource:"dataSource",treeControl:"treeControl",levelAccessor:"levelAccessor",childrenAccessor:"childrenAccessor",trackBy:"trackBy",expansionKey:"expansionKey"},exportAs:["cdkTree"],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(t,i){t&1&&oe(0,0)},dependencies:[ce],encapsulation:2})}return n})(),F=(()=>{class n{_elementRef=c(ee);_tree=c($);_tabindex=-1;_type="flat";get role(){return"treeitem"}set role(e){}get isExpandable(){return this._isExpandable()}set isExpandable(e){this._inputIsExpandable=e,!(this.data&&!this._isExpandable||!this._inputIsExpandable)&&(this._inputIsExpanded?this.expand():this._inputIsExpanded===!1&&this.collapse())}get isExpanded(){return this._tree.isExpanded(this._data)}set isExpanded(e){this._inputIsExpanded=e,e?this.expand():this.collapse()}isDisabled;typeaheadLabel;getLabel(){return this.typeaheadLabel||this._elementRef.nativeElement.textContent?.trim()||""}activation=new A;expandedChange=new A;static mostRecentTreeNode=null;_destroyed=new Y;_dataChanges=new Y;_inputIsExpandable=!1;_inputIsExpanded=void 0;_shouldFocus=!0;_parentNodeAriaLevel;get data(){return this._data}set data(e){e!==this._data&&(this._data=e,this._dataChanges.next())}_data;get isLeafNode(){return this._tree.treeControl?.isExpandable!==void 0&&!this._tree.treeControl.isExpandable(this._data)?!0:this._tree.treeControl?.isExpandable===void 0&&this._tree.treeControl?.getDescendants(this._data).length===0}get level(){return this._tree._getLevel(this._data)??this._parentNodeAriaLevel}_isExpandable(){return this._tree.treeControl?!this.isLeafNode:this._inputIsExpandable}_getAriaExpanded(){return this._isExpandable()?String(this.isExpanded):null}_getSetSize(){return this._tree._getSetSize(this._data)}_getPositionInSet(){return this._tree._getPositionInSet(this._data)}_changeDetectorRef=c(Ce);constructor(){n.mostRecentTreeNode=this}ngOnInit(){this._parentNodeAriaLevel=St(this._elementRef.nativeElement),this._tree._getExpansionModel().changed.pipe(D(()=>this.isExpanded),ke(),w(this._destroyed)).pipe(w(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._tree._setNodeTypeIfUnset(this._type),this._tree._registerNode(this)}ngOnDestroy(){n.mostRecentTreeNode===this&&(n.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}getParent(){return this._tree._getNodeParent(this)??null}getChildren(){return this._tree._getNodeChildren(this)}focus(){this._tabindex=0,this._shouldFocus&&this._elementRef.nativeElement.focus(),this._changeDetectorRef.markForCheck()}unfocus(){this._tabindex=-1,this._changeDetectorRef.markForCheck()}activate(){this.isDisabled||this.activation.next(this._data)}collapse(){this.isExpandable&&this._tree.collapse(this._data)}expand(){this.isExpandable&&this._tree.expand(this._data)}makeFocusable(){this._tabindex=0,this._changeDetectorRef.markForCheck()}_focusItem(){this.isDisabled||this._tree._keyManager.focusItem(this)}_setActiveItem(){this.isDisabled||(this._shouldFocus=!1,this._tree._keyManager.focusItem(this),this._shouldFocus=!0)}_emitExpansionState(e){this.expandedChange.emit(e)}static \u0275fac=function(t){return new(t||n)};static \u0275dir=y({type:n,selectors:[["cdk-tree-node"]],hostAttrs:["role","treeitem",1,"cdk-tree-node"],hostVars:5,hostBindings:function(t,i){t&1&&f("click",function(){return i._setActiveItem()})("focus",function(){return i._focusItem()}),t&2&&(se("tabIndex",i._tabindex),U("aria-expanded",i._getAriaExpanded())("aria-level",i.level+1)("aria-posinset",i._getPositionInSet())("aria-setsize",i._getSetSize()))},inputs:{role:"role",isExpandable:[2,"isExpandable","isExpandable",G],isExpanded:"isExpanded",isDisabled:[2,"isDisabled","isDisabled",G],typeaheadLabel:[0,"cdkTreeNodeTypeaheadLabel","typeaheadLabel"]},outputs:{activation:"activation",expandedChange:"expandedChange"},exportAs:["cdkTreeNode"]})}return n})();function St(n){let a=n.parentElement;for(;a&&!wt(a);)a=a.parentElement;return a?a.classList.contains("cdk-nested-tree-node")?R(a.getAttribute("aria-level")):0:-1}function wt(n){let a=n.classList;return!!(a?.contains("cdk-nested-tree-node")||a?.contains("cdk-tree"))}var It=/([A-Za-z%]+)$/,be=(()=>{class n{_treeNode=c(F);_tree=c($);_element=c(ee);_dir=c(ye,{optional:!0});_currentPadding;_destroyed=new Y;indentUnits="px";get level(){return this._level}set level(e){this._setLevelInput(e)}_level;get indent(){return this._indent}set indent(e){this._setIndentInput(e)}_indent=40;constructor(){this._setPadding(),this._dir?.change.pipe(w(this._destroyed)).subscribe(()=>this._setPadding(!0)),this._treeNode._dataChanges.subscribe(()=>this._setPadding())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_paddingIndent(){let e=(this._treeNode.data&&this._tree._getLevel(this._treeNode.data))??null,t=this._level==null?e:this._level;return typeof t=="number"?`${t*this._indent}${this.indentUnits}`:null}_setPadding(e=!1){let t=this._paddingIndent();if(t!==this._currentPadding||e){let i=this._element.nativeElement,r=this._dir&&this._dir.value==="rtl"?"paddingRight":"paddingLeft",o=r==="paddingLeft"?"paddingRight":"paddingLeft";i.style[r]=t||"",i.style[o]="",this._currentPadding=t}}_setLevelInput(e){this._level=isNaN(e)?null:e,this._setPadding()}_setIndentInput(e){let t=e,i="px";if(typeof e=="string"){let r=e.split(It);t=r[0],i=r[1]||i}this.indentUnits=i,this._indent=R(t),this._setPadding()}static \u0275fac=function(t){return new(t||n)};static \u0275dir=y({type:n,selectors:[["","cdkTreeNodePadding",""]],inputs:{level:[2,"cdkTreeNodePadding","level",R],indent:[0,"cdkTreeNodePaddingIndent","indent"]}})}return n})(),Te=(()=>{class n{_tree=c($);_treeNode=c(F);recursive=!1;constructor(){}_toggle(){this.recursive?this._tree.toggleDescendants(this._treeNode.data):this._tree.toggle(this._treeNode.data),this._tree._keyManager.focusItem(this._treeNode)}static \u0275fac=function(t){return new(t||n)};static \u0275dir=y({type:n,selectors:[["","cdkTreeNodeToggle",""]],hostAttrs:["tabindex","-1"],hostBindings:function(t,i){t&1&&f("click",function(o){return i._toggle(),o.stopPropagation()})("keydown.Enter",function(o){return i._toggle(),o.preventDefault()})("keydown.Space",function(o){return i._toggle(),o.preventDefault()})},inputs:{recursive:[2,"cdkTreeNodeToggleRecursive","recursive",G]}})}return n})();var ft=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=ie({type:n});static \u0275inj=J({})}return n})();function Nt(n){return!!n._isNoopTreeKeyManager}var Ct=(()=>{class n extends F{get tabIndexInputBinding(){return this._tabIndexInputBinding}set tabIndexInputBinding(e){this._tabIndexInputBinding=e}_tabIndexInputBinding;defaultTabIndex=0;_getTabindexAttribute(){return Nt(this._tree._keyManager)?this.tabIndexInputBinding:this._tabindex}get disabled(){return this.isDisabled}set disabled(e){this.isDisabled=e}constructor(){super();let e=c(new Fe("tabindex"),{optional:!0});this.tabIndexInputBinding=Number(e)||this.defaultTabIndex}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}static \u0275fac=function(t){return new(t||n)};static \u0275dir=y({type:n,selectors:[["mat-tree-node"]],hostAttrs:[1,"mat-tree-node"],hostVars:5,hostBindings:function(t,i){t&1&&f("click",function(){return i._focusItem()}),t&2&&(se("tabIndex",i._getTabindexAttribute()),U("aria-expanded",i._getAriaExpanded())("aria-level",i.level+1)("aria-posinset",i._getPositionInSet())("aria-setsize",i._getSetSize()))},inputs:{tabIndexInputBinding:[2,"tabIndex","tabIndexInputBinding",e=>e==null?0:R(e)],disabled:[2,"disabled","disabled",G]},outputs:{activation:"activation",expandedChange:"expandedChange"},exportAs:["matTreeNode"],features:[N([{provide:F,useExisting:n}]),x]})}return n})(),yt=(()=>{class n extends pe{data;static \u0275fac=(()=>{let e;return function(i){return(e||(e=W(n)))(i||n)}})();static \u0275dir=y({type:n,selectors:[["","matTreeNodeDef",""]],inputs:{when:[0,"matTreeNodeDefWhen","when"],data:[0,"matTreeNode","data"]},features:[N([{provide:pe,useExisting:n}]),x]})}return n})();var xt=(()=>{class n extends be{get level(){return this._level}set level(e){this._setLevelInput(e)}get indent(){return this._indent}set indent(e){this._setIndentInput(e)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=W(n)))(i||n)}})();static \u0275dir=y({type:n,selectors:[["","matTreeNodePadding",""]],inputs:{level:[2,"matTreeNodePadding","level",R],indent:[0,"matTreeNodePaddingIndent","indent"]},features:[N([{provide:be,useExisting:n}]),x]})}return n})(),mt=(()=>{class n{viewContainer=c(te);_node=c(De,{optional:!0});static \u0275fac=function(t){return new(t||n)};static \u0275dir=y({type:n,selectors:[["","matTreeNodeOutlet",""]],features:[N([{provide:ce,useExisting:n}])]})}return n})(),vt=(()=>{class n extends ${_nodeOutlet=void 0;static \u0275fac=(()=>{let e;return function(i){return(e||(e=W(n)))(i||n)}})();static \u0275cmp=I({type:n,selectors:[["mat-tree"]],viewQuery:function(t,i){if(t&1&&ae(mt,7),t&2){let r;q(r=X())&&(i._nodeOutlet=r.first)}},hostAttrs:[1,"mat-tree"],exportAs:["matTree"],features:[N([{provide:$,useExisting:n}]),x],decls:1,vars:0,consts:[["matTreeNodeOutlet",""]],template:function(t,i){t&1&&oe(0,0)},dependencies:[mt],styles:[`.mat-tree{display:block;background-color:var(--mat-tree-container-background-color, var(--mat-sys-surface))}.mat-tree-node,.mat-nested-tree-node{color:var(--mat-tree-node-text-color, var(--mat-sys-on-surface));font-family:var(--mat-tree-node-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-tree-node-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-tree-node-text-weight, var(--mat-sys-body-large-weight))}.mat-tree-node{display:flex;align-items:center;flex:1;word-wrap:break-word;min-height:var(--mat-tree-node-min-height, 48px)}.mat-nested-tree-node{border-bottom-width:0}
`],encapsulation:2})}return n})(),Et=(()=>{class n extends Te{static \u0275fac=(()=>{let e;return function(i){return(e||(e=W(n)))(i||n)}})();static \u0275dir=y({type:n,selectors:[["","matTreeNodeToggle",""]],inputs:{recursive:[0,"matTreeNodeToggleRecursive","recursive"]},features:[N([{provide:Te,useExisting:n}]),x]})}return n})();var Dt=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=ie({type:n});static \u0275inj=J({imports:[ft,xe,xe]})}return n})();var bt=()=>["ALL_ARCHIVE_FOLDER","ASSIGNED_ARCHIVE_FOLDER"],Tt=()=>["ALL_SHARE_FOLDER","ASSIGNED_SHARE_FOLDER"],Mt=()=>["CREATE_CATEGORY","ALL_ARCHIVE_FOLDER","ASSIGNED_ARCHIVE_FOLDER","ALL_SHARE_FOLDER","ASSIGNED_SHARE_FOLDER","EDIT_CATEGORY"];function Lt(n,a){if(n&1){let e=M();s(0,"button",13),f("click",function(){b(e);let i=g();return T(i.manageCategory(null))}),s(1,"mat-icon",14),C(2,"add"),p(),s(3,"span",15),C(4),v(5,"translate"),p()()}if(n&2){let e=g();h("dir",e.langDir),u(4),Re(E(5,2,"ADD_DOCUMENT_CATEGORY"))}}function Pt(n,a){n&1&&(s(0,"span",21),C(1," folder "),p())}function Ot(n,a){n&1&&(s(0,"span",22)(1,"span",28),L(2,"img",29),p()())}function Rt(n,a){if(n&1){let e=M();s(0,"a",30),v(1,"translate"),f("click",function(){b(e);let i=g().$implicit,r=g(2);return T(r.deleteCategory(i))}),s(2,"mat-icon",31),C(3,"archive"),p()()}n&2&&h("matTooltip",P(E(1,2,"ARCHIVE_CATEGORY")))}function Ft(n,a){if(n&1){let e=M();s(0,"a",30),v(1,"translate"),f("click",function(){b(e);let i=g().$implicit,r=g(2);return T(r.addSubCategory(i))}),s(2,"mat-icon",32),C(3,"add"),p()()}n&2&&h("matTooltip",P(E(1,2,"ADD_SUBCATEGORY")))}function Bt(n,a){if(n&1){let e=M();s(0,"a",30),v(1,"translate"),f("click",function(){b(e);let i=g().$implicit,r=g(2);return T(r.manageCategoryPermission(i))}),s(2,"mat-icon",33),C(3,"share"),p()()}n&2&&h("matTooltip",P(E(1,2,"SHARED_CATEGORY")))}function Vt(n,a){n&1&&L(0,"span",34)}function Kt(n,a){if(n&1){let e=M();s(0,"mat-tree-node",19),L(1,"button",20),ne(2,Pt,2,0,"span",21)(3,Ot,3,0,"span",22),s(4,"a",23),f("click",function(){let i=b(e).$implicit,r=g(2);return T(r.manageCategory(i))}),s(5,"span",24),C(6),p()(),s(7,"div",25),H(8,Rt,4,4,"a",26)(9,Ft,4,4,"a",26)(10,Bt,4,4,"a",26),p(),H(11,Vt,1,0,"span",27),p()}if(n&2){let e=a.$implicit;u(2),re(e.isShared?3:2),u(4),Z(" ",e.name),u(2),h("hasClaim",O(6,bt)),u(),h("hasClaim","EDIT_CATEGORY"),u(),h("hasClaim",O(7,Tt)),u(),h("hasClaim",O(8,Mt))}}function Ht(n,a){n&1&&(s(0,"span",21),C(1," folder "),p())}function Ut(n,a){n&1&&(s(0,"span",22)(1,"span",28),L(2,"img",29),p()())}function Gt(n,a){if(n&1){let e=M();s(0,"a",30),v(1,"translate"),f("click",function(){b(e);let i=g().$implicit,r=g(2);return T(r.deleteCategory(i))}),s(2,"mat-icon",38),C(3,"archive"),p()()}n&2&&h("matTooltip",P(E(1,2,"ARCHIVE_CATEGORY")))}function $t(n,a){if(n&1){let e=M();s(0,"a",30),v(1,"translate"),f("click",function(){b(e);let i=g().$implicit,r=g(2);return T(r.addSubCategory(i))}),s(2,"mat-icon",39),C(3,"add"),p()()}n&2&&h("matTooltip",P(E(1,2,"ADD_SUBCATEGORY")))}function Yt(n,a){if(n&1){let e=M();s(0,"a",30),v(1,"translate"),f("click",function(){b(e);let i=g().$implicit,r=g(2);return T(r.manageCategoryPermission(i))}),s(2,"mat-icon",33),C(3,"share"),p()()}n&2&&h("matTooltip",P(E(1,2,"SHARED_CATEGORY")))}function zt(n,a){n&1&&L(0,"span",34)}function jt(n,a){if(n&1){let e=M();s(0,"mat-tree-node",35)(1,"button",36)(2,"mat-icon",37),C(3),p()(),ne(4,Ht,2,0,"span",21)(5,Ut,3,0,"span",22),s(6,"a",23),f("click",function(){let i=b(e).$implicit,r=g(2);return T(r.manageCategory(i))}),s(7,"span",24),C(8),p()(),H(9,Gt,4,4,"a",26)(10,$t,4,4,"a",26)(11,Yt,4,4,"a",26)(12,zt,1,0,"span",27),p()}if(n&2){let e=a.$implicit;g();let t=Oe(2);h("cdkTreeNodeTypeaheadLabel",e.name),u(),U("aria-label","Toggle "+e.name),u(2),Z(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),u(),re(e.isShared?5:4),u(4),Z(" ",e.name," "),u(),h("hasClaim",O(9,bt)),u(),h("hasClaim","EDIT_CATEGORY"),u(),h("hasClaim",O(10,Tt)),u(),h("hasClaim",O(11,Mt))}}function Qt(n,a){if(n&1&&(s(0,"div",12)(1,"mat-tree",16,0),H(3,Kt,12,9,"mat-tree-node",17)(4,jt,13,12,"mat-tree-node",18),p()()),n&2){let e=g();u(),h("dir",e.langDir)("dataSource",e.categories)("childrenAccessor",e.childrenAccessor),u(3),h("matTreeNodeDefWhen",e.hasChild)}}var _e=class n extends le{constructor(e,t,i){super();this.dialog=e;this.commonDialogService=t;this.securityService=i}categories=[];addEditCategoryHandler=new A;deleteCategoryHandler=new A;refershCategoriesHandler=new A;childrenAccessor=e=>e.children??[];hasChild=(e,t)=>!!t.children&&t.children.length>0;deleteCategory(e){this.commonDialogService.deleteConfirmtionDialog(this.translationService.getValue("ARE_YOU_SURE_YOU_WANT_TO_ARCHIVE")).subscribe(t=>{t&&this.deleteCategoryHandler.emit(e)})}manageCategory(e){if(!this.hasPermission(["CREATE_CATEGORY"]))return;this.dialog.open(ht,{width:"400px",data:Object.assign({},e)}).afterClosed().subscribe(i=>{i&&this.addEditCategoryHandler.emit(i)})}manageCategoryPermission(e){this.dialog.open(ut,{data:e,width:"100%",maxWidth:"50vw"}).afterClosed().subscribe(i=>{i&&this.refershCategoriesHandler.emit()})}addSubCategory(e){this.manageCategory({id:"",description:"",name:"",parentId:e.id,createdDate:new Date})}hasPermission(e){return this.securityService.hasClaim(e)}static \u0275fac=function(t){return new(t||n)(k(Ge),k(_t),k(Ze))};static \u0275cmp=I({type:n,selectors:[["app-category-list-presentation"]],inputs:{categories:"categories"},outputs:{addEditCategoryHandler:"addEditCategoryHandler",deleteCategoryHandler:"deleteCategoryHandler",refershCategoriesHandler:"refershCategoriesHandler"},features:[x],decls:15,vars:7,consts:[["tree",""],[1,"content"],[1,"container-fluid"],[1,"d-flex","mb-2"],[1,"me-auto"],[1,"mb-0","page-title",3,"dir"],[3,"code"],[1,"d-flex","justify-content-end"],["class","primary","matButton","filled",3,"dir","click",4,"hasClaim"],["appearance","outlined"],[1,"table-responsive"],[1,"grid-height-large"],[1,"my-2","mx-5"],["matButton","filled",1,"primary",3,"click","dir"],[1,"medium-icon","fs-5","align-middle"],[1,"d-none","d-lg-inline","ms-1"],[3,"dir","dataSource","childrenAccessor"],["matTreeNodePadding","",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","",3,"cdkTreeNodeTypeaheadLabel",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodePadding",""],["mat-icon-button","","disabled",""],[1,"material-icons","folder_shared"],[1,"material-icons"],[1,"link-primary","me-4",2,"cursor","pointer","text-decoration","none",3,"click"],[1,"m-1","fwbolder"],[1,"d-flex","gap-2"],["class","btn p-0 border-0 bg-transparent",3,"matTooltip","click",4,"hasClaim"],["class","link-primary fs-6 me-4",4,"hasClaim"],[1,"folder_shared"],["src","/images/share-icon.svg",1,"shared-icon"],[1,"btn","p-0","border-0","bg-transparent",3,"click","matTooltip"],[1,"text-danger","medium-icon","fs-5","align-middle"],[1,"text-success","medium-icon","fs-5","align-middle"],[1,"text-primary","medium-icon","fs-5","align-middle"],[1,"link-primary","fs-6","me-4"],["matTreeNodePadding","","matTreeNodeToggle","",3,"cdkTreeNodeTypeaheadLabel"],["matMiniFab","","matTreeNodeToggle","",1,"neutral","me-2"],[1,"mat-icon-rtl-mirror"],[1,"text-danger","medium-icon","fs-5","align-middle","me-2"],[1,"text-success","medium-icon","fs-5","align-middle","me-2"]],template:function(t,i){t&1&&(s(0,"section",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"span",5),C(5),v(6,"translate"),L(7,"app-page-help-text",6),p()(),s(8,"div",7),H(9,Lt,6,4,"button",8),p()(),s(10,"mat-card",9)(11,"mat-card-content")(12,"div",10)(13,"div",11),ne(14,Qt,5,4,"div",12),p()()()()()()),t&2&&(u(4),h("dir",i.langDir),u(),Z("",E(6,5,"DOCUMENT_CATEGORIES")," "),u(2),h("code","DOCUMENT_CATEGORIES"),u(2),h("hasClaim","CREATE_CATEGORY"),u(5),re(i.categories&&i.categories.length>0?14:-1))},dependencies:[dt,nt,We,Qe,Ke,je,Ye,ze,$e,Dt,yt,xt,Et,vt,Ct,Xe,at,ot,st,ct,lt,qe],styles:["tr.example-detail-row[_ngcontent-%COMP%]{height:0!important;border-bottom:none}tr.example-detail-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{height:0!important;padding:0!important}.example-element-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0;padding:0!important}.example-element-detail[_ngcontent-%COMP%]{overflow:hidden;display:flex}.inner-table[_ngcontent-%COMP%]{margin:1em;padding:1em;width:100%!important}.border-none[_ngcontent-%COMP%]{border:none!important}.folder_shared[_ngcontent-%COMP%]{color:#f2d300;font-size:30px;margin-top:0;float:left}.shared-icon[_ngcontent-%COMP%]{max-height:21px;margin-top:-14px}.fwbolder[_ngcontent-%COMP%]{font-size:14px!important}@media (min-width: 320px) and (max-width: 480px){.fwbolder[_ngcontent-%COMP%]{font-size:9px!important}}"],changeDetection:0})};var he=class n extends le{constructor(e,t){super();this.categoryService=e;this.toastrService=t}categories$;archiveFoldersViewStore=c(it);foldersViewStore=c(tt);ngOnInit(){this.getCategories()}getCategories(){this.categories$=this.categoryService.getAllCategories(!0)}deleteCategory(e){this.categoryService.archiveFolder(e.id??"").subscribe(t=>{this.toastrService.success(this.translationService.getValue("CATEGORY_ARCHIVE_SUCCESSFULLY")),this.getCategories(),(e.parentId==this.foldersViewStore.selectedCategoryId()||e.id==null||this.foldersViewStore.selectedCategoryId()=="")&&this.foldersViewStore.loadCategoriesById(this.foldersViewStore.selectedCategoryId()),(e.parentId==this.archiveFoldersViewStore.selectedCategoryId()||e.id==null||this.archiveFoldersViewStore.selectedCategoryId()=="")&&this.archiveFoldersViewStore.loadCategoriesById(this.archiveFoldersViewStore.selectedCategoryId())})}manageCategory(e){this.getCategories()}refershCategories(){this.getCategories()}static \u0275fac=function(t){return new(t||n)(k(et),k(Je))};static \u0275cmp=I({type:n,selectors:[["app-category-list"]],features:[x],decls:2,vars:3,consts:[[3,"addEditCategoryHandler","deleteCategoryHandler","refershCategoriesHandler","categories"]],template:function(t,i){t&1&&(s(0,"app-category-list-presentation",0),v(1,"async"),f("addEditCategoryHandler",function(o){return i.manageCategory(o)})("deleteCategoryHandler",function(o){return i.deleteCategory(o)})("refershCategoriesHandler",function(){return i.refershCategories()}),p()),t&2&&h("categories",E(1,1,i.categories$))},dependencies:[_e,Ve],encapsulation:2})};var _n=[{path:"",component:he,data:{claimType:"VIEW_CATEGORIES"},canActivate:[rt]}];export{_n as CATEGORY_ROUTES};
